; Listing generated by Microsoft (R) Optimizing Compiler Version 19.00.23506.0 

	TITLE	C:\Users\Michel\Desktop\Source\GameServer\Source\KalimaGate.cpp
	.686P
	.XMM
	include listing.inc
	.model	flat

INCLUDELIB LIBCMT
INCLUDELIB OLDNAMES

_DATA	SEGMENT
?g_sttKALIMAGATE_LEVEL@@3PAU_KALIMAGATE_LEVEL@@A DD 028H ; g_sttKALIMAGATE_LEVEL
	DD	082H
	DD	014H
	DD	06eH
	DD	083H
	DD	0b4H
	DD	06fH
	DD	0a0H
	DD	0b5H
	DD	0e6H
	DD	0a1H
	DD	0d2H
	DD	0e7H
	DD	0118H
	DD	0d3H
	DD	0104H
	DD	0119H
	DD	014aH
	DD	0105H
	DD	0136H
	DD	014bH
	DD	015dH
	DD	0137H
	DD	015dH
	DD	015eH
	DD	0190H
	DD	015eH
	DD	0190H
_DATA	ENDS
PUBLIC	??_H@YGXPAXIIP6EPAX0@Z@Z			; `vector constructor iterator'
PUBLIC	?__empty_global_delete@@YAXPAX@Z		; __empty_global_delete
PUBLIC	?__empty_global_delete@@YAXPAXI@Z		; __empty_global_delete
PUBLIC	??1OBJECTSTRUCT@@QAE@XZ				; OBJECTSTRUCT::~OBJECTSTRUCT
PUBLIC	??_EOBJECTSTRUCT@@QAEPAXI@Z			; OBJECTSTRUCT::`vector deleting destructor'
PUBLIC	??0CKalimaGate@@QAE@XZ				; CKalimaGate::CKalimaGate
PUBLIC	??1CKalimaGate@@UAE@XZ				; CKalimaGate::~CKalimaGate
PUBLIC	?CreateKalimaGate@CKalimaGate@@QAEHHEEE@Z	; CKalimaGate::CreateKalimaGate
PUBLIC	?KalimaGateAct@CKalimaGate@@QAEXH@Z		; CKalimaGate::KalimaGateAct
PUBLIC	?CheckOverlapKundunMark@CKalimaGate@@QAEHHE@Z	; CKalimaGate::CheckOverlapKundunMark
PUBLIC	?DeleteKalimaGate@CKalimaGate@@QAEHH@Z		; CKalimaGate::DeleteKalimaGate
PUBLIC	?DeleteKalimaGate@CKalimaGate@@QAEHHH@Z		; CKalimaGate::DeleteKalimaGate
PUBLIC	?CreateKalimaGate2@CKalimaGate@@QAEHHHEE@Z	; CKalimaGate::CreateKalimaGate2
PUBLIC	?KalimaGateAct2@CKalimaGate@@QAEXH@Z		; CKalimaGate::KalimaGateAct2
PUBLIC	?GetKalimaGateLevel2@CKalimaGate@@QAEHH@Z	; CKalimaGate::GetKalimaGateLevel2
PUBLIC	?GetRandomLocation@CKalimaGate@@AAEHHAAE0@Z	; CKalimaGate::GetRandomLocation
PUBLIC	?GetKalimaGateLevel@CKalimaGate@@AAEHH@Z	; CKalimaGate::GetKalimaGateLevel
PUBLIC	??_GCKalimaGate@@UAEPAXI@Z			; CKalimaGate::`scalar deleting destructor'
PUBLIC	??_7CKalimaGate@@6B@				; CKalimaGate::`vftable'
PUBLIC	?g_KalimaGate@@3VCKalimaGate@@A			; g_KalimaGate
PUBLIC	??_C@_0CM@PDFGAPNC@?$FLKalima?$FN?5?$FL?$CFs?$FN?$FL?$CFs?$FN?5Try?5to?5Create?5@ ; `string'
PUBLIC	??_C@_0EN@GPHOBJAE@?$FLKalima?$FN?5?$FL?$CFs?$FN?$FL?$CFs?$FN?5Failed?5to?5Summ@ ; `string'
PUBLIC	??_C@_0FM@IGFLMFGN@?$FLKalima?$FN?5?$FL?$CFs?$FN?$FL?$CFs?$FN?5Failed?5to?5Summ@ ; `string'
PUBLIC	??_C@_0FE@NNCGKIKM@?$FLKalima?$FN?5?$FL?$CFs?$FN?$FL?$CFs?$FN?5Failed?5to?5Summ@ ; `string'
PUBLIC	??_C@_0GD@BNDCCFJF@?$FLKalima?$FN?5?$FL?$CFs?$FN?$FL?$CFs?$FN?5Failed?5to?5Summ@ ; `string'
PUBLIC	??_C@_0FM@OJLJJEMN@?$FLKalima?$FN?5?$FL?$CFs?$FN?$FL?$CFs?$FN?5Failed?5to?5Summ@ ; `string'
PUBLIC	??_C@_0EK@OMOPGPDM@?$FLKalima?$FN?5?$FL?$CFs?$FN?$FL?$CFs?$FN?5Kalima?5Gate?5Va@ ; `string'
PUBLIC	??_C@_0JE@GBKKIBCM@?$FLKalima?$FN?5?$FL?$CFs?$FN?$FL?$CFs?$FN?5Create?5Kalima?5@ ; `string'
PUBLIC	??_C@_0FC@ILNKILMI@?$FLKalima?$FN?5Kalima?5Gate?5Vanished?5?9?5@ ; `string'
PUBLIC	??_C@_0FH@INKPFMP@?$FLKalima?$FN?5?$FL?$CFs?$FN?$FL?$CFs?$FN?5Kalima?5Gate?5Va@ ; `string'
PUBLIC	??_C@_0FK@FFJOIHJB@?$FLKalima?$FN?5?$FL?$CFs?$FN?$FL?$CFs?$FN?5Kalima?5Gate?5Va@ ; `string'
PUBLIC	??_C@_0FC@CCIHPNEM@?$FLKalima?$FN?5?$FL?$CFs?$FN?$FL?$CFs?$FN?5Kalima?5Gate?5Va@ ; `string'
PUBLIC	??_C@_0DG@DFEBENJO@?$FLKalima?$FN?5?$FL?$CFs?$FN?$FL?$CFs?$FN?5?9?5?$FL?$CFs?$FN?$FL?$CFs?$FN?5mov@ ; `string'
PUBLIC	??_C@_0GD@MOAKLAME@?$FLKalima?$FN?5?$FL?$CFs?$FN?$FL?$CFs?$FN?5?9?5?$FL?$CFs?$FN?$FL?$CFs?$FN?5Tra@ ; `string'
PUBLIC	??_C@_0FF@FPKJHAJK@?$FLKalima?$FN?5DeleteKalimaGate?$CI?$CJ?5?9?5ou@ ; `string'
PUBLIC	??_C@_0EA@CCDLFCDJ@?$FLKalima?$FN?5DeleteKalimaGate?$CI?$CJ?5?9?5ou@ ; `string'
PUBLIC	??_C@_0DG@GKLFNKKH@?$FLKalima?$FN?5?$FL?$CFs?$FN?$FL?$CFs?$FN?5Try?5to?5Create?5@ ; `string'
PUBLIC	??_C@_0FA@KLLHPHHL@?$FLKalima?$FN?5?$FL?$CFs?$FN?$FL?$CFs?$FN?5Failed?5to?5Summ@ ; `string'
PUBLIC	??_C@_0FO@JJMJIIJC@?$FLKalima?$FN?5?$FL?$CFs?$FN?$FL?$CFs?$FN?5Failed?5to?5Summ@ ; `string'
PUBLIC	??_C@_0GN@ELAOECBK@?$FLKalima?$FN?5?$FL?$CFs?$FN?$FL?$CFs?$FN?5Failed?5to?5Summ@ ; `string'
PUBLIC	??_C@_0FE@DCIHOCIF@?$FLKalima?$FN?5?$FL?$CFs?$FN?$FL?$CFs?$FN?5Kalima?5Gate?5Va@ ; `string'
PUBLIC	??_C@_0JC@FDOJEAMO@?$FLKalima?$FN?5?$FL?$CFs?$FN?$FL?$CFs?$FN?5Create?5Kalima?5@ ; `string'
PUBLIC	??_C@_0FM@NCEGFJNE@?$FLKalima?$FN?5Kalima?5Gate?5Vanished?5?$CIN@ ; `string'
PUBLIC	??_C@_0FM@NAJNPHPN@?$FLKalima?$FN?5?$FL?$CFs?$FN?$FL?$CFs?$FN?5Kalima?5Gate?5Va@ ; `string'
PUBLIC	??_C@_0GN@EGMLLHID@?$FLKalima?$FN?5?$FL?$CFs?$FN?$FL?$CFs?$FN?5?9?5?$FL?$CFs?$FN?$FL?$CFs?$FN?5Tra@ ; `string'
PUBLIC	??_R4CKalimaGate@@6B@				; CKalimaGate::`RTTI Complete Object Locator'
PUBLIC	??_R0?AVCKalimaGate@@@8				; CKalimaGate `RTTI Type Descriptor'
PUBLIC	??_R3CKalimaGate@@8				; CKalimaGate::`RTTI Class Hierarchy Descriptor'
PUBLIC	??_R2CKalimaGate@@8				; CKalimaGate::`RTTI Base Class Array'
PUBLIC	??_R1A@?0A@EA@CKalimaGate@@8			; CKalimaGate::`RTTI Base Class Descriptor at (0,-1,0,64)'
EXTRN	??_M@YGXPAXIIP6EX0@Z@Z:PROC			; `eh vector destructor iterator'
EXTRN	??3@YAXPAXI@Z:PROC				; operator delete
EXTRN	??_V@YAXPAXI@Z:PROC				; operator delete[]
EXTRN	_atexit:PROC
EXTRN	__imp__InitializeCriticalSection@4:PROC
EXTRN	__imp__EnterCriticalSection@4:PROC
EXTRN	__imp__LeaveCriticalSection@4:PROC
EXTRN	__imp__DeleteCriticalSection@4:PROC
EXTRN	__imp__GetTickCount@0:PROC
EXTRN	_rand:PROC
EXTRN	?Get@Message@@QAEPADH@Z:PROC			; Message::Get
EXTRN	?IsItem@CItem@@QAEHXZ:PROC			; CItem::IsItem
EXTRN	??1CSkillDelay@@UAE@XZ:PROC			; CSkillDelay::~CSkillDelay
EXTRN	??1TMonsterAIAgro@@UAE@XZ:PROC			; TMonsterAIAgro::~TMonsterAIAgro
EXTRN	?GCServerMsgStringSend@@YAXPADHE@Z:PROC		; GCServerMsgStringSend
EXTRN	?GCDiePlayerSend@@YAXPAUOBJECTSTRUCT@@HGH@Z:PROC ; GCDiePlayerSend
EXTRN	?gObjCharZeroSet@@YAXH@Z:PROC			; gObjCharZeroSet
EXTRN	?gObjSetMonster@@YAHHH@Z:PROC			; gObjSetMonster
EXTRN	?gObjAddMonster@@YAFH@Z:PROC			; gObjAddMonster
EXTRN	?gObjDel@@YAFH@Z:PROC				; gObjDel
EXTRN	?gObjIsConnected@@YAHH@Z:PROC			; gObjIsConnected
EXTRN	?gObjMoveGate@@YAHHH@Z:PROC			; gObjMoveGate
EXTRN	?GetAttr@MapClass@@QAEEHH@Z:PROC		; MapClass::GetAttr
EXTRN	?GetAttr@CMonsterAttr@@QAEPAUMONSTER_ATTRIBUTE@@H@Z:PROC ; CMonsterAttr::GetAttr
EXTRN	??_ECKalimaGate@@UAEPAXI@Z:PROC			; CKalimaGate::`vector deleting destructor'
EXTRN	@__security_check_cookie@4:PROC
EXTRN	___CxxFrameHandler3:PROC
EXTRN	__except_handler4:PROC
EXTRN	__local_unwind4:PROC
EXTRN	??_7type_info@@6B@:QWORD			; type_info::`vftable'
EXTRN	?lMsg@@3VMessage@@A:BYTE			; lMsg
EXTRN	?LogAddTD@@3P6AXPADZZA:DWORD			; LogAddTD
EXTRN	?gObj@@3PAUOBJECTSTRUCT@@A:DWORD		; gObj
EXTRN	?MapC@@3PAVMapClass@@A:BYTE			; MapC
EXTRN	?gMAttr@@3VCMonsterAttr@@A:BYTE			; gMAttr
EXTRN	___security_cookie:DWORD
EXTRN	__fltused:DWORD
_BSS	SEGMENT
?g_KalimaGate@@3VCKalimaGate@@A DB 01cH DUP (?)		; g_KalimaGate
_BSS	ENDS
CRT$XCU	SEGMENT
?g_KalimaGate$initializer$@@3P6AXXZA DD FLAT:??__Eg_KalimaGate@@YAXXZ ; g_KalimaGate$initializer$
CRT$XCU	ENDS
;	COMDAT ??_R1A@?0A@EA@CKalimaGate@@8
rdata$r	SEGMENT
??_R1A@?0A@EA@CKalimaGate@@8 DD FLAT:??_R0?AVCKalimaGate@@@8 ; CKalimaGate::`RTTI Base Class Descriptor at (0,-1,0,64)'
	DD	00H
	DD	00H
	DD	0ffffffffH
	DD	00H
	DD	040H
	DD	FLAT:??_R3CKalimaGate@@8
rdata$r	ENDS
;	COMDAT ??_R2CKalimaGate@@8
rdata$r	SEGMENT
??_R2CKalimaGate@@8 DD FLAT:??_R1A@?0A@EA@CKalimaGate@@8 ; CKalimaGate::`RTTI Base Class Array'
rdata$r	ENDS
;	COMDAT ??_R3CKalimaGate@@8
rdata$r	SEGMENT
??_R3CKalimaGate@@8 DD 00H				; CKalimaGate::`RTTI Class Hierarchy Descriptor'
	DD	00H
	DD	01H
	DD	FLAT:??_R2CKalimaGate@@8
rdata$r	ENDS
;	COMDAT ??_R0?AVCKalimaGate@@@8
data$r	SEGMENT
??_R0?AVCKalimaGate@@@8 DD FLAT:??_7type_info@@6B@	; CKalimaGate `RTTI Type Descriptor'
	DD	00H
	DB	'.?AVCKalimaGate@@', 00H
data$r	ENDS
;	COMDAT ??_R4CKalimaGate@@6B@
rdata$r	SEGMENT
??_R4CKalimaGate@@6B@ DD 00H				; CKalimaGate::`RTTI Complete Object Locator'
	DD	00H
	DD	00H
	DD	FLAT:??_R0?AVCKalimaGate@@@8
	DD	FLAT:??_R3CKalimaGate@@8
rdata$r	ENDS
;	COMDAT ??_C@_0GN@EGMLLHID@?$FLKalima?$FN?5?$FL?$CFs?$FN?$FL?$CFs?$FN?5?9?5?$FL?$CFs?$FN?$FL?$CFs?$FN?5Tra@
CONST	SEGMENT
??_C@_0GN@EGMLLHID@?$FLKalima?$FN?5?$FL?$CFs?$FN?$FL?$CFs?$FN?5?9?5?$FL?$CFs?$FN?$FL?$CFs?$FN?5Tra@ DB '['
	DB	'Kalima] [%s][%s] - [%s][%s] Transported by Kalima Gate (NextM'
	DB	'ap) (SummonIndex:%d, GateNo.:%d, MapNumber:%d)', 00H ; `string'
CONST	ENDS
;	COMDAT ??_C@_0FM@NAJNPHPN@?$FLKalima?$FN?5?$FL?$CFs?$FN?$FL?$CFs?$FN?5Kalima?5Gate?5Va@
CONST	SEGMENT
??_C@_0FM@NAJNPHPN@?$FLKalima?$FN?5?$FL?$CFs?$FN?$FL?$CFs?$FN?5Kalima?5Gate?5Va@ DB '['
	DB	'Kalima] [%s][%s] Kalima Gate Vanished (NextMap) - Time Out (S'
	DB	'ummonIndex:%d, EnterCount:%d)', 00H		; `string'
CONST	ENDS
;	COMDAT ??_C@_0FM@NCEGFJNE@?$FLKalima?$FN?5Kalima?5Gate?5Vanished?5?$CIN@
CONST	SEGMENT
??_C@_0FM@NCEGFJNE@?$FLKalima?$FN?5Kalima?5Gate?5Vanished?5?$CIN@ DB '[Ka'
	DB	'lima] Kalima Gate Vanished (NextMap) - Summoner Vanished (Sum'
	DB	'monIndex:%d, EnterCount:%d)', 00H		; `string'
CONST	ENDS
;	COMDAT ??_C@_0JC@FDOJEAMO@?$FLKalima?$FN?5?$FL?$CFs?$FN?$FL?$CFs?$FN?5Create?5Kalima?5@
CONST	SEGMENT
??_C@_0JC@FDOJEAMO@?$FLKalima?$FN?5?$FL?$CFs?$FN?$FL?$CFs?$FN?5Create?5Kalima?5@ DB '['
	DB	'Kalima] [%s][%s] Create Kalima Gate Successfuly (NextMap) (Li'
	DB	've:%d, GateTick:%u, DieRegen:%d, Map:%d, X:%d, Y:%d, SummonIn'
	DB	'dex:%d, OwnerIndex:%d)', 00H		; `string'
CONST	ENDS
;	COMDAT ??_C@_0FE@DCIHOCIF@?$FLKalima?$FN?5?$FL?$CFs?$FN?$FL?$CFs?$FN?5Kalima?5Gate?5Va@
CONST	SEGMENT
??_C@_0FE@DCIHOCIF@?$FLKalima?$FN?5?$FL?$CFs?$FN?$FL?$CFs?$FN?5Kalima?5Gate?5Va@ DB '['
	DB	'Kalima] [%s][%s] Kalima Gate Vanished (NextMap) - lpMATTR == '
	DB	'NULL (SummonIndex:%d)', 00H			; `string'
CONST	ENDS
;	COMDAT ??_C@_0GN@ELAOECBK@?$FLKalima?$FN?5?$FL?$CFs?$FN?$FL?$CFs?$FN?5Failed?5to?5Summ@
CONST	SEGMENT
??_C@_0GN@ELAOECBK@?$FLKalima?$FN?5?$FL?$CFs?$FN?$FL?$CFs?$FN?5Failed?5to?5Summ@ DB '['
	DB	'Kalima] [%s][%s] Failed to Summon Kalima Gate (NextMap) - Fai'
	DB	'led to get Location (MapNumber:%d, X:%d, Y:%d)', 00H ; `string'
CONST	ENDS
;	COMDAT ??_C@_0FO@JJMJIIJC@?$FLKalima?$FN?5?$FL?$CFs?$FN?$FL?$CFs?$FN?5Failed?5to?5Summ@
CONST	SEGMENT
??_C@_0FO@JJMJIIJC@?$FLKalima?$FN?5?$FL?$CFs?$FN?$FL?$CFs?$FN?5Failed?5to?5Summ@ DB '['
	DB	'Kalima] [%s][%s] Failed to Summon Kalima Gate (NextMap) - Alr'
	DB	'eady Have Gate (SummonIndex:%d)', 00H	; `string'
CONST	ENDS
;	COMDAT ??_C@_0FA@KLLHPHHL@?$FLKalima?$FN?5?$FL?$CFs?$FN?$FL?$CFs?$FN?5Failed?5to?5Summ@
CONST	SEGMENT
??_C@_0FA@KLLHPHHL@?$FLKalima?$FN?5?$FL?$CFs?$FN?$FL?$CFs?$FN?5Failed?5to?5Summ@ DB '['
	DB	'Kalima] [%s][%s] Failed to Summon Kalima Gate (NextMap) - Map'
	DB	'Number Error : %d', 00H			; `string'
CONST	ENDS
;	COMDAT ??_C@_0DG@GKLFNKKH@?$FLKalima?$FN?5?$FL?$CFs?$FN?$FL?$CFs?$FN?5Try?5to?5Create?5@
CONST	SEGMENT
??_C@_0DG@GKLFNKKH@?$FLKalima?$FN?5?$FL?$CFs?$FN?$FL?$CFs?$FN?5Try?5to?5Create?5@ DB '['
	DB	'Kalima] [%s][%s] Try to Create Kalima Gate (NextMap)', 00H ; `string'
CONST	ENDS
;	COMDAT ??_C@_0EA@CCDLFCDJ@?$FLKalima?$FN?5DeleteKalimaGate?$CI?$CJ?5?9?5ou@
CONST	SEGMENT
??_C@_0EA@CCDLFCDJ@?$FLKalima?$FN?5DeleteKalimaGate?$CI?$CJ?5?9?5ou@ DB '['
	DB	'Kalima] DeleteKalimaGate() - out of Index (iCallOwnerIndex:%d'
	DB	')', 00H					; `string'
CONST	ENDS
;	COMDAT ??_C@_0FF@FPKJHAJK@?$FLKalima?$FN?5DeleteKalimaGate?$CI?$CJ?5?9?5ou@
CONST	SEGMENT
??_C@_0FF@FPKJHAJK@?$FLKalima?$FN?5DeleteKalimaGate?$CI?$CJ?5?9?5ou@ DB '['
	DB	'Kalima] DeleteKalimaGate() - out of Index (iKalimaGateIndex:%'
	DB	'd, iCallOwnerIndex:%d)', 00H		; `string'
CONST	ENDS
;	COMDAT ??_C@_0GD@MOAKLAME@?$FLKalima?$FN?5?$FL?$CFs?$FN?$FL?$CFs?$FN?5?9?5?$FL?$CFs?$FN?$FL?$CFs?$FN?5Tra@
CONST	SEGMENT
??_C@_0GD@MOAKLAME@?$FLKalima?$FN?5?$FL?$CFs?$FN?$FL?$CFs?$FN?5?9?5?$FL?$CFs?$FN?$FL?$CFs?$FN?5Tra@ DB '['
	DB	'Kalima] [%s][%s] - [%s][%s] Transported by Kalima Gate (Summo'
	DB	'nIndex:%d, GateNo.:%d, MapNumber:%d)', 00H	; `string'
CONST	ENDS
;	COMDAT ??_C@_0DG@DFEBENJO@?$FLKalima?$FN?5?$FL?$CFs?$FN?$FL?$CFs?$FN?5?9?5?$FL?$CFs?$FN?$FL?$CFs?$FN?5mov@
CONST	SEGMENT
??_C@_0DG@DFEBENJO@?$FLKalima?$FN?5?$FL?$CFs?$FN?$FL?$CFs?$FN?5?9?5?$FL?$CFs?$FN?$FL?$CFs?$FN?5mov@ DB '['
	DB	'Kalima] [%s][%s] - [%s][%s] move fail (MapNumber:%d)', 00H ; `string'
CONST	ENDS
;	COMDAT ??_C@_0FC@CCIHPNEM@?$FLKalima?$FN?5?$FL?$CFs?$FN?$FL?$CFs?$FN?5Kalima?5Gate?5Va@
CONST	SEGMENT
??_C@_0FC@CCIHPNEM@?$FLKalima?$FN?5?$FL?$CFs?$FN?$FL?$CFs?$FN?5Kalima?5Gate?5Va@ DB '['
	DB	'Kalima] [%s][%s] Kalima Gate Vanished - Time Out (SummonIndex'
	DB	':%d, EnterCount:%d)', 00H			; `string'
CONST	ENDS
;	COMDAT ??_C@_0FK@FFJOIHJB@?$FLKalima?$FN?5?$FL?$CFs?$FN?$FL?$CFs?$FN?5Kalima?5Gate?5Va@
CONST	SEGMENT
??_C@_0FK@FFJOIHJB@?$FLKalima?$FN?5?$FL?$CFs?$FN?$FL?$CFs?$FN?5Kalima?5Gate?5Va@ DB '['
	DB	'Kalima] [%s][%s] Kalima Gate Vanished - Enter Count Over (Sum'
	DB	'monIndex:%d, EnterCount:%d)', 00H		; `string'
CONST	ENDS
;	COMDAT ??_C@_0FH@INKPFMP@?$FLKalima?$FN?5?$FL?$CFs?$FN?$FL?$CFs?$FN?5Kalima?5Gate?5Va@
CONST	SEGMENT
??_C@_0FH@INKPFMP@?$FLKalima?$FN?5?$FL?$CFs?$FN?$FL?$CFs?$FN?5Kalima?5Gate?5Va@ DB '['
	DB	'Kalima] [%s][%s] Kalima Gate Vanished - Summoner Died (Summon'
	DB	'Index:%d, EnterCount:%d)', 00H		; `string'
CONST	ENDS
;	COMDAT ??_C@_0FC@ILNKILMI@?$FLKalima?$FN?5Kalima?5Gate?5Vanished?5?9?5@
CONST	SEGMENT
??_C@_0FC@ILNKILMI@?$FLKalima?$FN?5Kalima?5Gate?5Vanished?5?9?5@ DB '[Kal'
	DB	'ima] Kalima Gate Vanished - Summoner Vanished (SummonIndex:%d'
	DB	', EnterCount:%d)', 00H			; `string'
CONST	ENDS
;	COMDAT ??_C@_0JE@GBKKIBCM@?$FLKalima?$FN?5?$FL?$CFs?$FN?$FL?$CFs?$FN?5Create?5Kalima?5@
CONST	SEGMENT
??_C@_0JE@GBKKIBCM@?$FLKalima?$FN?5?$FL?$CFs?$FN?$FL?$CFs?$FN?5Create?5Kalima?5@ DB '['
	DB	'Kalima] [%s][%s] Create Kalima Gate Successfuly (Live:%d, Gat'
	DB	'eTick:%u, DieRegen:%d, Map:%d, X:%d, Y:%d, SummonIndex:%d, Ow'
	DB	'nerIndex:%d, GateNo.:%d)', 00H		; `string'
CONST	ENDS
;	COMDAT ??_C@_0EK@OMOPGPDM@?$FLKalima?$FN?5?$FL?$CFs?$FN?$FL?$CFs?$FN?5Kalima?5Gate?5Va@
CONST	SEGMENT
??_C@_0EK@OMOPGPDM@?$FLKalima?$FN?5?$FL?$CFs?$FN?$FL?$CFs?$FN?5Kalima?5Gate?5Va@ DB '['
	DB	'Kalima] [%s][%s] Kalima Gate Vanished - lpMATTR == NULL (Summ'
	DB	'onIndex:%d)', 00H				; `string'
CONST	ENDS
;	COMDAT ??_C@_0FM@OJLJJEMN@?$FLKalima?$FN?5?$FL?$CFs?$FN?$FL?$CFs?$FN?5Failed?5to?5Summ@
CONST	SEGMENT
??_C@_0FM@OJLJJEMN@?$FLKalima?$FN?5?$FL?$CFs?$FN?$FL?$CFs?$FN?5Failed?5to?5Summ@ DB '['
	DB	'Kalima] [%s][%s] Failed to Summon Kalima Gate - Uable to Summ'
	DB	'on in this Map (MapNumber:%d)', 00H		; `string'
CONST	ENDS
;	COMDAT ??_C@_0GD@BNDCCFJF@?$FLKalima?$FN?5?$FL?$CFs?$FN?$FL?$CFs?$FN?5Failed?5to?5Summ@
CONST	SEGMENT
??_C@_0GD@BNDCCFJF@?$FLKalima?$FN?5?$FL?$CFs?$FN?$FL?$CFs?$FN?5Failed?5to?5Summ@ DB '['
	DB	'Kalima] [%s][%s] Failed to Summon Kalima Gate - Failed to get'
	DB	' Location (MapNumber:%d, X:%d, Y:%d)', 00H	; `string'
CONST	ENDS
;	COMDAT ??_C@_0FE@NNCGKIKM@?$FLKalima?$FN?5?$FL?$CFs?$FN?$FL?$CFs?$FN?5Failed?5to?5Summ@
CONST	SEGMENT
??_C@_0FE@NNCGKIKM@?$FLKalima?$FN?5?$FL?$CFs?$FN?$FL?$CFs?$FN?5Failed?5to?5Summ@ DB '['
	DB	'Kalima] [%s][%s] Failed to Summon Kalima Gate - Already Have '
	DB	'Gate (SummonIndex:%d)', 00H			; `string'
CONST	ENDS
;	COMDAT ??_C@_0FM@IGFLMFGN@?$FLKalima?$FN?5?$FL?$CFs?$FN?$FL?$CFs?$FN?5Failed?5to?5Summ@
CONST	SEGMENT
??_C@_0FM@IGFLMFGN@?$FLKalima?$FN?5?$FL?$CFs?$FN?$FL?$CFs?$FN?5Failed?5to?5Summ@ DB '['
	DB	'Kalima] [%s][%s] Failed to Summon Kalima Gate - Called in Saf'
	DB	'tey Area (Map:%d, X:%d, Y:%d)', 00H		; `string'
CONST	ENDS
;	COMDAT ??_C@_0EN@GPHOBJAE@?$FLKalima?$FN?5?$FL?$CFs?$FN?$FL?$CFs?$FN?5Failed?5to?5Summ@
CONST	SEGMENT
??_C@_0EN@GPHOBJAE@?$FLKalima?$FN?5?$FL?$CFs?$FN?$FL?$CFs?$FN?5Failed?5to?5Summ@ DB '['
	DB	'Kalima] [%s][%s] Failed to Summon Kalima Gate - Gate Level Ch'
	DB	'eck Error : %d', 00H			; `string'
CONST	ENDS
;	COMDAT ??_C@_0CM@PDFGAPNC@?$FLKalima?$FN?5?$FL?$CFs?$FN?$FL?$CFs?$FN?5Try?5to?5Create?5@
CONST	SEGMENT
??_C@_0CM@PDFGAPNC@?$FLKalima?$FN?5?$FL?$CFs?$FN?$FL?$CFs?$FN?5Try?5to?5Create?5@ DB '['
	DB	'Kalima] [%s][%s] Try to Create Kalima Gate', 00H ; `string'
CONST	ENDS
;	COMDAT ??_7CKalimaGate@@6B@
CONST	SEGMENT
??_7CKalimaGate@@6B@ DD FLAT:??_R4CKalimaGate@@6B@	; CKalimaGate::`vftable'
	DD	FLAT:??_ECKalimaGate@@UAEPAXI@Z
CONST	ENDS
_DATA	SEGMENT
?g_iKalimaGateGateIndex@@3PAHA DD 058H			; g_iKalimaGateGateIndex
	DD	059H
	DD	05aH
	DD	05bH
	DD	05cH
	DD	05dH
	DD	074H
_DATA	ENDS
;	COMDAT xdata$x
xdata$x	SEGMENT
__sehtable$?CreateKalimaGate2@CKalimaGate@@QAEHHHEE@Z DD 0fffffffeH
	DD	00H
	DD	0ffffffccH
	DD	00H
	DD	0fffffffeH
	DD	00H
	DD	FLAT:$LN19@CreateKali
xdata$x	ENDS
;	COMDAT xdata$x
xdata$x	SEGMENT
__sehtable$?DeleteKalimaGate@CKalimaGate@@QAEHHH@Z DD 0fffffffeH
	DD	00H
	DD	0ffffffd4H
	DD	00H
	DD	0fffffffeH
	DD	00H
	DD	FLAT:$LN17@DeleteKali
xdata$x	ENDS
;	COMDAT xdata$x
xdata$x	SEGMENT
__sehtable$?CreateKalimaGate@CKalimaGate@@QAEHHEEE@Z DD 0fffffffeH
	DD	00H
	DD	0ffffffc0H
	DD	00H
	DD	0fffffffeH
	DD	00H
	DD	FLAT:$LN53@CreateKali
xdata$x	ENDS
;	COMDAT xdata$x
xdata$x	SEGMENT
__ehfuncinfo$??_EOBJECTSTRUCT@@QAEPAXI@Z DD 019930522H
	DD	00H
	DD	00H
	DD	2 DUP(00H)
	DD	2 DUP(00H)
	DD	00H
	DD	05H
xdata$x	ENDS
; Function compile flags: /Ogtp
;	COMDAT ??__Fg_KalimaGate@@YAXXZ
text$yd	SEGMENT
??__Fg_KalimaGate@@YAXXZ PROC				; `dynamic atexit destructor for 'g_KalimaGate'', COMDAT
  00000	b9 00 00 00 00	 mov	 ecx, OFFSET ?g_KalimaGate@@3VCKalimaGate@@A ; g_KalimaGate
  00005	e9 00 00 00 00	 jmp	 ??1CKalimaGate@@UAE@XZ	; CKalimaGate::~CKalimaGate
??__Fg_KalimaGate@@YAXXZ ENDP				; `dynamic atexit destructor for 'g_KalimaGate''
text$yd	ENDS
; Function compile flags: /Ogtp
; File c:\users\michel\desktop\source\gameserver\source\kalimagate.cpp
;	COMDAT ??__Eg_KalimaGate@@YAXXZ
text$di	SEGMENT
??__Eg_KalimaGate@@YAXXZ PROC				; `dynamic initializer for 'g_KalimaGate'', COMDAT

; 17   : CKalimaGate g_KalimaGate;

  00000	b9 00 00 00 00	 mov	 ecx, OFFSET ?g_KalimaGate@@3VCKalimaGate@@A ; g_KalimaGate
  00005	e8 00 00 00 00	 call	 ??0CKalimaGate@@QAE@XZ	; CKalimaGate::CKalimaGate
  0000a	68 00 00 00 00	 push	 OFFSET ??__Fg_KalimaGate@@YAXXZ ; `dynamic atexit destructor for 'g_KalimaGate''
  0000f	e8 00 00 00 00	 call	 _atexit
  00014	59		 pop	 ecx
  00015	c3		 ret	 0
??__Eg_KalimaGate@@YAXXZ ENDP				; `dynamic initializer for 'g_KalimaGate''
text$di	ENDS
; Function compile flags: /Ogtp
;	COMDAT ??_GCKalimaGate@@UAEPAXI@Z
_TEXT	SEGMENT
___flags$ = 8						; size = 4
??_GCKalimaGate@@UAEPAXI@Z PROC				; CKalimaGate::`scalar deleting destructor', COMDAT
; _this$ = ecx
  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	56		 push	 esi
  00004	8b f1		 mov	 esi, ecx
  00006	e8 00 00 00 00	 call	 ??1CKalimaGate@@UAE@XZ	; CKalimaGate::~CKalimaGate
  0000b	f6 45 08 01	 test	 BYTE PTR ___flags$[ebp], 1
  0000f	74 0b		 je	 SHORT $LN4@scalar
  00011	6a 1c		 push	 28			; 0000001cH
  00013	56		 push	 esi
  00014	e8 00 00 00 00	 call	 ??3@YAXPAXI@Z		; operator delete
  00019	83 c4 08	 add	 esp, 8
$LN4@scalar:
  0001c	8b c6		 mov	 eax, esi
  0001e	5e		 pop	 esi
  0001f	5d		 pop	 ebp
  00020	c2 04 00	 ret	 4
??_GCKalimaGate@@UAEPAXI@Z ENDP				; CKalimaGate::`scalar deleting destructor'
_TEXT	ENDS
; Function compile flags: /Ogtp
; File c:\users\michel\desktop\source\gameserver\source\kalimagate.cpp
;	COMDAT ?GetKalimaGateLevel@CKalimaGate@@AAEHH@Z
_TEXT	SEGMENT
_iIndex$ = 8						; size = 4
?GetKalimaGateLevel@CKalimaGate@@AAEHH@Z PROC		; CKalimaGate::GetKalimaGateLevel, COMDAT
; _this$ = ecx

; 412  : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp

; 413  : 	if ( gObj[iIndex].Class == CLASS_MAGUMSA || gObj[iIndex].Class == CLASS_DARKLORD || gObj[iIndex].Class == CLASS_FIGHTER )	// DarkLord and MagicGLadiaro

  00003	69 55 08 40 27
	00 00		 imul	 edx, DWORD PTR _iIndex$[ebp], 10048
  0000a	03 15 00 00 00
	00		 add	 edx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  00010	0f b7 82 90 00
	00 00		 movzx	 eax, WORD PTR [edx+144]
  00017	83 f8 03	 cmp	 eax, 3
  0001a	74 36		 je	 SHORT $LN10@GetKalimaG
  0001c	83 f8 04	 cmp	 eax, 4
  0001f	74 31		 je	 SHORT $LN10@GetKalimaG
  00021	83 f8 06	 cmp	 eax, 6
  00024	74 2c		 je	 SHORT $LN10@GetKalimaG

; 429  : 		{
; 430  : 			if ( gObj[iIndex].Level >= g_sttKALIMAGATE_LEVEL[i].iLOWER_BOUND )

  00026	0f b7 82 96 00
	00 00		 movzx	 eax, WORD PTR [edx+150]
  0002d	33 c9		 xor	 ecx, ecx
  0002f	0f bf d0	 movsx	 edx, ax
  00032	b8 04 00 00 00	 mov	 eax, OFFSET ?g_sttKALIMAGATE_LEVEL@@3PAU_KALIMAGATE_LEVEL@@A+4
$LL7@GetKalimaG:
  00037	3b 50 fc	 cmp	 edx, DWORD PTR [eax-4]
  0003a	7c 04		 jl	 SHORT $LN5@GetKalimaG

; 431  : 			{
; 432  : 				if ( gObj[iIndex].Level <= g_sttKALIMAGATE_LEVEL[i].iUPPER_BOUND )

  0003c	3b 10		 cmp	 edx, DWORD PTR [eax]
  0003e	7e 3e		 jle	 SHORT $LN19@GetKalimaG
$LN5@GetKalimaG:

; 422  : 				}
; 423  : 			}
; 424  : 		}
; 425  : 	}
; 426  : 	else
; 427  : 	{
; 428  : 		for ( int i =0;i<KALIMA_FLOORS;i++)

  00040	83 c0 10	 add	 eax, 16			; 00000010H
  00043	41		 inc	 ecx
  00044	3d 74 00 00 00	 cmp	 eax, OFFSET ?g_sttKALIMAGATE_LEVEL@@3PAU_KALIMAGATE_LEVEL@@A+116
  00049	7c ec		 jl	 SHORT $LL7@GetKalimaG

; 433  : 				{
; 434  : 					return i;
; 435  : 				}
; 436  : 			}
; 437  : 		}
; 438  : 	}
; 439  : 	return -1;

  0004b	83 c8 ff	 or	 eax, -1

; 440  : }

  0004e	5d		 pop	 ebp
  0004f	c2 04 00	 ret	 4
$LN10@GetKalimaG:

; 416  : 		{
; 417  : 			if ( gObj[iIndex].Level >= g_sttKALIMAGATE_LEVEL[i].iLOWER_BOUND_MAGUMSA )

  00052	0f b7 82 96 00
	00 00		 movzx	 eax, WORD PTR [edx+150]
  00059	33 c9		 xor	 ecx, ecx
  0005b	0f bf d0	 movsx	 edx, ax
  0005e	b8 0c 00 00 00	 mov	 eax, OFFSET ?g_sttKALIMAGATE_LEVEL@@3PAU_KALIMAGATE_LEVEL@@A+12
$LL4@GetKalimaG:
  00063	3b 50 fc	 cmp	 edx, DWORD PTR [eax-4]
  00066	7c 04		 jl	 SHORT $LN2@GetKalimaG

; 418  : 			{
; 419  : 				if ( gObj[iIndex].Level <= g_sttKALIMAGATE_LEVEL[i].iUPPER_BOUND_MAGUMSA )

  00068	3b 10		 cmp	 edx, DWORD PTR [eax]
  0006a	7e 12		 jle	 SHORT $LN19@GetKalimaG
$LN2@GetKalimaG:

; 414  : 	{
; 415  : 		for ( int i =0;i<KALIMA_FLOORS;i++)

  0006c	83 c0 10	 add	 eax, 16			; 00000010H
  0006f	41		 inc	 ecx
  00070	3d 7c 00 00 00	 cmp	 eax, OFFSET ?g_sttKALIMAGATE_LEVEL@@3PAU_KALIMAGATE_LEVEL@@A+124
  00075	7c ec		 jl	 SHORT $LL4@GetKalimaG

; 433  : 				{
; 434  : 					return i;
; 435  : 				}
; 436  : 			}
; 437  : 		}
; 438  : 	}
; 439  : 	return -1;

  00077	83 c8 ff	 or	 eax, -1

; 440  : }

  0007a	5d		 pop	 ebp
  0007b	c2 04 00	 ret	 4
$LN19@GetKalimaG:

; 420  : 				{
; 421  : 					return i;

  0007e	8b c1		 mov	 eax, ecx

; 440  : }

  00080	5d		 pop	 ebp
  00081	c2 04 00	 ret	 4
?GetKalimaGateLevel@CKalimaGate@@AAEHH@Z ENDP		; CKalimaGate::GetKalimaGateLevel
_TEXT	ENDS
; Function compile flags: /Ogtp
; File c:\users\michel\desktop\source\gameserver\source\kalimagate.cpp
;	COMDAT ?GetRandomLocation@CKalimaGate@@AAEHHAAE0@Z
_TEXT	SEGMENT
_iUY$1$ = -4						; size = 4
tv158 = 8						; size = 4
_iMapNumber$ = 8					; size = 4
_iUX$1$ = 12						; size = 4
_cX$ = 12						; size = 4
_cY$ = 16						; size = 4
?GetRandomLocation@CKalimaGate@@AAEHHAAE0@Z PROC	; CKalimaGate::GetRandomLocation, COMDAT
; _this$ = ecx

; 383  : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	51		 push	 ecx
  00004	53		 push	 ebx
  00005	56		 push	 esi
  00006	57		 push	 edi

; 384  : 	int iCount = 100;
; 385  : 	int iUX = cX;

  00007	8b 7d 0c	 mov	 edi, DWORD PTR _cX$[ebp]
  0000a	be 64 00 00 00	 mov	 esi, 100		; 00000064H
  0000f	0f b6 07	 movzx	 eax, BYTE PTR [edi]
  00012	89 45 0c	 mov	 DWORD PTR _iUX$1$[ebp], eax

; 386  : 	int iUY = cY;

  00015	8b 45 10	 mov	 eax, DWORD PTR _cY$[ebp]
  00018	0f b6 00	 movzx	 eax, BYTE PTR [eax]
  0001b	89 45 fc	 mov	 DWORD PTR _iUY$1$[ebp], eax
  0001e	69 45 08 28 38
	05 00		 imul	 eax, DWORD PTR _iMapNumber$[ebp], 342056
  00025	8d 80 00 00 00
	00		 lea	 eax, DWORD PTR ?MapC@@3PAVMapClass@@A[eax]
  0002b	89 45 08	 mov	 DWORD PTR tv158[ebp], eax
  0002e	66 90		 npad	 2
$LL2@GetRandomL:

; 387  : 
; 388  : 	while ( iCount-- > 0 )

  00030	4e		 dec	 esi

; 389  : 	{
; 390  : 		cX = ( rand() %6) * (((rand()%2==0)?-1:1)) + iUX;

  00031	e8 00 00 00 00	 call	 _rand
  00036	8b d8		 mov	 ebx, eax
  00038	81 e3 01 00 00
	80		 and	 ebx, -2147483647	; 80000001H
  0003e	79 05		 jns	 SHORT $LN11@GetRandomL
  00040	4b		 dec	 ebx
  00041	83 cb fe	 or	 ebx, -2			; fffffffeH
  00044	43		 inc	 ebx
$LN11@GetRandomL:
  00045	f7 db		 neg	 ebx
  00047	1a db		 sbb	 bl, bl
  00049	80 e3 02	 and	 bl, 2
  0004c	fe cb		 dec	 bl
  0004e	e8 00 00 00 00	 call	 _rand
  00053	99		 cdq
  00054	b9 06 00 00 00	 mov	 ecx, 6
  00059	f7 f9		 idiv	 ecx
  0005b	0f b6 c3	 movzx	 eax, bl
  0005e	0f b6 ca	 movzx	 ecx, dl
  00061	0f af c8	 imul	 ecx, eax
  00064	02 4d 0c	 add	 cl, BYTE PTR _iUX$1$[ebp]
  00067	88 0f		 mov	 BYTE PTR [edi], cl

; 391  : 		cY = (rand()%6) * (((rand()%2==0)?-1:1)) + iUY;

  00069	e8 00 00 00 00	 call	 _rand
  0006e	8b d8		 mov	 ebx, eax
  00070	81 e3 01 00 00
	80		 and	 ebx, -2147483647	; 80000001H
  00076	79 05		 jns	 SHORT $LN12@GetRandomL
  00078	4b		 dec	 ebx
  00079	83 cb fe	 or	 ebx, -2			; fffffffeH
  0007c	43		 inc	 ebx
$LN12@GetRandomL:
  0007d	f7 db		 neg	 ebx
  0007f	1a db		 sbb	 bl, bl
  00081	80 e3 02	 and	 bl, 2
  00084	fe cb		 dec	 bl
  00086	e8 00 00 00 00	 call	 _rand
  0008b	99		 cdq
  0008c	b9 06 00 00 00	 mov	 ecx, 6
  00091	f7 f9		 idiv	 ecx
  00093	0f b6 c3	 movzx	 eax, bl
  00096	0f b6 ca	 movzx	 ecx, dl
  00099	0f af c8	 imul	 ecx, eax
  0009c	8b 45 10	 mov	 eax, DWORD PTR _cY$[ebp]
  0009f	02 4d fc	 add	 cl, BYTE PTR _iUY$1$[ebp]
  000a2	88 08		 mov	 BYTE PTR [eax], cl

; 392  : 
; 393  : 		BYTE btMapAttr = MapC[iMapNumber].GetAttr(cX,cY);

  000a4	0f b6 c1	 movzx	 eax, cl
  000a7	8b 4d 08	 mov	 ecx, DWORD PTR tv158[ebp]
  000aa	50		 push	 eax
  000ab	0f b6 07	 movzx	 eax, BYTE PTR [edi]
  000ae	50		 push	 eax
  000af	e8 00 00 00 00	 call	 ?GetAttr@MapClass@@QAEEHH@Z ; MapClass::GetAttr

; 394  : 
; 395  : 		if ( btMapAttr == 0 )

  000b4	84 c0		 test	 al, al
  000b6	74 13		 je	 SHORT $LN7@GetRandomL

; 387  : 
; 388  : 	while ( iCount-- > 0 )

  000b8	85 f6		 test	 esi, esi
  000ba	0f 8f 70 ff ff
	ff		 jg	 $LL2@GetRandomL

; 398  : 		}
; 399  : 	}
; 400  : 
; 401  : 	return FALSE;

  000c0	5f		 pop	 edi
  000c1	5e		 pop	 esi
  000c2	33 c0		 xor	 eax, eax
  000c4	5b		 pop	 ebx

; 402  : }

  000c5	8b e5		 mov	 esp, ebp
  000c7	5d		 pop	 ebp
  000c8	c2 0c 00	 ret	 12			; 0000000cH
$LN7@GetRandomL:
  000cb	5f		 pop	 edi
  000cc	5e		 pop	 esi

; 396  : 		{
; 397  : 			return TRUE;

  000cd	b8 01 00 00 00	 mov	 eax, 1
  000d2	5b		 pop	 ebx

; 402  : }

  000d3	8b e5		 mov	 esp, ebp
  000d5	5d		 pop	 ebp
  000d6	c2 0c 00	 ret	 12			; 0000000cH
?GetRandomLocation@CKalimaGate@@AAEHHAAE0@Z ENDP	; CKalimaGate::GetRandomLocation
_TEXT	ENDS
; Function compile flags: /Ogtp
; File c:\users\michel\desktop\source\gameserver\source\kalimagate.cpp
;	COMDAT ?GetKalimaGateLevel2@CKalimaGate@@QAEHH@Z
_TEXT	SEGMENT
_iIndex$ = 8						; size = 4
?GetKalimaGateLevel2@CKalimaGate@@QAEHH@Z PROC		; CKalimaGate::GetKalimaGateLevel2, COMDAT
; _this$ = ecx

; 735  : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp

; 736  : 	if ( gObj[iIndex].Class == CLASS_MAGUMSA || gObj[iIndex].Class == CLASS_DARKLORD )	// DarkLord and MagicGLadiaro

  00003	69 4d 08 40 27
	00 00		 imul	 ecx, DWORD PTR _iIndex$[ebp], 10048
  0000a	a1 00 00 00 00	 mov	 eax, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  0000f	03 c1		 add	 eax, ecx
  00011	0f b7 88 90 00
	00 00		 movzx	 ecx, WORD PTR [eax+144]
  00018	83 f9 03	 cmp	 ecx, 3
  0001b	74 31		 je	 SHORT $LN10@GetKalimaG
  0001d	83 f9 04	 cmp	 ecx, 4
  00020	74 2c		 je	 SHORT $LN10@GetKalimaG

; 752  : 		{
; 753  : 			if ( gObj[iIndex].Level >= g_sttKALIMAGATE_LEVEL[i].iLOWER_BOUND )

  00022	0f b7 80 96 00
	00 00		 movzx	 eax, WORD PTR [eax+150]
  00029	33 c9		 xor	 ecx, ecx
  0002b	0f bf d0	 movsx	 edx, ax
  0002e	b8 04 00 00 00	 mov	 eax, OFFSET ?g_sttKALIMAGATE_LEVEL@@3PAU_KALIMAGATE_LEVEL@@A+4
$LL7@GetKalimaG:
  00033	3b 50 fc	 cmp	 edx, DWORD PTR [eax-4]
  00036	7c 04		 jl	 SHORT $LN5@GetKalimaG

; 754  : 			{
; 755  : 				if ( gObj[iIndex].Level <= g_sttKALIMAGATE_LEVEL[i].iUPPER_BOUND )

  00038	3b 10		 cmp	 edx, DWORD PTR [eax]
  0003a	7e 3f		 jle	 SHORT $LN19@GetKalimaG
$LN5@GetKalimaG:

; 745  : 				}
; 746  : 			}
; 747  : 		}
; 748  : 	}
; 749  : 	else
; 750  : 	{
; 751  : 		for ( int i =0;i<KALIMA_FLOORS;i++)

  0003c	83 c0 10	 add	 eax, 16			; 00000010H
  0003f	41		 inc	 ecx
  00040	3d 74 00 00 00	 cmp	 eax, OFFSET ?g_sttKALIMAGATE_LEVEL@@3PAU_KALIMAGATE_LEVEL@@A+116
  00045	7c ec		 jl	 SHORT $LL7@GetKalimaG

; 756  : 				{
; 757  : 					return i;
; 758  : 				}
; 759  : 			}
; 760  : 		}
; 761  : 	}
; 762  : 	return -1;

  00047	83 c8 ff	 or	 eax, -1

; 763  : }

  0004a	5d		 pop	 ebp
  0004b	c2 04 00	 ret	 4
$LN10@GetKalimaG:

; 739  : 		{
; 740  : 			if ( gObj[iIndex].Level >= g_sttKALIMAGATE_LEVEL[i].iLOWER_BOUND_MAGUMSA )

  0004e	0f b7 80 96 00
	00 00		 movzx	 eax, WORD PTR [eax+150]
  00055	33 c9		 xor	 ecx, ecx
  00057	0f bf d0	 movsx	 edx, ax
  0005a	b8 0c 00 00 00	 mov	 eax, OFFSET ?g_sttKALIMAGATE_LEVEL@@3PAU_KALIMAGATE_LEVEL@@A+12
  0005f	90		 npad	 1
$LL4@GetKalimaG:
  00060	3b 50 fc	 cmp	 edx, DWORD PTR [eax-4]
  00063	7c 04		 jl	 SHORT $LN2@GetKalimaG

; 741  : 			{
; 742  : 				if ( gObj[iIndex].Level <= g_sttKALIMAGATE_LEVEL[i].iUPPER_BOUND_MAGUMSA )

  00065	3b 10		 cmp	 edx, DWORD PTR [eax]
  00067	7e 12		 jle	 SHORT $LN19@GetKalimaG
$LN2@GetKalimaG:

; 737  : 	{
; 738  : 		for ( int i =0;i<KALIMA_FLOORS;i++)

  00069	83 c0 10	 add	 eax, 16			; 00000010H
  0006c	41		 inc	 ecx
  0006d	3d 7c 00 00 00	 cmp	 eax, OFFSET ?g_sttKALIMAGATE_LEVEL@@3PAU_KALIMAGATE_LEVEL@@A+124
  00072	7c ec		 jl	 SHORT $LL4@GetKalimaG

; 756  : 				{
; 757  : 					return i;
; 758  : 				}
; 759  : 			}
; 760  : 		}
; 761  : 	}
; 762  : 	return -1;

  00074	83 c8 ff	 or	 eax, -1

; 763  : }

  00077	5d		 pop	 ebp
  00078	c2 04 00	 ret	 4
$LN19@GetKalimaG:

; 743  : 				{
; 744  : 					return i;

  0007b	8b c1		 mov	 eax, ecx

; 763  : }

  0007d	5d		 pop	 ebp
  0007e	c2 04 00	 ret	 4
?GetKalimaGateLevel2@CKalimaGate@@QAEHH@Z ENDP		; CKalimaGate::GetKalimaGateLevel2
_TEXT	ENDS
; Function compile flags: /Ogtp
; File c:\users\michel\desktop\source\gameserver\source\kalimagate.cpp
;	COMDAT ?KalimaGateAct2@CKalimaGate@@QAEXH@Z
_TEXT	SEGMENT
_i$1$ = -16						; size = 4
tv507 = -12						; size = 4
tv513 = -8						; size = 4
tv500 = -4						; size = 4
_this$1$ = -4						; size = 4
_iIndex$ = 8						; size = 4
?KalimaGateAct2@CKalimaGate@@QAEXH@Z PROC		; CKalimaGate::KalimaGateAct2, COMDAT
; _this$ = ecx

; 623  : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	83 ec 10	 sub	 esp, 16			; 00000010H
  00006	53		 push	 ebx

; 624  : 	LPOBJ lpObj = NULL;
; 625  : 	LPOBJ lpObjCallOwner = NULL;
; 626  : 
; 627  : 	if ( OBJMAX_RANGE(iIndex) == FALSE )

  00007	8b 5d 08	 mov	 ebx, DWORD PTR _iIndex$[ebp]
  0000a	89 4d fc	 mov	 DWORD PTR _this$1$[ebp], ecx
  0000d	85 db		 test	 ebx, ebx
  0000f	0f 88 bc 02 00
	00		 js	 $LN31@KalimaGate
  00015	33 c0		 xor	 eax, eax
  00017	81 fb eb 2c 00
	00		 cmp	 ebx, 11499		; 00002cebH
  0001d	0f 9e c0	 setle	 al
  00020	85 c0		 test	 eax, eax
  00022	0f 84 a9 02 00
	00		 je	 $LN31@KalimaGate

; 628  : 		return;
; 629  : 
; 630  : 	if ( gObj[iIndex].Live == 0 )

  00028	a1 00 00 00 00	 mov	 eax, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  0002d	56		 push	 esi
  0002e	69 f3 40 27 00
	00		 imul	 esi, ebx, 10048
  00034	89 75 f8	 mov	 DWORD PTR tv513[ebp], esi
  00037	80 7c 06 51 00	 cmp	 BYTE PTR [esi+eax+81], 0
  0003c	0f 84 8e 02 00
	00		 je	 $LN32@KalimaGate

; 631  : 		return;
; 632  : 
; 633  : 	if ( !gObjIsConnected(gObj[iIndex].m_RecallMon ) )

  00042	ff b4 06 30 06
	00 00		 push	 DWORD PTR [esi+eax+1584]
  00049	e8 00 00 00 00	 call	 ?gObjIsConnected@@YAHH@Z ; gObjIsConnected
  0004e	83 c4 04	 add	 esp, 4
  00051	85 c0		 test	 eax, eax
  00053	75 43		 jne	 SHORT $LN7@KalimaGate

; 634  : 	{
; 635  : 		LogAddTD("[Kalima] Kalima Gate Vanished (NextMap) - Summoner Vanished (SummonIndex:%d, EnterCount:%d)",

  00055	a1 00 00 00 00	 mov	 eax, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  0005a	0f be 84 06 b0
	05 00 00	 movsx	 eax, BYTE PTR [esi+eax+1456]
  00062	50		 push	 eax
  00063	53		 push	 ebx
  00064	68 00 00 00 00	 push	 OFFSET ??_C@_0FM@NCEGFJNE@?$FLKalima?$FN?5Kalima?5Gate?5Vanished?5?$CIN@
  00069	ff 15 00 00 00
	00		 call	 DWORD PTR ?LogAddTD@@3P6AXPADZZA ; LogAddTD

; 636  : 			iIndex, gObj[iIndex].m_cKalimaGateEnterCount);
; 637  : 
; 638  : 		GCDiePlayerSend(&gObj[iIndex], iIndex, 0, 0);

  0006f	a1 00 00 00 00	 mov	 eax, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  00074	6a 00		 push	 0
  00076	6a 00		 push	 0
  00078	03 c6		 add	 eax, esi
  0007a	53		 push	 ebx
  0007b	50		 push	 eax
  0007c	e8 00 00 00 00	 call	 ?GCDiePlayerSend@@YAXPAUOBJECTSTRUCT@@HGH@Z ; GCDiePlayerSend

; 639  : 		gObjDel(iIndex);

  00081	53		 push	 ebx
  00082	e8 00 00 00 00	 call	 ?gObjDel@@YAFH@Z	; gObjDel

; 640  : 		gObjCharZeroSet(iIndex);

  00087	53		 push	 ebx
  00088	e8 00 00 00 00	 call	 ?gObjCharZeroSet@@YAXH@Z ; gObjCharZeroSet
  0008d	83 c4 24	 add	 esp, 36			; 00000024H
  00090	5e		 pop	 esi
  00091	5b		 pop	 ebx

; 720  : 										break;
; 721  : 								}
; 722  : 							}
; 723  : 						}
; 724  : 					}
; 725  : 				}
; 726  : 			}
; 727  : 		}
; 728  : 	}
; 729  : }

  00092	8b e5		 mov	 esp, ebp
  00094	5d		 pop	 ebp
  00095	c2 04 00	 ret	 4
$LN7@KalimaGate:

; 641  : 
; 642  : 		return;
; 643  : 	}
; 644  : 
; 645  : 	lpObj = &gObj[iIndex];

  00098	03 35 00 00 00
	00		 add	 esi, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  0009e	57		 push	 edi

; 646  : 	lpObjCallOwner = &gObj[lpObj->m_RecallMon];

  0009f	69 be 30 06 00
	00 40 27 00 00	 imul	 edi, DWORD PTR [esi+1584], 10048
  000a9	03 3d 00 00 00
	00		 add	 edi, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj

; 647  : 
; 648  : 	if ( gObj[iIndex].m_cKalimaGateEnterCount >= MAX_KALIMA_ENTER )

  000af	80 be b0 05 00
	00 05		 cmp	 BYTE PTR [esi+1456], 5
  000b6	7c 4e		 jl	 SHORT $LN8@KalimaGate

; 649  : 	{
; 650  : 		lpObjCallOwner->AccountID[MAX_ACCOUNT_LEN]=0;
; 651  : 		lpObjCallOwner->Name[MAX_ACCOUNT_LEN]=0;
; 652  : 
; 653  : 		LogAddTD("[Kalima] [%s][%s] Kalima Gate Vanished - Enter Count Over (SummonIndex:%d, EnterCount:%d)",

  000b8	8b 75 f8	 mov	 esi, DWORD PTR tv513[ebp]
  000bb	c6 47 5c 00	 mov	 BYTE PTR [edi+92], 0
  000bf	c6 47 67 00	 mov	 BYTE PTR [edi+103], 0
  000c3	a1 00 00 00 00	 mov	 eax, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  000c8	0f be 84 06 b0
	05 00 00	 movsx	 eax, BYTE PTR [esi+eax+1456]
  000d0	50		 push	 eax
  000d1	53		 push	 ebx
  000d2	8d 47 5d	 lea	 eax, DWORD PTR [edi+93]
  000d5	50		 push	 eax
  000d6	8d 47 52	 lea	 eax, DWORD PTR [edi+82]
  000d9	50		 push	 eax
  000da	68 00 00 00 00	 push	 OFFSET ??_C@_0FK@FFJOIHJB@?$FLKalima?$FN?5?$FL?$CFs?$FN?$FL?$CFs?$FN?5Kalima?5Gate?5Va@
  000df	ff 15 00 00 00
	00		 call	 DWORD PTR ?LogAddTD@@3P6AXPADZZA ; LogAddTD

; 654  : 			lpObjCallOwner->AccountID, lpObjCallOwner->Name, iIndex, gObj[iIndex].m_cKalimaGateEnterCount);
; 655  : 
; 656  : 		this->DeleteKalimaGate(iIndex, gObj[iIndex].m_RecallMon);

  000e5	a1 00 00 00 00	 mov	 eax, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  000ea	83 c4 14	 add	 esp, 20			; 00000014H
  000ed	8b 4d fc	 mov	 ecx, DWORD PTR _this$1$[ebp]
  000f0	ff b4 06 30 06
	00 00		 push	 DWORD PTR [esi+eax+1584]
  000f7	53		 push	 ebx
  000f8	e8 00 00 00 00	 call	 ?DeleteKalimaGate@CKalimaGate@@QAEHHH@Z ; CKalimaGate::DeleteKalimaGate
  000fd	5f		 pop	 edi
  000fe	5e		 pop	 esi
  000ff	5b		 pop	 ebx

; 720  : 										break;
; 721  : 								}
; 722  : 							}
; 723  : 						}
; 724  : 					}
; 725  : 				}
; 726  : 			}
; 727  : 		}
; 728  : 	}
; 729  : }

  00100	8b e5		 mov	 esp, ebp
  00102	5d		 pop	 ebp
  00103	c2 04 00	 ret	 4
$LN8@KalimaGate:

; 657  : 
; 658  : 		return;
; 659  : 	}
; 660  : 
; 661  : 	DWORD dwTickCount = GetTickCount();

  00106	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__GetTickCount@0

; 662  : 
; 663  : 	if ( dwTickCount > (lpObj->RegenTime+60000) )

  0010c	8b 8e 90 05 00
	00		 mov	 ecx, DWORD PTR [esi+1424]
  00112	81 c1 60 ea 00
	00		 add	 ecx, 60000		; 0000ea60H
  00118	3b c1		 cmp	 eax, ecx
  0011a	76 45		 jbe	 SHORT $LN9@KalimaGate

; 664  : 	{
; 665  : 		lpObjCallOwner->AccountID[MAX_ACCOUNT_LEN]=0;
; 666  : 		lpObjCallOwner->Name[MAX_ACCOUNT_LEN]=0;
; 667  : 
; 668  : 		LogAddTD("[Kalima] [%s][%s] Kalima Gate Vanished (NextMap) - Time Out (SummonIndex:%d, EnterCount:%d)",

  0011c	8b 4d f8	 mov	 ecx, DWORD PTR tv513[ebp]
  0011f	c6 47 5c 00	 mov	 BYTE PTR [edi+92], 0
  00123	c6 47 67 00	 mov	 BYTE PTR [edi+103], 0
  00127	a1 00 00 00 00	 mov	 eax, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  0012c	0f be 84 01 b0
	05 00 00	 movsx	 eax, BYTE PTR [ecx+eax+1456]
  00134	50		 push	 eax
  00135	53		 push	 ebx
  00136	8d 47 5d	 lea	 eax, DWORD PTR [edi+93]
  00139	50		 push	 eax
  0013a	8d 47 52	 lea	 eax, DWORD PTR [edi+82]
  0013d	50		 push	 eax
  0013e	68 00 00 00 00	 push	 OFFSET ??_C@_0FM@NAJNPHPN@?$FLKalima?$FN?5?$FL?$CFs?$FN?$FL?$CFs?$FN?5Kalima?5Gate?5Va@
  00143	ff 15 00 00 00
	00		 call	 DWORD PTR ?LogAddTD@@3P6AXPADZZA ; LogAddTD

; 669  : 			lpObjCallOwner->AccountID, lpObjCallOwner->Name, iIndex, gObj[iIndex].m_cKalimaGateEnterCount);
; 670  : 
; 671  : 		this->DeleteKalimaGate(lpObj->m_Index, lpObjCallOwner->m_Index);

  00149	8b 4d fc	 mov	 ecx, DWORD PTR _this$1$[ebp]
  0014c	83 c4 14	 add	 esp, 20			; 00000014H
  0014f	ff 37		 push	 DWORD PTR [edi]
  00151	ff 36		 push	 DWORD PTR [esi]
  00153	e8 00 00 00 00	 call	 ?DeleteKalimaGate@CKalimaGate@@QAEHHH@Z ; CKalimaGate::DeleteKalimaGate
  00158	5f		 pop	 edi
  00159	5e		 pop	 esi
  0015a	5b		 pop	 ebx

; 720  : 										break;
; 721  : 								}
; 722  : 							}
; 723  : 						}
; 724  : 					}
; 725  : 				}
; 726  : 			}
; 727  : 		}
; 728  : 	}
; 729  : }

  0015b	8b e5		 mov	 esp, ebp
  0015d	5d		 pop	 ebp
  0015e	c2 04 00	 ret	 4
$LN9@KalimaGate:

; 672  : 
; 673  : 		return;
; 674  : 	}
; 675  : 
; 676  : 	if ( lpObj->VPCount < 1 )

  00161	83 be cc 0f 00
	00 01		 cmp	 DWORD PTR [esi+4044], 1
  00168	0f 8c 61 01 00
	00		 jl	 $LN33@KalimaGate

; 677  : 		return;
; 678  : 
; 679  : 	if ( lpObj->MapNumber < MAP_INDEX_KALIMA1 || lpObj->MapNumber > MAP_INDEX_KALIMA6-1 )

  0016e	8a 86 23 01 00
	00		 mov	 al, BYTE PTR [esi+291]
  00174	3c 18		 cmp	 al, 24			; 00000018H
  00176	0f 82 53 01 00
	00		 jb	 $LN33@KalimaGate
  0017c	3c 1c		 cmp	 al, 28			; 0000001cH
  0017e	0f 87 4b 01 00
	00		 ja	 $LN33@KalimaGate

; 680  : 		return;
; 681  : 
; 682  : 	int tObjNum = -1;
; 683  : 
; 684  : 	for ( int i=0;i<MAX_VIEWPORT_MONSTER;i++)

  00184	8d 86 c6 08 00
	00		 lea	 eax, DWORD PTR [esi+2246]
  0018a	c7 45 f0 00 00
	00 00		 mov	 DWORD PTR _i$1$[ebp], 0
  00191	89 45 fc	 mov	 DWORD PTR tv500[ebp], eax
$LL4@KalimaGate:

; 685  : 	{
; 686  : 		tObjNum = lpObj->VpPlayer[i].number;

  00194	0f bf 00	 movsx	 eax, WORD PTR [eax]

; 687  : 
; 688  : 		if ( tObjNum >= 0 )

  00197	85 c0		 test	 eax, eax
  00199	0f 88 19 01 00
	00		 js	 $LN2@KalimaGate

; 689  : 		{
; 690  : 			if ( gObj[tObjNum].Type == OBJ_USER )

  0019f	8b 1d 00 00 00
	00		 mov	 ebx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  001a5	69 c8 40 27 00
	00		 imul	 ecx, eax, 10048
  001ab	03 d9		 add	 ebx, ecx
  001ad	89 4d f4	 mov	 DWORD PTR tv507[ebp], ecx
  001b0	80 7b 50 01	 cmp	 BYTE PTR [ebx+80], 1
  001b4	0f 85 fe 00 00
	00		 jne	 $LN2@KalimaGate

; 691  : 			{
; 692  : 				if ( gObj[tObjNum].Live )

  001ba	80 7b 51 00	 cmp	 BYTE PTR [ebx+81], 0
  001be	0f 84 f4 00 00
	00		 je	 $LN2@KalimaGate

; 693  : 				{
; 694  : 					if ( abs(lpObj->Y - gObj[tObjNum].Y) < 2 )

  001c4	0f b6 8b 21 01
	00 00		 movzx	 ecx, BYTE PTR [ebx+289]
  001cb	0f b6 86 21 01
	00 00		 movzx	 eax, BYTE PTR [esi+289]
  001d2	2b c1		 sub	 eax, ecx
  001d4	99		 cdq
  001d5	33 c2		 xor	 eax, edx
  001d7	2b c2		 sub	 eax, edx
  001d9	83 f8 02	 cmp	 eax, 2
  001dc	0f 8d d6 00 00
	00		 jge	 $LN2@KalimaGate

; 695  : 					{
; 696  : 						if ( abs(lpObj->X - gObj[tObjNum].X) < 2 )

  001e2	0f b6 8b 20 01
	00 00		 movzx	 ecx, BYTE PTR [ebx+288]
  001e9	0f b6 86 20 01
	00 00		 movzx	 eax, BYTE PTR [esi+288]
  001f0	2b c1		 sub	 eax, ecx
  001f2	99		 cdq
  001f3	33 c2		 xor	 eax, edx
  001f5	2b c2		 sub	 eax, edx
  001f7	83 f8 02	 cmp	 eax, 2
  001fa	0f 8d b8 00 00
	00		 jge	 $LN2@KalimaGate

; 697  : 						{
; 698  : 							if ( lpObj->m_RecallMon == tObjNum || (gObj[tObjNum].PartyNumber != -1 && lpObjCallOwner->PartyNumber == gObj[tObjNum].PartyNumber ))

  00200	8b 4d fc	 mov	 ecx, DWORD PTR tv500[ebp]
  00203	0f bf 01	 movsx	 eax, WORD PTR [ecx]
  00206	39 86 30 06 00
	00		 cmp	 DWORD PTR [esi+1584], eax
  0020c	74 1b		 je	 SHORT $LN19@KalimaGate
  0020e	8b 8b 0c 06 00
	00		 mov	 ecx, DWORD PTR [ebx+1548]
  00214	83 f9 ff	 cmp	 ecx, -1
  00217	0f 84 9b 00 00
	00		 je	 $LN2@KalimaGate
  0021d	39 8f 0c 06 00
	00		 cmp	 DWORD PTR [edi+1548], ecx
  00223	0f 85 8f 00 00
	00		 jne	 $LN2@KalimaGate
$LN19@KalimaGate:

; 699  : 							{
; 700  : 								int iMoveMapLevel = lpObj->MapNumber - MAP_INDEX_KALIMA1+1;	// #error "Deatwway - remove the -1

  00229	0f b6 9e 23 01
	00 00		 movzx	 ebx, BYTE PTR [esi+291]

; 701  : 								int iGateNumber = g_iKalimaGateGateIndex[iMoveMapLevel];
; 702  : 
; 703  : 								if ( !gObjMoveGate(tObjNum, iGateNumber))

  00230	ff 34 9d a4 ff
	ff ff		 push	 DWORD PTR ?g_iKalimaGateGateIndex@@3PAHA[ebx*4-92]
  00237	50		 push	 eax
  00238	e8 00 00 00 00	 call	 ?gObjMoveGate@@YAHHH@Z	; gObjMoveGate

; 704  : 								{
; 705  : 									LogAddTD("[Kalima] [%s][%s] - [%s][%s] move fail (MapNumber:%d)",

  0023d	8b 4d f4	 mov	 ecx, DWORD PTR tv507[ebp]
  00240	83 c4 08	 add	 esp, 8
  00243	03 0d 00 00 00
	00		 add	 ecx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  00249	85 c0		 test	 eax, eax
  0024b	0f b6 86 23 01
	00 00		 movzx	 eax, BYTE PTR [esi+291]
  00252	50		 push	 eax
  00253	75 20		 jne	 SHORT $LN20@KalimaGate
  00255	8d 41 5d	 lea	 eax, DWORD PTR [ecx+93]
  00258	50		 push	 eax
  00259	8d 41 52	 lea	 eax, DWORD PTR [ecx+82]
  0025c	50		 push	 eax
  0025d	8d 47 5d	 lea	 eax, DWORD PTR [edi+93]
  00260	50		 push	 eax
  00261	8d 47 52	 lea	 eax, DWORD PTR [edi+82]
  00264	50		 push	 eax
  00265	68 00 00 00 00	 push	 OFFSET ??_C@_0DG@DFEBENJO@?$FLKalima?$FN?5?$FL?$CFs?$FN?$FL?$CFs?$FN?5?9?5?$FL?$CFs?$FN?$FL?$CFs?$FN?5mov@
  0026a	ff 15 00 00 00
	00		 call	 DWORD PTR ?LogAddTD@@3P6AXPADZZA ; LogAddTD
  00270	83 c4 18	 add	 esp, 24			; 00000018H

; 706  : 										lpObjCallOwner->AccountID, lpObjCallOwner->Name,
; 707  : 										gObj[tObjNum].AccountID, gObj[tObjNum].Name,
; 708  : 										lpObj->MapNumber);
; 709  : 								}
; 710  : 								else

  00273	eb 43		 jmp	 SHORT $LN2@KalimaGate
$LN20@KalimaGate:

; 711  : 								{
; 712  : 									LogAddTD("[Kalima] [%s][%s] - [%s][%s] Transported by Kalima Gate (NextMap) (SummonIndex:%d, GateNo.:%d, MapNumber:%d)",

  00275	8d 43 ea	 lea	 eax, DWORD PTR [ebx-22]
  00278	50		 push	 eax
  00279	ff 75 08	 push	 DWORD PTR _iIndex$[ebp]
  0027c	8d 41 5d	 lea	 eax, DWORD PTR [ecx+93]
  0027f	50		 push	 eax
  00280	8d 41 52	 lea	 eax, DWORD PTR [ecx+82]
  00283	50		 push	 eax
  00284	8d 47 5d	 lea	 eax, DWORD PTR [edi+93]
  00287	50		 push	 eax
  00288	8d 47 52	 lea	 eax, DWORD PTR [edi+82]
  0028b	50		 push	 eax
  0028c	68 00 00 00 00	 push	 OFFSET ??_C@_0GN@EGMLLHID@?$FLKalima?$FN?5?$FL?$CFs?$FN?$FL?$CFs?$FN?5?9?5?$FL?$CFs?$FN?$FL?$CFs?$FN?5Tra@
  00291	ff 15 00 00 00
	00		 call	 DWORD PTR ?LogAddTD@@3P6AXPADZZA ; LogAddTD

; 713  : 										lpObjCallOwner->AccountID, lpObjCallOwner->Name,
; 714  : 										gObj[tObjNum].AccountID, gObj[tObjNum].Name,
; 715  : 										iIndex, iMoveMapLevel+1, lpObj->MapNumber);
; 716  : 
; 717  : 									gObj[iIndex].m_cKalimaGateEnterCount++;

  00297	a1 00 00 00 00	 mov	 eax, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  0029c	83 c4 20	 add	 esp, 32			; 00000020H
  0029f	8b 4d f8	 mov	 ecx, DWORD PTR tv513[ebp]
  002a2	fe 84 01 b0 05
	00 00		 inc	 BYTE PTR [ecx+eax+1456]

; 718  : 
; 719  : 									if ( gObj[iIndex].m_cKalimaGateEnterCount >= MAX_KALIMA_ENTER )

  002a9	a1 00 00 00 00	 mov	 eax, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  002ae	80 bc 01 b0 05
	00 00 05	 cmp	 BYTE PTR [ecx+eax+1456], 5
  002b6	7d 17		 jge	 SHORT $LN33@KalimaGate
$LN2@KalimaGate:

; 680  : 		return;
; 681  : 
; 682  : 	int tObjNum = -1;
; 683  : 
; 684  : 	for ( int i=0;i<MAX_VIEWPORT_MONSTER;i++)

  002b8	8b 45 f0	 mov	 eax, DWORD PTR _i$1$[ebp]
  002bb	83 45 fc 0c	 add	 DWORD PTR tv500[ebp], 12 ; 0000000cH
  002bf	40		 inc	 eax
  002c0	89 45 f0	 mov	 DWORD PTR _i$1$[ebp], eax
  002c3	83 f8 4b	 cmp	 eax, 75			; 0000004bH
  002c6	8b 45 fc	 mov	 eax, DWORD PTR tv500[ebp]
  002c9	0f 8c c5 fe ff
	ff		 jl	 $LL4@KalimaGate
$LN33@KalimaGate:
  002cf	5f		 pop	 edi
$LN32@KalimaGate:
  002d0	5e		 pop	 esi
$LN31@KalimaGate:
  002d1	5b		 pop	 ebx

; 720  : 										break;
; 721  : 								}
; 722  : 							}
; 723  : 						}
; 724  : 					}
; 725  : 				}
; 726  : 			}
; 727  : 		}
; 728  : 	}
; 729  : }

  002d2	8b e5		 mov	 esp, ebp
  002d4	5d		 pop	 ebp
  002d5	c2 04 00	 ret	 4
?KalimaGateAct2@CKalimaGate@@QAEXH@Z ENDP		; CKalimaGate::KalimaGateAct2
_TEXT	ENDS
; Function compile flags: /Ogtp
; File c:\users\michel\desktop\source\gameserver\source\kalimagate.cpp
;	COMDAT ?CreateKalimaGate2@CKalimaGate@@QAEHHHEE@Z
_TEXT	SEGMENT
_this$ = -36						; size = 4
_lpMATTR$1$ = -32					; size = 4
_cY$2 = -25						; size = 1
__$SEHRec$ = -24					; size = 24
_iIndex$ = 8						; size = 4
_iMonsterIndex$1$ = 12					; size = 4
_iMonMapNumber$ = 12					; size = 4
_cX$3 = 15						; size = 1
_cTX$ = 16						; size = 1
_cTY$ = 20						; size = 1
?CreateKalimaGate2@CKalimaGate@@QAEHHHEE@Z PROC		; CKalimaGate::CreateKalimaGate2, COMDAT
; _this$ = ecx

; 506  : {	

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	6a fe		 push	 -2			; fffffffeH
  00005	68 00 00 00 00	 push	 OFFSET __sehtable$?CreateKalimaGate2@CKalimaGate@@QAEHHHEE@Z
  0000a	68 00 00 00 00	 push	 OFFSET __except_handler4
  0000f	64 a1 00 00 00
	00		 mov	 eax, DWORD PTR fs:0
  00015	50		 push	 eax
  00016	83 ec 14	 sub	 esp, 20			; 00000014H
  00019	53		 push	 ebx
  0001a	56		 push	 esi
  0001b	57		 push	 edi
  0001c	a1 00 00 00 00	 mov	 eax, DWORD PTR ___security_cookie
  00021	31 45 f8	 xor	 DWORD PTR __$SEHRec$[ebp+16], eax
  00024	33 c5		 xor	 eax, ebp
  00026	50		 push	 eax
  00027	8d 45 f0	 lea	 eax, DWORD PTR __$SEHRec$[ebp+8]
  0002a	64 a3 00 00 00
	00		 mov	 DWORD PTR fs:0, eax
  00030	8b f1		 mov	 esi, ecx
  00032	89 75 dc	 mov	 DWORD PTR _this$[ebp], esi

; 507  : 	BOOL bKalimaGateCreateSucceed = FALSE;
; 508  : 	int iMonsterIndex = -1;
; 509  : 
; 510  : 	EnterCriticalSection(&this->m_critKalimaGate);

  00035	8d 46 04	 lea	 eax, DWORD PTR [esi+4]
  00038	50		 push	 eax
  00039	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__EnterCriticalSection@4

; 511  : 
; 512  : 	__try

  0003f	9b		 fwait
  00040	c7 45 fc 00 00
	00 00		 mov	 DWORD PTR __$SEHRec$[ebp+20], 0

; 513  : 	{
; 514  : 		if ( !gObjIsConnected(iIndex))

  00047	8b 5d 08	 mov	 ebx, DWORD PTR _iIndex$[ebp]
  0004a	53		 push	 ebx
  0004b	e8 00 00 00 00	 call	 ?gObjIsConnected@@YAHH@Z ; gObjIsConnected
  00050	83 c4 04	 add	 esp, 4
  00053	85 c0		 test	 eax, eax
  00055	75 2a		 jne	 SHORT $LN3@CreateKali

; 515  : 			return FALSE;

  00057	6a fe		 push	 -2			; fffffffeH
  00059	9b		 fwait
  0005a	8d 45 f0	 lea	 eax, DWORD PTR __$SEHRec$[ebp+8]
  0005d	50		 push	 eax
  0005e	68 00 00 00 00	 push	 OFFSET ___security_cookie
  00063	e8 00 00 00 00	 call	 __local_unwind4
  00068	83 c4 0c	 add	 esp, 12			; 0000000cH
  0006b	33 c0		 xor	 eax, eax

; 617  : }

  0006d	8b 4d f0	 mov	 ecx, DWORD PTR __$SEHRec$[ebp+8]
  00070	64 89 0d 00 00
	00 00		 mov	 DWORD PTR fs:0, ecx
  00077	59		 pop	 ecx
  00078	5f		 pop	 edi
  00079	5e		 pop	 esi
  0007a	5b		 pop	 ebx
  0007b	8b e5		 mov	 esp, ebp
  0007d	5d		 pop	 ebp
  0007e	c2 10 00	 ret	 16			; 00000010H
$LN3@CreateKali:

; 516  : 
; 517  : 		LogAddTD("[Kalima] [%s][%s] Try to Create Kalima Gate (NextMap)",

  00081	69 fb 40 27 00
	00		 imul	 edi, ebx, 10048
  00087	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  0008d	8d 41 5d	 lea	 eax, DWORD PTR [ecx+93]
  00090	03 c7		 add	 eax, edi
  00092	50		 push	 eax
  00093	8d 41 52	 lea	 eax, DWORD PTR [ecx+82]
  00096	03 c7		 add	 eax, edi
  00098	50		 push	 eax
  00099	68 00 00 00 00	 push	 OFFSET ??_C@_0DG@GKLFNKKH@?$FLKalima?$FN?5?$FL?$CFs?$FN?$FL?$CFs?$FN?5Try?5to?5Create?5@
  0009e	ff 15 00 00 00
	00		 call	 DWORD PTR ?LogAddTD@@3P6AXPADZZA ; LogAddTD
  000a4	83 c4 0c	 add	 esp, 12			; 0000000cH

; 518  : 			gObj[iIndex].AccountID, gObj[iIndex].Name);
; 519  : 
; 520  : 		if ( iMonMapNumber < MAP_INDEX_KALIMA1 || iMonMapNumber > MAP_INDEX_KALIMA6-1 )

  000a7	8b 5d 0c	 mov	 ebx, DWORD PTR _iMonMapNumber$[ebp]
  000aa	8d 43 e8	 lea	 eax, DWORD PTR [ebx-24]
  000ad	83 f8 04	 cmp	 eax, 4
  000b0	0f 87 98 03 00
	00		 ja	 $LN5@CreateKali

; 526  : 		}
; 527  : 
; 528  : 		if ( gObj[iIndex].m_cKalimaGateExist == TRUE )

  000b6	a1 00 00 00 00	 mov	 eax, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  000bb	80 bc 07 aa 05
	00 00 01	 cmp	 BYTE PTR [edi+eax+1450], 1
  000c3	75 69		 jne	 SHORT $LN6@CreateKali

; 529  : 		{
; 530  : 			GCServerMsgStringSend(lMsg.Get(MSGGET(4, 224)), iIndex, 1);

  000c5	6a 01		 push	 1
  000c7	8b 4d 08	 mov	 ecx, DWORD PTR _iIndex$[ebp]
  000ca	51		 push	 ecx
  000cb	68 e0 04 00 00	 push	 1248			; 000004e0H
  000d0	b9 00 00 00 00	 mov	 ecx, OFFSET ?lMsg@@3VMessage@@A ; lMsg
  000d5	e8 00 00 00 00	 call	 ?Get@Message@@QAEPADH@Z	; Message::Get
  000da	50		 push	 eax
  000db	e8 00 00 00 00	 call	 ?GCServerMsgStringSend@@YAXPADHE@Z ; GCServerMsgStringSend

; 531  : 
; 532  : 			LogAddTD("[Kalima] [%s][%s] Failed to Summon Kalima Gate (NextMap) - Already Have Gate (SummonIndex:%d)",

  000e0	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  000e6	ff b4 0f ac 05
	00 00		 push	 DWORD PTR [edi+ecx+1452]
  000ed	8d 41 5d	 lea	 eax, DWORD PTR [ecx+93]
  000f0	03 c7		 add	 eax, edi
  000f2	50		 push	 eax
  000f3	8d 41 52	 lea	 eax, DWORD PTR [ecx+82]
  000f6	03 c7		 add	 eax, edi
  000f8	50		 push	 eax
  000f9	68 00 00 00 00	 push	 OFFSET ??_C@_0FO@JJMJIIJC@?$FLKalima?$FN?5?$FL?$CFs?$FN?$FL?$CFs?$FN?5Failed?5to?5Summ@
  000fe	ff 15 00 00 00
	00		 call	 DWORD PTR ?LogAddTD@@3P6AXPADZZA ; LogAddTD

; 533  : 				gObj[iIndex].AccountID, gObj[iIndex].Name, gObj[iIndex].m_iKalimaGateIndex);
; 534  : 	
; 535  : 			return FALSE;

  00104	6a fe		 push	 -2			; fffffffeH
  00106	9b		 fwait
  00107	8d 45 f0	 lea	 eax, DWORD PTR __$SEHRec$[ebp+8]
  0010a	50		 push	 eax
  0010b	68 00 00 00 00	 push	 OFFSET ___security_cookie
  00110	e8 00 00 00 00	 call	 __local_unwind4
  00115	83 c4 28	 add	 esp, 40			; 00000028H
  00118	33 c0		 xor	 eax, eax

; 617  : }

  0011a	8b 4d f0	 mov	 ecx, DWORD PTR __$SEHRec$[ebp+8]
  0011d	64 89 0d 00 00
	00 00		 mov	 DWORD PTR fs:0, ecx
  00124	59		 pop	 ecx
  00125	5f		 pop	 edi
  00126	5e		 pop	 esi
  00127	5b		 pop	 ebx
  00128	8b e5		 mov	 esp, ebp
  0012a	5d		 pop	 ebp
  0012b	c2 10 00	 ret	 16			; 00000010H
$LN6@CreateKali:

; 536  : 		}
; 537  : 
; 538  : 		int iMonsterType = iMonMapNumber + 129;
; 539  : 		BYTE cX = cTX;

  0012e	8a 4d 10	 mov	 cl, BYTE PTR _cTX$[ebp]
  00131	88 4d 0f	 mov	 BYTE PTR _cX$3[ebp], cl

; 540  : 		BYTE cY = cTY;

  00134	8a 45 14	 mov	 al, BYTE PTR _cTY$[ebp]
  00137	88 45 e7	 mov	 BYTE PTR _cY$2[ebp], al

; 541  : 		BYTE btMapAttr = MapC[iMonMapNumber].GetAttr(cX, cY);

  0013a	0f b6 c0	 movzx	 eax, al
  0013d	50		 push	 eax
  0013e	0f b6 c1	 movzx	 eax, cl
  00141	50		 push	 eax
  00142	69 cb 28 38 05
	00		 imul	 ecx, ebx, 342056
  00148	81 c1 00 00 00
	00		 add	 ecx, OFFSET ?MapC@@3PAVMapClass@@A ; MapC
  0014e	e8 00 00 00 00	 call	 ?GetAttr@MapClass@@QAEEHH@Z ; MapClass::GetAttr

; 542  : 
; 543  : 		if ( btMapAttr != 0 )

  00153	84 c0		 test	 al, al
  00155	74 72		 je	 SHORT $LN8@CreateKali

; 544  : 		{
; 545  : 			if ( this->GetRandomLocation(iMonMapNumber, cX, cY) == FALSE )

  00157	8d 45 e7	 lea	 eax, DWORD PTR _cY$2[ebp]
  0015a	50		 push	 eax
  0015b	8d 45 0f	 lea	 eax, DWORD PTR _cX$3[ebp]
  0015e	50		 push	 eax
  0015f	53		 push	 ebx
  00160	8b ce		 mov	 ecx, esi
  00162	e8 00 00 00 00	 call	 ?GetRandomLocation@CKalimaGate@@AAEHHAAE0@Z ; CKalimaGate::GetRandomLocation
  00167	85 c0		 test	 eax, eax
  00169	75 52		 jne	 SHORT $LN17@CreateKali

; 546  : 			{
; 547  : 				LogAddTD("[Kalima] [%s][%s] Failed to Summon Kalima Gate (NextMap) - Failed to get Location (MapNumber:%d, X:%d, Y:%d)",

  0016b	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  00171	0f b6 45 e7	 movzx	 eax, BYTE PTR _cY$2[ebp]
  00175	50		 push	 eax
  00176	0f b6 45 0f	 movzx	 eax, BYTE PTR _cX$3[ebp]
  0017a	50		 push	 eax
  0017b	53		 push	 ebx
  0017c	8d 41 5d	 lea	 eax, DWORD PTR [ecx+93]
  0017f	03 c7		 add	 eax, edi
  00181	50		 push	 eax
  00182	8d 41 52	 lea	 eax, DWORD PTR [ecx+82]
  00185	03 c7		 add	 eax, edi
  00187	50		 push	 eax
  00188	68 00 00 00 00	 push	 OFFSET ??_C@_0GN@ELAOECBK@?$FLKalima?$FN?5?$FL?$CFs?$FN?$FL?$CFs?$FN?5Failed?5to?5Summ@
  0018d	ff 15 00 00 00
	00		 call	 DWORD PTR ?LogAddTD@@3P6AXPADZZA ; LogAddTD

; 548  : 					gObj[iIndex].AccountID, gObj[iIndex].Name, iMonMapNumber, cX, cY);
; 549  : 
; 550  : 				return FALSE;

  00193	6a fe		 push	 -2			; fffffffeH
  00195	9b		 fwait
  00196	8d 45 f0	 lea	 eax, DWORD PTR __$SEHRec$[ebp+8]
  00199	50		 push	 eax
  0019a	68 00 00 00 00	 push	 OFFSET ___security_cookie
  0019f	e8 00 00 00 00	 call	 __local_unwind4
  001a4	83 c4 24	 add	 esp, 36			; 00000024H
  001a7	33 c0		 xor	 eax, eax

; 617  : }

  001a9	8b 4d f0	 mov	 ecx, DWORD PTR __$SEHRec$[ebp+8]
  001ac	64 89 0d 00 00
	00 00		 mov	 DWORD PTR fs:0, ecx
  001b3	59		 pop	 ecx
  001b4	5f		 pop	 edi
  001b5	5e		 pop	 esi
  001b6	5b		 pop	 ebx
  001b7	8b e5		 mov	 esp, ebp
  001b9	5d		 pop	 ebp
  001ba	c2 10 00	 ret	 16			; 00000010H
$LN17@CreateKali:

; 548  : 					gObj[iIndex].AccountID, gObj[iIndex].Name, iMonMapNumber, cX, cY);
; 549  : 
; 550  : 				return FALSE;

  001bd	8a 4d 0f	 mov	 cl, BYTE PTR _cX$3[ebp]
  001c0	88 4d 10	 mov	 BYTE PTR _cTX$[ebp], cl
  001c3	8a 45 e7	 mov	 al, BYTE PTR _cY$2[ebp]
  001c6	88 45 14	 mov	 BYTE PTR _cTY$[ebp], al
$LN8@CreateKali:

; 551  : 			}
; 552  : 		}
; 553  : 
; 554  : 		iMonsterIndex = gObjAddMonster(iMonMapNumber);

  001c9	53		 push	 ebx
  001ca	e8 00 00 00 00	 call	 ?gObjAddMonster@@YAFH@Z	; gObjAddMonster
  001cf	83 c4 04	 add	 esp, 4
  001d2	0f bf f0	 movsx	 esi, ax
  001d5	89 75 0c	 mov	 DWORD PTR _iMonsterIndex$1$[ebp], esi

; 555  : 
; 556  : 		if ( iMonsterIndex >= 0 )

  001d8	85 f6		 test	 esi, esi
  001da	0f 88 48 02 00
	00		 js	 $LN9@CreateKali

; 557  : 		{
; 558  : 			MONSTER_ATTRIBUTE * lpMATTR = gMAttr.GetAttr(iMonsterType);

  001e0	8d 83 81 00 00
	00		 lea	 eax, DWORD PTR [ebx+129]
  001e6	50		 push	 eax
  001e7	b9 00 00 00 00	 mov	 ecx, OFFSET ?gMAttr@@3VCMonsterAttr@@A ; gMAttr
  001ec	e8 00 00 00 00	 call	 ?GetAttr@CMonsterAttr@@QAEPAUMONSTER_ATTRIBUTE@@H@Z ; CMonsterAttr::GetAttr
  001f1	89 45 e0	 mov	 DWORD PTR _lpMATTR$1$[ebp], eax

; 559  : 
; 560  : 			if ( !lpMATTR )

  001f4	85 c0		 test	 eax, eax
  001f6	75 4e		 jne	 SHORT $LN10@CreateKali

; 561  : 			{
; 562  : 				gObjDel(iMonsterIndex);

  001f8	56		 push	 esi
  001f9	e8 00 00 00 00	 call	 ?gObjDel@@YAFH@Z	; gObjDel

; 563  : 
; 564  : 				LogAddTD("[Kalima] [%s][%s] Kalima Gate Vanished (NextMap) - lpMATTR == NULL (SummonIndex:%d)",

  001fe	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  00204	56		 push	 esi
  00205	8d 41 5d	 lea	 eax, DWORD PTR [ecx+93]
  00208	03 c7		 add	 eax, edi
  0020a	50		 push	 eax
  0020b	8d 41 52	 lea	 eax, DWORD PTR [ecx+82]
  0020e	03 c7		 add	 eax, edi
  00210	50		 push	 eax
  00211	68 00 00 00 00	 push	 OFFSET ??_C@_0FE@DCIHOCIF@?$FLKalima?$FN?5?$FL?$CFs?$FN?$FL?$CFs?$FN?5Kalima?5Gate?5Va@
  00216	ff 15 00 00 00
	00		 call	 DWORD PTR ?LogAddTD@@3P6AXPADZZA ; LogAddTD

; 565  : 					gObj[iIndex].AccountID, gObj[iIndex].Name, iMonsterIndex);
; 566  : 
; 567  : 				return FALSE;

  0021c	6a fe		 push	 -2			; fffffffeH
  0021e	9b		 fwait
  0021f	8d 45 f0	 lea	 eax, DWORD PTR __$SEHRec$[ebp+8]
  00222	50		 push	 eax
  00223	68 00 00 00 00	 push	 OFFSET ___security_cookie
  00228	e8 00 00 00 00	 call	 __local_unwind4
  0022d	83 c4 20	 add	 esp, 32			; 00000020H
  00230	33 c0		 xor	 eax, eax

; 617  : }

  00232	8b 4d f0	 mov	 ecx, DWORD PTR __$SEHRec$[ebp+8]
  00235	64 89 0d 00 00
	00 00		 mov	 DWORD PTR fs:0, ecx
  0023c	59		 pop	 ecx
  0023d	5f		 pop	 edi
  0023e	5e		 pop	 esi
  0023f	5b		 pop	 ebx
  00240	8b e5		 mov	 esp, ebp
  00242	5d		 pop	 ebp
  00243	c2 10 00	 ret	 16			; 00000010H
$LN10@CreateKali:

; 568  : 			}
; 569  : 
; 570  : 			gObjSetMonster(iMonsterIndex, iMonsterType);

  00246	8d 83 81 00 00
	00		 lea	 eax, DWORD PTR [ebx+129]
  0024c	50		 push	 eax
  0024d	56		 push	 esi
  0024e	e8 00 00 00 00	 call	 ?gObjSetMonster@@YAHHH@Z ; gObjSetMonster
  00253	83 c4 08	 add	 esp, 8

; 571  : 			gObj[iMonsterIndex].Live = TRUE;

  00256	69 f6 40 27 00
	00		 imul	 esi, esi, 10048
  0025c	a1 00 00 00 00	 mov	 eax, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  00261	c6 44 06 51 01	 mov	 BYTE PTR [esi+eax+81], 1

; 572  : 			gObj[iMonsterIndex].Life = 1000.0;

  00266	a1 00 00 00 00	 mov	 eax, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  0026b	c7 84 06 d8 00
	00 00 00 00 7a
	44		 mov	 DWORD PTR [esi+eax+216], 1148846080 ; 447a0000H

; 573  : 			gObj[iMonsterIndex].MaxLife = 1000.0;

  00276	a1 00 00 00 00	 mov	 eax, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  0027b	c7 84 06 dc 00
	00 00 00 00 7a
	44		 mov	 DWORD PTR [esi+eax+220], 1148846080 ; 447a0000H

; 574  : 			gObj[iMonsterIndex].m_PosNum = -1;

  00286	83 c9 ff	 or	 ecx, -1
  00289	a1 00 00 00 00	 mov	 eax, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  0028e	66 89 8c 06 98
	05 00 00	 mov	 WORD PTR [esi+eax+1432], cx

; 575  : 			gObj[iMonsterIndex].X = cX;

  00296	a1 00 00 00 00	 mov	 eax, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  0029b	8a 4d 10	 mov	 cl, BYTE PTR _cTX$[ebp]
  0029e	88 8c 06 20 01
	00 00		 mov	 BYTE PTR [esi+eax+288], cl

; 576  : 			gObj[iMonsterIndex].Y = cY;

  002a5	a1 00 00 00 00	 mov	 eax, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  002aa	8a 55 14	 mov	 dl, BYTE PTR _cTY$[ebp]
  002ad	88 94 06 21 01
	00 00		 mov	 BYTE PTR [esi+eax+289], dl

; 577  : 			gObj[iMonsterIndex].MTX = cX;

  002b4	a1 00 00 00 00	 mov	 eax, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  002b9	88 8c 06 54 01
	00 00		 mov	 BYTE PTR [esi+eax+340], cl

; 578  : 			gObj[iMonsterIndex].MTY = cY;

  002c0	a1 00 00 00 00	 mov	 eax, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  002c5	88 94 06 55 01
	00 00		 mov	 BYTE PTR [esi+eax+341], dl

; 579  : 			gObj[iMonsterIndex].TX = cX;

  002cc	a1 00 00 00 00	 mov	 eax, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  002d1	88 8c 06 52 01
	00 00		 mov	 BYTE PTR [esi+eax+338], cl

; 580  : 			gObj[iMonsterIndex].TY = cY;

  002d8	a1 00 00 00 00	 mov	 eax, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  002dd	88 94 06 53 01
	00 00		 mov	 BYTE PTR [esi+eax+339], dl

; 581  : 			gObj[iMonsterIndex].m_OldX = cX;

  002e4	a1 00 00 00 00	 mov	 eax, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  002e9	88 8c 06 50 01
	00 00		 mov	 BYTE PTR [esi+eax+336], cl

; 582  : 			gObj[iMonsterIndex].m_OldY = cY;

  002f0	a1 00 00 00 00	 mov	 eax, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  002f5	88 94 06 51 01
	00 00		 mov	 BYTE PTR [esi+eax+337], dl

; 583  : 			gObj[iMonsterIndex].StartX = cX;

  002fc	a1 00 00 00 00	 mov	 eax, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  00301	88 8c 06 4e 01
	00 00		 mov	 BYTE PTR [esi+eax+334], cl

; 584  : 			gObj[iMonsterIndex].StartY = cY;

  00308	a1 00 00 00 00	 mov	 eax, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  0030d	88 94 06 4f 01
	00 00		 mov	 BYTE PTR [esi+eax+335], dl

; 585  : 			gObj[iMonsterIndex].MapNumber = iMonMapNumber;

  00314	a1 00 00 00 00	 mov	 eax, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  00319	88 9c 06 23 01
	00 00		 mov	 BYTE PTR [esi+eax+291], bl

; 586  : 			gObj[iMonsterIndex].m_MoveRange = 0;

  00320	33 c9		 xor	 ecx, ecx
  00322	a1 00 00 00 00	 mov	 eax, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  00327	66 89 8c 06 8e
	06 00 00	 mov	 WORD PTR [esi+eax+1678], cx

; 587  : 			gObj[iMonsterIndex].m_cKalimaGateEnterCount = 0;

  0032f	a1 00 00 00 00	 mov	 eax, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  00334	88 8c 06 b0 05
	00 00		 mov	 BYTE PTR [esi+eax+1456], cl

; 588  : 
; 589  : 			gObj[iIndex].m_cKalimaGateExist = TRUE;

  0033b	a1 00 00 00 00	 mov	 eax, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  00340	c6 84 07 aa 05
	00 00 01	 mov	 BYTE PTR [edi+eax+1450], 1

; 590  : 			gObj[iIndex].m_iKalimaGateIndex = iMonsterIndex;

  00348	a1 00 00 00 00	 mov	 eax, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  0034d	8b 5d 0c	 mov	 ebx, DWORD PTR _iMonsterIndex$1$[ebp]
  00350	89 9c 07 ac 05
	00 00		 mov	 DWORD PTR [edi+eax+1452], ebx

; 591  : 
; 592  : 			gObj[iMonsterIndex].Level = lpMATTR->m_Level;

  00357	8b 45 e0	 mov	 eax, DWORD PTR _lpMATTR$1$[ebp]
  0035a	66 8b 48 44	 mov	 cx, WORD PTR [eax+68]
  0035e	a1 00 00 00 00	 mov	 eax, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  00363	66 89 8c 06 96
	00 00 00	 mov	 WORD PTR [esi+eax+150], cx

; 593  : 			gObj[iMonsterIndex].Type = OBJ_MONSTER;

  0036b	a1 00 00 00 00	 mov	 eax, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  00370	c6 44 06 50 02	 mov	 BYTE PTR [esi+eax+80], 2

; 594  : 			gObj[iMonsterIndex].MaxRegenTime = 1000;

  00375	a1 00 00 00 00	 mov	 eax, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  0037a	c7 84 06 94 05
	00 00 e8 03 00
	00		 mov	 DWORD PTR [esi+eax+1428], 1000 ; 000003e8H

; 595  : 			gObj[iMonsterIndex].Dir = 1;

  00385	a1 00 00 00 00	 mov	 eax, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  0038a	c6 84 06 22 01
	00 00 01	 mov	 BYTE PTR [esi+eax+290], 1

; 596  : 
; 597  : 			gObj[iMonsterIndex].m_RecallMon = iIndex;

  00392	a1 00 00 00 00	 mov	 eax, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  00397	8b 4d 08	 mov	 ecx, DWORD PTR _iIndex$[ebp]
  0039a	89 8c 06 30 06
	00 00		 mov	 DWORD PTR [esi+eax+1584], ecx

; 598  : 			gObj[iMonsterIndex].RegenTime = GetTickCount();

  003a1	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__GetTickCount@0
  003a7	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  003ad	89 84 0e 90 05
	00 00		 mov	 DWORD PTR [esi+ecx+1424], eax

; 599  : 			gObj[iMonsterIndex].m_Attribute = 58;

  003b4	b9 3a 00 00 00	 mov	 ecx, 58			; 0000003aH
  003b9	a1 00 00 00 00	 mov	 eax, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  003be	66 89 8c 06 96
	06 00 00	 mov	 WORD PTR [esi+eax+1686], cx

; 600  : 			gObj[iMonsterIndex].DieRegen = FALSE;

  003c6	a1 00 00 00 00	 mov	 eax, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  003cb	c6 84 06 8a 05
	00 00 00	 mov	 BYTE PTR [esi+eax+1418], 0

; 601  : 			
; 602  : 			LogAddTD("[Kalima] [%s][%s] Create Kalima Gate Successfuly (NextMap) (Live:%d, GateTick:%u, DieRegen:%d, Map:%d, X:%d, Y:%d, SummonIndex:%d, OwnerIndex:%d)",

  003d3	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  003d9	ff 75 08	 push	 DWORD PTR _iIndex$[ebp]
  003dc	53		 push	 ebx
  003dd	0f b6 84 0e 21
	01 00 00	 movzx	 eax, BYTE PTR [esi+ecx+289]
  003e5	50		 push	 eax
  003e6	0f b6 84 0e 20
	01 00 00	 movzx	 eax, BYTE PTR [esi+ecx+288]
  003ee	50		 push	 eax
  003ef	0f b6 84 0e 23
	01 00 00	 movzx	 eax, BYTE PTR [esi+ecx+291]
  003f7	50		 push	 eax
  003f8	0f be 84 0e 8a
	05 00 00	 movsx	 eax, BYTE PTR [esi+ecx+1418]
  00400	50		 push	 eax
  00401	ff b4 0e 90 05
	00 00		 push	 DWORD PTR [esi+ecx+1424]
  00408	0f b6 44 0e 51	 movzx	 eax, BYTE PTR [esi+ecx+81]
  0040d	50		 push	 eax
  0040e	8d 41 5d	 lea	 eax, DWORD PTR [ecx+93]
  00411	03 c7		 add	 eax, edi
  00413	50		 push	 eax
  00414	8d 41 52	 lea	 eax, DWORD PTR [ecx+82]
  00417	03 c7		 add	 eax, edi
  00419	50		 push	 eax
  0041a	68 00 00 00 00	 push	 OFFSET ??_C@_0JC@FDOJEAMO@?$FLKalima?$FN?5?$FL?$CFs?$FN?$FL?$CFs?$FN?5Create?5Kalima?5@
  0041f	ff 15 00 00 00
	00		 call	 DWORD PTR ?LogAddTD@@3P6AXPADZZA ; LogAddTD
  00425	83 c4 2c	 add	 esp, 44			; 0000002cH
$LN9@CreateKali:

; 603  : 				gObj[iIndex].AccountID, gObj[iIndex].Name, gObj[iMonsterIndex].Live, gObj[iMonsterIndex].RegenTime,
; 604  : 				gObj[iMonsterIndex].DieRegen, gObj[iMonsterIndex].MapNumber, gObj[iMonsterIndex].X,
; 605  : 				gObj[iMonsterIndex].Y, iMonsterIndex, iIndex);
; 606  : 			bKalimaGateCreateSucceed = TRUE;
; 607  : 
; 608  : 
; 609  : 		}
; 610  : 	}

  00428	9b		 fwait
  00429	c7 45 fc fe ff
	ff ff		 mov	 DWORD PTR __$SEHRec$[ebp+20], -2 ; fffffffeH
  00430	e8 61 00 00 00	 call	 $LN15@CreateKali
$LN16@CreateKali:

; 614  : 	}
; 615  : 
; 616  : 	return TRUE;

  00435	b8 01 00 00 00	 mov	 eax, 1

; 617  : }

  0043a	8b 4d f0	 mov	 ecx, DWORD PTR __$SEHRec$[ebp+8]
  0043d	64 89 0d 00 00
	00 00		 mov	 DWORD PTR fs:0, ecx
  00444	59		 pop	 ecx
  00445	5f		 pop	 edi
  00446	5e		 pop	 esi
  00447	5b		 pop	 ebx
  00448	8b e5		 mov	 esp, ebp
  0044a	5d		 pop	 ebp
  0044b	c2 10 00	 ret	 16			; 00000010H
$LN5@CreateKali:

; 521  : 		{
; 522  : 			LogAddTD("[Kalima] [%s][%s] Failed to Summon Kalima Gate (NextMap) - MapNumber Error : %d",

  0044e	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  00454	53		 push	 ebx
  00455	8d 41 5d	 lea	 eax, DWORD PTR [ecx+93]
  00458	03 c7		 add	 eax, edi
  0045a	50		 push	 eax
  0045b	8d 41 52	 lea	 eax, DWORD PTR [ecx+82]
  0045e	03 c7		 add	 eax, edi
  00460	50		 push	 eax
  00461	68 00 00 00 00	 push	 OFFSET ??_C@_0FA@KLLHPHHL@?$FLKalima?$FN?5?$FL?$CFs?$FN?$FL?$CFs?$FN?5Failed?5to?5Summ@
  00466	ff 15 00 00 00
	00		 call	 DWORD PTR ?LogAddTD@@3P6AXPADZZA ; LogAddTD

; 523  : 				gObj[iIndex].AccountID, gObj[iIndex].Name, iMonMapNumber);
; 524  : 
; 525  : 			return FALSE;

  0046c	6a fe		 push	 -2			; fffffffeH
  0046e	9b		 fwait
  0046f	8d 45 f0	 lea	 eax, DWORD PTR __$SEHRec$[ebp+8]
  00472	50		 push	 eax
  00473	68 00 00 00 00	 push	 OFFSET ___security_cookie
  00478	e8 00 00 00 00	 call	 __local_unwind4
  0047d	83 c4 1c	 add	 esp, 28			; 0000001cH
  00480	33 c0		 xor	 eax, eax

; 617  : }

  00482	8b 4d f0	 mov	 ecx, DWORD PTR __$SEHRec$[ebp+8]
  00485	64 89 0d 00 00
	00 00		 mov	 DWORD PTR fs:0, ecx
  0048c	59		 pop	 ecx
  0048d	5f		 pop	 edi
  0048e	5e		 pop	 esi
  0048f	5b		 pop	 ebx
  00490	8b e5		 mov	 esp, ebp
  00492	5d		 pop	 ebp
  00493	c2 10 00	 ret	 16			; 00000010H
$LN13@CreateKali:
$LN19@CreateKali:
$LN15@CreateKali:

; 611  : 	__finally
; 612  : 	{
; 613  : 		LeaveCriticalSection(&this->m_critKalimaGate);

  00496	8b 45 dc	 mov	 eax, DWORD PTR _this$[ebp]
  00499	83 c0 04	 add	 eax, 4
  0049c	50		 push	 eax
  0049d	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__LeaveCriticalSection@4
$LN14@CreateKali:
$LN18@CreateKali:
  004a3	c3		 ret	 0
?CreateKalimaGate2@CKalimaGate@@QAEHHHEE@Z ENDP		; CKalimaGate::CreateKalimaGate2
_TEXT	ENDS
; Function compile flags: /Ogtp
; File c:\users\michel\desktop\source\gameserver\source\kalimagate.cpp
;	COMDAT ?DeleteKalimaGate@CKalimaGate@@QAEHHH@Z
_TEXT	SEGMENT
_this$ = -28						; size = 4
__$SEHRec$ = -24					; size = 24
_iKalimaGateIndex$ = 8					; size = 4
_iCallOwnerIndex$ = 12					; size = 4
?DeleteKalimaGate@CKalimaGate@@QAEHHH@Z PROC		; CKalimaGate::DeleteKalimaGate, COMDAT
; _this$ = ecx

; 449  : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	6a fe		 push	 -2			; fffffffeH
  00005	68 00 00 00 00	 push	 OFFSET __sehtable$?DeleteKalimaGate@CKalimaGate@@QAEHHH@Z
  0000a	68 00 00 00 00	 push	 OFFSET __except_handler4
  0000f	64 a1 00 00 00
	00		 mov	 eax, DWORD PTR fs:0
  00015	50		 push	 eax
  00016	83 ec 0c	 sub	 esp, 12			; 0000000cH
  00019	53		 push	 ebx
  0001a	56		 push	 esi
  0001b	57		 push	 edi
  0001c	a1 00 00 00 00	 mov	 eax, DWORD PTR ___security_cookie
  00021	31 45 f8	 xor	 DWORD PTR __$SEHRec$[ebp+16], eax
  00024	33 c5		 xor	 eax, ebp
  00026	50		 push	 eax
  00027	8d 45 f0	 lea	 eax, DWORD PTR __$SEHRec$[ebp+8]
  0002a	64 a3 00 00 00
	00		 mov	 DWORD PTR fs:0, eax
  00030	8b d9		 mov	 ebx, ecx
  00032	89 5d e4	 mov	 DWORD PTR _this$[ebp], ebx

; 450  : 	EnterCriticalSection(&this->m_critKalimaGate);

  00035	8d 43 04	 lea	 eax, DWORD PTR [ebx+4]
  00038	50		 push	 eax
  00039	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__EnterCriticalSection@4

; 451  : 
; 452  : 	__try

  0003f	c7 45 fc 00 00
	00 00		 mov	 DWORD PTR __$SEHRec$[ebp+20], 0

; 453  : 	{
; 454  : 		if ( OBJMAX_RANGE(iKalimaGateIndex )== false || OBJMAX_RANGE(iCallOwnerIndex ) == false)

  00046	8b 75 08	 mov	 esi, DWORD PTR _iKalimaGateIndex$[ebp]
  00049	85 f6		 test	 esi, esi
  0004b	0f 88 9b 00 00
	00		 js	 $LN15@DeleteKali
  00051	33 c0		 xor	 eax, eax
  00053	81 fe eb 2c 00
	00		 cmp	 esi, 11499		; 00002cebH
  00059	0f 9e c0	 setle	 al
  0005c	85 c0		 test	 eax, eax
  0005e	0f 84 88 00 00
	00		 je	 $LN15@DeleteKali
  00064	8b 7d 0c	 mov	 edi, DWORD PTR _iCallOwnerIndex$[ebp]
  00067	85 ff		 test	 edi, edi
  00069	0f 88 80 00 00
	00		 js	 $LN4@DeleteKali
  0006f	33 c0		 xor	 eax, eax
  00071	81 ff eb 2c 00
	00		 cmp	 edi, 11499		; 00002cebH
  00077	0f 9e c0	 setle	 al
  0007a	85 c0		 test	 eax, eax
  0007c	74 71		 je	 SHORT $LN4@DeleteKali

; 459  : 		}
; 460  : 
; 461  : 		GCDiePlayerSend( &gObj[iKalimaGateIndex], iKalimaGateIndex, 0 , 0);

  0007e	6a 00		 push	 0
  00080	6a 00		 push	 0
  00082	56		 push	 esi
  00083	69 c6 40 27 00
	00		 imul	 eax, esi, 10048
  00089	03 05 00 00 00
	00		 add	 eax, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  0008f	50		 push	 eax
  00090	e8 00 00 00 00	 call	 ?GCDiePlayerSend@@YAXPAUOBJECTSTRUCT@@HGH@Z ; GCDiePlayerSend

; 462  : 		gObj[iCallOwnerIndex].m_cKalimaGateExist = FALSE;

  00095	69 cf 40 27 00
	00		 imul	 ecx, edi, 10048
  0009b	a1 00 00 00 00	 mov	 eax, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  000a0	c6 84 01 aa 05
	00 00 00	 mov	 BYTE PTR [ecx+eax+1450], 0

; 463  : 		gObj[iCallOwnerIndex].m_iKalimaGateIndex = -1;

  000a8	a1 00 00 00 00	 mov	 eax, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  000ad	c7 84 01 ac 05
	00 00 ff ff ff
	ff		 mov	 DWORD PTR [ecx+eax+1452], -1

; 464  : 		gObjDel(iKalimaGateIndex);

  000b8	56		 push	 esi
  000b9	e8 00 00 00 00	 call	 ?gObjDel@@YAFH@Z	; gObjDel

; 465  : 		gObjCharZeroSet(iKalimaGateIndex);

  000be	56		 push	 esi
  000bf	e8 00 00 00 00	 call	 ?gObjCharZeroSet@@YAXH@Z ; gObjCharZeroSet
  000c4	83 c4 18	 add	 esp, 24			; 00000018H

; 466  : 	}

  000c7	c7 45 fc fe ff
	ff ff		 mov	 DWORD PTR __$SEHRec$[ebp+20], -2 ; fffffffeH
  000ce	e8 55 00 00 00	 call	 $LN13@DeleteKali
$LN14@DeleteKali:

; 470  : 	}
; 471  : 	return true;

  000d3	b8 01 00 00 00	 mov	 eax, 1

; 472  : }

  000d8	8b 4d f0	 mov	 ecx, DWORD PTR __$SEHRec$[ebp+8]
  000db	64 89 0d 00 00
	00 00		 mov	 DWORD PTR fs:0, ecx
  000e2	59		 pop	 ecx
  000e3	5f		 pop	 edi
  000e4	5e		 pop	 esi
  000e5	5b		 pop	 ebx
  000e6	8b e5		 mov	 esp, ebp
  000e8	5d		 pop	 ebp
  000e9	c2 08 00	 ret	 8
$LN15@DeleteKali:

; 466  : 	}

  000ec	8b 7d 0c	 mov	 edi, DWORD PTR _iCallOwnerIndex$[ebp]
$LN4@DeleteKali:

; 455  : 		{
; 456  : 			LogAddTD("[Kalima] DeleteKalimaGate() - out of Index (iKalimaGateIndex:%d, iCallOwnerIndex:%d)",

  000ef	57		 push	 edi
  000f0	56		 push	 esi
  000f1	68 00 00 00 00	 push	 OFFSET ??_C@_0FF@FPKJHAJK@?$FLKalima?$FN?5DeleteKalimaGate?$CI?$CJ?5?9?5ou@
  000f6	ff 15 00 00 00
	00		 call	 DWORD PTR ?LogAddTD@@3P6AXPADZZA ; LogAddTD

; 457  : 				iKalimaGateIndex, iCallOwnerIndex);
; 458  : 			return 0;

  000fc	6a fe		 push	 -2			; fffffffeH
  000fe	8d 45 f0	 lea	 eax, DWORD PTR __$SEHRec$[ebp+8]
  00101	50		 push	 eax
  00102	68 00 00 00 00	 push	 OFFSET ___security_cookie
  00107	e8 00 00 00 00	 call	 __local_unwind4
  0010c	83 c4 18	 add	 esp, 24			; 00000018H
  0010f	33 c0		 xor	 eax, eax

; 472  : }

  00111	8b 4d f0	 mov	 ecx, DWORD PTR __$SEHRec$[ebp+8]
  00114	64 89 0d 00 00
	00 00		 mov	 DWORD PTR fs:0, ecx
  0011b	59		 pop	 ecx
  0011c	5f		 pop	 edi
  0011d	5e		 pop	 esi
  0011e	5b		 pop	 ebx
  0011f	8b e5		 mov	 esp, ebp
  00121	5d		 pop	 ebp
  00122	c2 08 00	 ret	 8
$LN11@DeleteKali:
$LN17@DeleteKali:

; 466  : 	}

  00125	8b 5d e4	 mov	 ebx, DWORD PTR _this$[ebp]
$LN13@DeleteKali:

; 467  : 	__finally
; 468  : 	{
; 469  : 		LeaveCriticalSection(&this->m_critKalimaGate);

  00128	8d 43 04	 lea	 eax, DWORD PTR [ebx+4]
  0012b	50		 push	 eax
  0012c	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__LeaveCriticalSection@4
$LN12@DeleteKali:
$LN16@DeleteKali:
  00132	c3		 ret	 0
?DeleteKalimaGate@CKalimaGate@@QAEHHH@Z ENDP		; CKalimaGate::DeleteKalimaGate
_TEXT	ENDS
; Function compile flags: /Ogtp
; File c:\users\michel\desktop\source\gameserver\source\kalimagate.cpp
;	COMDAT ?DeleteKalimaGate@CKalimaGate@@QAEHH@Z
_TEXT	SEGMENT
_iCallOwnerIndex$ = 8					; size = 4
?DeleteKalimaGate@CKalimaGate@@QAEHH@Z PROC		; CKalimaGate::DeleteKalimaGate, COMDAT
; _this$ = ecx

; 480  : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp

; 481  : 	if ( OBJMAX_RANGE(iCallOwnerIndex ) == FALSE )

  00003	8b 55 08	 mov	 edx, DWORD PTR _iCallOwnerIndex$[ebp]
  00006	57		 push	 edi
  00007	8b f9		 mov	 edi, ecx
  00009	85 d2		 test	 edx, edx
  0000b	78 75		 js	 SHORT $LN13@DeleteKali
  0000d	33 c0		 xor	 eax, eax
  0000f	81 fa eb 2c 00
	00		 cmp	 edx, 11499		; 00002cebH
  00015	0f 9e c0	 setle	 al
  00018	85 c0		 test	 eax, eax
  0001a	74 66		 je	 SHORT $LN13@DeleteKali

; 486  : 	}
; 487  : 
; 488  : 	int iKalimaGateIndex = gObj[iCallOwnerIndex].m_iKalimaGateIndex;

  0001c	69 c2 40 27 00
	00		 imul	 eax, edx, 10048
  00022	56		 push	 esi
  00023	8b 35 00 00 00
	00		 mov	 esi, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  00029	8b 8c 30 ac 05
	00 00		 mov	 ecx, DWORD PTR [eax+esi+1452]

; 489  : 
; 490  : 	if (  OBJMAX_RANGE (iKalimaGateIndex ) == FALSE )

  00030	85 c9		 test	 ecx, ecx
  00032	78 46		 js	 SHORT $LN14@DeleteKali
  00034	33 c0		 xor	 eax, eax
  00036	81 f9 eb 2c 00
	00		 cmp	 ecx, 11499		; 00002cebH
  0003c	0f 9e c0	 setle	 al
  0003f	85 c0		 test	 eax, eax
  00041	74 37		 je	 SHORT $LN14@DeleteKali

; 493  : 	}
; 494  : 
; 495  : 	if ( gObj[iKalimaGateIndex].Live == FALSE || !KALIMA_ATTRIBUTE_RANGE(gObj[iKalimaGateIndex].m_Attribute) )

  00043	69 c1 40 27 00
	00		 imul	 eax, ecx, 10048
  00049	80 7c 30 51 00	 cmp	 BYTE PTR [eax+esi+81], 0
  0004e	74 2a		 je	 SHORT $LN14@DeleteKali
  00050	0f b7 b4 30 96
	06 00 00	 movzx	 esi, WORD PTR [eax+esi+1686]
  00058	66 83 fe 33	 cmp	 si, 51			; 00000033H
  0005c	7c 1c		 jl	 SHORT $LN14@DeleteKali
  0005e	33 c0		 xor	 eax, eax
  00060	66 83 fe 3a	 cmp	 si, 58			; 0000003aH
  00064	0f 9e c0	 setle	 al
  00067	85 c0		 test	 eax, eax
  00069	74 0f		 je	 SHORT $LN14@DeleteKali

; 496  : 	{
; 497  : 		return FALSE;
; 498  : 	}
; 499  : 
; 500  : 	return this->DeleteKalimaGate(iKalimaGateIndex, iCallOwnerIndex);

  0006b	52		 push	 edx
  0006c	51		 push	 ecx
  0006d	8b cf		 mov	 ecx, edi
  0006f	e8 00 00 00 00	 call	 ?DeleteKalimaGate@CKalimaGate@@QAEHHH@Z ; CKalimaGate::DeleteKalimaGate
  00074	5e		 pop	 esi
  00075	5f		 pop	 edi

; 501  : }

  00076	5d		 pop	 ebp
  00077	c2 04 00	 ret	 4
$LN14@DeleteKali:
  0007a	5e		 pop	 esi

; 491  : 	{	
; 492  : 		return false;

  0007b	33 c0		 xor	 eax, eax
  0007d	5f		 pop	 edi

; 501  : }

  0007e	5d		 pop	 ebp
  0007f	c2 04 00	 ret	 4
$LN13@DeleteKali:

; 482  : 	{	
; 483  : 		LogAddTD("[Kalima] DeleteKalimaGate() - out of Index (iCallOwnerIndex:%d)",

  00082	52		 push	 edx
  00083	68 00 00 00 00	 push	 OFFSET ??_C@_0EA@CCDLFCDJ@?$FLKalima?$FN?5DeleteKalimaGate?$CI?$CJ?5?9?5ou@
  00088	ff 15 00 00 00
	00		 call	 DWORD PTR ?LogAddTD@@3P6AXPADZZA ; LogAddTD
  0008e	83 c4 08	 add	 esp, 8

; 484  : 			iCallOwnerIndex);
; 485  : 		return false;

  00091	33 c0		 xor	 eax, eax
  00093	5f		 pop	 edi

; 501  : }

  00094	5d		 pop	 ebp
  00095	c2 04 00	 ret	 4
?DeleteKalimaGate@CKalimaGate@@QAEHH@Z ENDP		; CKalimaGate::DeleteKalimaGate
_TEXT	ENDS
; Function compile flags: /Ogtp
; File c:\users\michel\desktop\source\gameserver\source\kalimagate.cpp
;	COMDAT ?CheckOverlapKundunMark@CKalimaGate@@QAEHHE@Z
_TEXT	SEGMENT
_iIndex$ = 8						; size = 4
_btLevel$ = 12						; size = 1
?CheckOverlapKundunMark@CKalimaGate@@QAEHHE@Z PROC	; CKalimaGate::CheckOverlapKundunMark, COMDAT
; _this$ = ecx

; 355  : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp

; 356  : 	for ( int x = 0;x<MAIN_INVENTORY_SIZE;x++ )

  00003	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  00009	53		 push	 ebx
  0000a	69 5d 08 40 27
	00 00		 imul	 ebx, DWORD PTR _iIndex$[ebp], 10048
  00011	56		 push	 esi
  00012	57		 push	 edi
  00013	33 ff		 xor	 edi, edi
  00015	33 f6		 xor	 esi, esi
  00017	66 0f 1f 84 00
	00 00 00 00	 npad	 9
$LL4@CheckOverl:

; 357  : 	{
; 358  : 		if ( gObj[iIndex].pInventory[x].IsItem() == TRUE )

  00020	8b 8c 13 c0 11
	00 00		 mov	 ecx, DWORD PTR [ebx+edx+4544]
  00027	03 ce		 add	 ecx, esi
  00029	e8 00 00 00 00	 call	 ?IsItem@CItem@@QAEHXZ	; CItem::IsItem
  0002e	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  00034	83 f8 01	 cmp	 eax, 1
  00037	75 34		 jne	 SHORT $LN2@CheckOverl

; 359  : 		{
; 360  : 			if ( gObj[iIndex].pInventory[x].m_Type == ITEMGET(14, 29) )

  00039	8b 8c 13 c0 11
	00 00		 mov	 ecx, DWORD PTR [ebx+edx+4544]
  00040	b8 1d 1c 00 00	 mov	 eax, 7197		; 00001c1dH
  00045	66 39 44 31 06	 cmp	 WORD PTR [ecx+esi+6], ax
  0004a	75 21		 jne	 SHORT $LN2@CheckOverl

; 361  : 			{
; 362  : 				if ( gObj[iIndex].pInventory[x].m_Level == btLevel )

  0004c	0f b6 45 0c	 movzx	 eax, BYTE PTR _btLevel$[ebp]
  00050	66 39 44 31 08	 cmp	 WORD PTR [ecx+esi+8], ax
  00055	75 16		 jne	 SHORT $LN2@CheckOverl

; 363  : 				{
; 364  : 					int iITEM_DUR = (int)gObj[iIndex].pInventory[x].m_Durability;

  00057	f3 0f 2c 4c 31
	24		 cvttss2si ecx, DWORD PTR [ecx+esi+36]

; 365  : 
; 366  : 					if ( KUNDUN_MARK_RANGE(iITEM_DUR) != FALSE )

  0005d	85 c9		 test	 ecx, ecx
  0005f	78 0c		 js	 SHORT $LN2@CheckOverl
  00061	33 c0		 xor	 eax, eax
  00063	83 f9 04	 cmp	 ecx, 4
  00066	0f 9e c0	 setle	 al
  00069	85 c0		 test	 eax, eax
  0006b	75 19		 jne	 SHORT $LN13@CheckOverl
$LN2@CheckOverl:

; 356  : 	for ( int x = 0;x<MAIN_INVENTORY_SIZE;x++ )

  0006d	81 c6 d4 00 00
	00		 add	 esi, 212		; 000000d4H
  00073	47		 inc	 edi
  00074	81 fe f0 a8 00
	00		 cmp	 esi, 43248		; 0000a8f0H
  0007a	7c a4		 jl	 SHORT $LL4@CheckOverl

; 369  : 					}
; 370  : 				}
; 371  : 			}
; 372  : 		}
; 373  : 	}
; 374  : 
; 375  : 	return -1;

  0007c	5f		 pop	 edi
  0007d	5e		 pop	 esi
  0007e	83 c8 ff	 or	 eax, -1
  00081	5b		 pop	 ebx

; 376  : }

  00082	5d		 pop	 ebp
  00083	c2 08 00	 ret	 8
$LN13@CheckOverl:

; 367  : 					{
; 368  : 						return x;

  00086	8b c7		 mov	 eax, edi
  00088	5f		 pop	 edi
  00089	5e		 pop	 esi
  0008a	5b		 pop	 ebx

; 376  : }

  0008b	5d		 pop	 ebp
  0008c	c2 08 00	 ret	 8
?CheckOverlapKundunMark@CKalimaGate@@QAEHHE@Z ENDP	; CKalimaGate::CheckOverlapKundunMark
_TEXT	ENDS
; Function compile flags: /Ogtp
; File c:\users\michel\desktop\source\gameserver\source\kalimagate.cpp
;	COMDAT ?KalimaGateAct@CKalimaGate@@QAEXH@Z
_TEXT	SEGMENT
tv514 = -28						; size = 4
_iMapNumber$1$ = -24					; size = 4
_i$1$ = -20						; size = 4
tv510 = -16						; size = 4
tv503 = -12						; size = 4
_this$1$ = -8						; size = 4
_lpObj$1$ = -4						; size = 4
_iIndex$ = 8						; size = 4
?KalimaGateAct@CKalimaGate@@QAEXH@Z PROC		; CKalimaGate::KalimaGateAct, COMDAT
; _this$ = ecx

; 225  : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	83 ec 1c	 sub	 esp, 28			; 0000001cH
  00006	53		 push	 ebx

; 226  : 	LPOBJ lpObj=NULL;
; 227  : 	LPOBJ lpObjCallOwner=NULL;
; 228  : 
; 229  : 	if ( OBJMAX_RANGE(iIndex ) == FALSE)

  00007	8b 5d 08	 mov	 ebx, DWORD PTR _iIndex$[ebp]
  0000a	89 4d f8	 mov	 DWORD PTR _this$1$[ebp], ecx
  0000d	85 db		 test	 ebx, ebx
  0000f	0f 88 05 03 00
	00		 js	 $LN31@KalimaGate
  00015	33 c0		 xor	 eax, eax
  00017	81 fb eb 2c 00
	00		 cmp	 ebx, 11499		; 00002cebH
  0001d	0f 9e c0	 setle	 al
  00020	85 c0		 test	 eax, eax
  00022	0f 84 f2 02 00
	00		 je	 $LN31@KalimaGate

; 230  : 	{
; 231  : 		return;
; 232  : 	}
; 233  : 
; 234  : 	if ( gObj[iIndex].Live == FALSE )

  00028	a1 00 00 00 00	 mov	 eax, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  0002d	57		 push	 edi
  0002e	69 fb 40 27 00
	00		 imul	 edi, ebx, 10048
  00034	89 7d e4	 mov	 DWORD PTR tv514[ebp], edi
  00037	80 7c 07 51 00	 cmp	 BYTE PTR [edi+eax+81], 0
  0003c	0f 84 d7 02 00
	00		 je	 $LN35@KalimaGate

; 235  : 	{
; 236  : 		return;
; 237  : 	}
; 238  : 
; 239  : 	if ( gObjIsConnected( gObj[iIndex].m_RecallMon ) == PLAYER_EMPTY )

  00042	ff b4 07 30 06
	00 00		 push	 DWORD PTR [edi+eax+1584]
  00049	e8 00 00 00 00	 call	 ?gObjIsConnected@@YAHH@Z ; gObjIsConnected
  0004e	83 c4 04	 add	 esp, 4
  00051	85 c0		 test	 eax, eax
  00053	75 43		 jne	 SHORT $LN7@KalimaGate

; 240  : 	{
; 241  : 		LogAddTD("[Kalima] Kalima Gate Vanished - Summoner Vanished (SummonIndex:%d, EnterCount:%d)",

  00055	a1 00 00 00 00	 mov	 eax, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  0005a	0f be 84 07 b0
	05 00 00	 movsx	 eax, BYTE PTR [edi+eax+1456]
  00062	50		 push	 eax
  00063	53		 push	 ebx
  00064	68 00 00 00 00	 push	 OFFSET ??_C@_0FC@ILNKILMI@?$FLKalima?$FN?5Kalima?5Gate?5Vanished?5?9?5@
  00069	ff 15 00 00 00
	00		 call	 DWORD PTR ?LogAddTD@@3P6AXPADZZA ; LogAddTD

; 242  : 			iIndex, gObj[iIndex].m_cKalimaGateEnterCount );
; 243  : 		GCDiePlayerSend( &gObj[iIndex], iIndex, 0, 0);

  0006f	a1 00 00 00 00	 mov	 eax, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  00074	6a 00		 push	 0
  00076	6a 00		 push	 0
  00078	03 c7		 add	 eax, edi
  0007a	53		 push	 ebx
  0007b	50		 push	 eax
  0007c	e8 00 00 00 00	 call	 ?GCDiePlayerSend@@YAXPAUOBJECTSTRUCT@@HGH@Z ; GCDiePlayerSend

; 244  : 		gObjDel(iIndex);

  00081	53		 push	 ebx
  00082	e8 00 00 00 00	 call	 ?gObjDel@@YAFH@Z	; gObjDel

; 245  : 		gObjCharZeroSet(iIndex);

  00087	53		 push	 ebx
  00088	e8 00 00 00 00	 call	 ?gObjCharZeroSet@@YAXH@Z ; gObjCharZeroSet
  0008d	83 c4 24	 add	 esp, 36			; 00000024H
  00090	5f		 pop	 edi
  00091	5b		 pop	 ebx

; 334  : 										{
; 335  : 											return;
; 336  : 										}
; 337  : 									}
; 338  : 								}
; 339  : 							}
; 340  : 						}
; 341  : 					}
; 342  : 				}
; 343  : 			}
; 344  : 		}
; 345  : 	}
; 346  : }

  00092	8b e5		 mov	 esp, ebp
  00094	5d		 pop	 ebp
  00095	c2 04 00	 ret	 4
$LN7@KalimaGate:

; 246  : 		return;
; 247  : 	}
; 248  : 
; 249  : 	lpObj = &gObj[iIndex];

  00098	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj

; 250  : 	lpObjCallOwner = &gObj[lpObj->m_RecallMon];
; 251  : 
; 252  : 	if ( gObj[gObj[iIndex].m_RecallMon].DieRegen > 0 )

  0009e	69 84 0f 30 06
	00 00 40 27 00
	00		 imul	 eax, DWORD PTR [edi+ecx+1584], 10048
  000a9	8d 14 0f	 lea	 edx, DWORD PTR [edi+ecx]
  000ac	56		 push	 esi
  000ad	69 b2 30 06 00
	00 40 27 00 00	 imul	 esi, DWORD PTR [edx+1584], 10048
  000b7	89 55 fc	 mov	 DWORD PTR _lpObj$1$[ebp], edx
  000ba	03 f1		 add	 esi, ecx
  000bc	80 bc 08 8a 05
	00 00 00	 cmp	 BYTE PTR [eax+ecx+1418], 0
  000c4	7e 26		 jle	 SHORT $LN8@KalimaGate

; 253  : 	{
; 254  : 		lpObjCallOwner->AccountID[MAX_ACCOUNT_LEN]=0;

  000c6	c6 46 5c 00	 mov	 BYTE PTR [esi+92], 0

; 255  : 		lpObjCallOwner->Name[MAX_ACCOUNT_LEN]=0;

  000ca	c6 46 67 00	 mov	 BYTE PTR [esi+103], 0

; 256  : 
; 257  : 		LogAddTD("[Kalima] [%s][%s] Kalima Gate Vanished - Summoner Died (SummonIndex:%d, EnterCount:%d)",

  000ce	a1 00 00 00 00	 mov	 eax, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  000d3	0f be 84 07 b0
	05 00 00	 movsx	 eax, BYTE PTR [edi+eax+1456]
  000db	50		 push	 eax
  000dc	53		 push	 ebx
  000dd	8d 46 5d	 lea	 eax, DWORD PTR [esi+93]
  000e0	50		 push	 eax
  000e1	8d 46 52	 lea	 eax, DWORD PTR [esi+82]
  000e4	50		 push	 eax
  000e5	68 00 00 00 00	 push	 OFFSET ??_C@_0FH@INKPFMP@?$FLKalima?$FN?5?$FL?$CFs?$FN?$FL?$CFs?$FN?5Kalima?5Gate?5Va@

; 258  : 			lpObjCallOwner->AccountID, lpObjCallOwner->Name,
; 259  : 			iIndex, gObj[iIndex].m_cKalimaGateEnterCount );
; 260  : 		this->DeleteKalimaGate(iIndex, gObj[iIndex].m_RecallMon);
; 261  : 		return;

  000ea	eb 2d		 jmp	 SHORT $LN37@KalimaGate
$LN8@KalimaGate:

; 262  : 	}
; 263  : 
; 264  : 	if ( gObj[iIndex].m_cKalimaGateEnterCount >= MAX_KALIMA_ENTER )

  000ec	80 ba b0 05 00
	00 05		 cmp	 BYTE PTR [edx+1456], 5
  000f3	7c 4b		 jl	 SHORT $LN9@KalimaGate

; 265  : 	{
; 266  : 		lpObjCallOwner->AccountID[MAX_ACCOUNT_LEN]=0;

  000f5	c6 46 5c 00	 mov	 BYTE PTR [esi+92], 0

; 267  : 		lpObjCallOwner->Name[MAX_ACCOUNT_LEN]=0;

  000f9	c6 46 67 00	 mov	 BYTE PTR [esi+103], 0

; 268  : 		
; 269  : 		LogAddTD("[Kalima] [%s][%s] Kalima Gate Vanished - Enter Count Over (SummonIndex:%d, EnterCount:%d)",

  000fd	a1 00 00 00 00	 mov	 eax, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  00102	0f be 84 07 b0
	05 00 00	 movsx	 eax, BYTE PTR [edi+eax+1456]
  0010a	50		 push	 eax
  0010b	53		 push	 ebx
  0010c	8d 46 5d	 lea	 eax, DWORD PTR [esi+93]
  0010f	50		 push	 eax
  00110	8d 46 52	 lea	 eax, DWORD PTR [esi+82]
  00113	50		 push	 eax
  00114	68 00 00 00 00	 push	 OFFSET ??_C@_0FK@FFJOIHJB@?$FLKalima?$FN?5?$FL?$CFs?$FN?$FL?$CFs?$FN?5Kalima?5Gate?5Va@
$LN37@KalimaGate:
  00119	ff 15 00 00 00
	00		 call	 DWORD PTR ?LogAddTD@@3P6AXPADZZA ; LogAddTD

; 270  : 			lpObjCallOwner->AccountID, lpObjCallOwner->Name,
; 271  : 			iIndex, gObj[iIndex].m_cKalimaGateEnterCount );
; 272  : 		this->DeleteKalimaGate(iIndex, gObj[iIndex].m_RecallMon);

  0011f	a1 00 00 00 00	 mov	 eax, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  00124	83 c4 14	 add	 esp, 20			; 00000014H
  00127	8b 4d f8	 mov	 ecx, DWORD PTR _this$1$[ebp]
  0012a	ff b4 07 30 06
	00 00		 push	 DWORD PTR [edi+eax+1584]
  00131	53		 push	 ebx
  00132	e8 00 00 00 00	 call	 ?DeleteKalimaGate@CKalimaGate@@QAEHHH@Z ; CKalimaGate::DeleteKalimaGate
  00137	5e		 pop	 esi
  00138	5f		 pop	 edi
  00139	5b		 pop	 ebx

; 334  : 										{
; 335  : 											return;
; 336  : 										}
; 337  : 									}
; 338  : 								}
; 339  : 							}
; 340  : 						}
; 341  : 					}
; 342  : 				}
; 343  : 			}
; 344  : 		}
; 345  : 	}
; 346  : }

  0013a	8b e5		 mov	 esp, ebp
  0013c	5d		 pop	 ebp
  0013d	c2 04 00	 ret	 4
$LN9@KalimaGate:

; 273  : 		return;
; 274  : 	}
; 275  : 		
; 276  : 	DWORD dwTickCount = GetTickCount();

  00140	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__GetTickCount@0

; 277  : 
; 278  : 	if ( dwTickCount > lpObj->RegenTime + KALIMA_GATE_TIMEOUT )

  00146	8b 55 fc	 mov	 edx, DWORD PTR _lpObj$1$[ebp]
  00149	8b 8a 90 05 00
	00		 mov	 ecx, DWORD PTR [edx+1424]
  0014f	81 c1 20 bf 02
	00		 add	 ecx, 180000		; 0002bf20H
  00155	3b c1		 cmp	 eax, ecx
  00157	76 45		 jbe	 SHORT $LN10@KalimaGate

; 279  : 	{
; 280  : 		lpObjCallOwner->AccountID[MAX_ACCOUNT_LEN]=0;

  00159	c6 46 5c 00	 mov	 BYTE PTR [esi+92], 0

; 281  : 		lpObjCallOwner->Name[MAX_ACCOUNT_LEN]=0;

  0015d	c6 46 67 00	 mov	 BYTE PTR [esi+103], 0

; 282  : 		
; 283  : 		LogAddTD("[Kalima] [%s][%s] Kalima Gate Vanished - Time Out (SummonIndex:%d, EnterCount:%d)",

  00161	a1 00 00 00 00	 mov	 eax, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  00166	0f be 84 07 b0
	05 00 00	 movsx	 eax, BYTE PTR [edi+eax+1456]
  0016e	50		 push	 eax
  0016f	53		 push	 ebx
  00170	8d 46 5d	 lea	 eax, DWORD PTR [esi+93]
  00173	50		 push	 eax
  00174	8d 46 52	 lea	 eax, DWORD PTR [esi+82]
  00177	50		 push	 eax
  00178	68 00 00 00 00	 push	 OFFSET ??_C@_0FC@CCIHPNEM@?$FLKalima?$FN?5?$FL?$CFs?$FN?$FL?$CFs?$FN?5Kalima?5Gate?5Va@
  0017d	ff 15 00 00 00
	00		 call	 DWORD PTR ?LogAddTD@@3P6AXPADZZA ; LogAddTD

; 284  : 			lpObjCallOwner->AccountID, lpObjCallOwner->Name,
; 285  : 			iIndex, gObj[iIndex].m_cKalimaGateEnterCount );
; 286  : 		this->DeleteKalimaGate(lpObj->m_Index, lpObjCallOwner->m_Index);

  00183	8b 55 fc	 mov	 edx, DWORD PTR _lpObj$1$[ebp]
  00186	83 c4 14	 add	 esp, 20			; 00000014H
  00189	8b 4d f8	 mov	 ecx, DWORD PTR _this$1$[ebp]
  0018c	ff 36		 push	 DWORD PTR [esi]
  0018e	ff 32		 push	 DWORD PTR [edx]
  00190	e8 00 00 00 00	 call	 ?DeleteKalimaGate@CKalimaGate@@QAEHHH@Z ; CKalimaGate::DeleteKalimaGate
  00195	5e		 pop	 esi
  00196	5f		 pop	 edi
  00197	5b		 pop	 ebx

; 334  : 										{
; 335  : 											return;
; 336  : 										}
; 337  : 									}
; 338  : 								}
; 339  : 							}
; 340  : 						}
; 341  : 					}
; 342  : 				}
; 343  : 			}
; 344  : 		}
; 345  : 	}
; 346  : }

  00198	8b e5		 mov	 esp, ebp
  0019a	5d		 pop	 ebp
  0019b	c2 04 00	 ret	 4
$LN10@KalimaGate:

; 287  : 		return;
; 288  : 	}
; 289  : 
; 290  : 	if ( lpObj->VPCount < 1 )

  0019e	83 ba cc 0f 00
	00 01		 cmp	 DWORD PTR [edx+4044], 1
  001a5	0f 8c 6d 01 00
	00		 jl	 $LN36@KalimaGate

; 291  : 	{
; 292  : 		return;
; 293  : 	}
; 294  : 
; 295  : 	int tObjNum=-1;
; 296  : 
; 297  : 	for ( int i=0;i<MAX_VIEWPORT_MONSTER;i++)

  001ab	8d ba c6 08 00
	00		 lea	 edi, DWORD PTR [edx+2246]
  001b1	c7 45 ec 00 00
	00 00		 mov	 DWORD PTR _i$1$[ebp], 0
  001b8	89 7d f4	 mov	 DWORD PTR tv503[ebp], edi
  001bb	0f 1f 44 00 00	 npad	 5
$LL4@KalimaGate:

; 298  : 	{
; 299  : 		tObjNum = lpObj->VpPlayer[i].number;

  001c0	0f bf 3f	 movsx	 edi, WORD PTR [edi]

; 300  : 
; 301  : 		if ( tObjNum >= 0 )

  001c3	85 ff		 test	 edi, edi
  001c5	0f 88 36 01 00
	00		 js	 $LN2@KalimaGate

; 302  : 		{
; 303  : 			if ( gObj[tObjNum].Type == OBJ_USER )

  001cb	8b 1d 00 00 00
	00		 mov	 ebx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  001d1	69 cf 40 27 00
	00		 imul	 ecx, edi, 10048
  001d7	03 d9		 add	 ebx, ecx
  001d9	89 4d f0	 mov	 DWORD PTR tv510[ebp], ecx
  001dc	80 7b 50 01	 cmp	 BYTE PTR [ebx+80], 1
  001e0	0f 85 1b 01 00
	00		 jne	 $LN2@KalimaGate

; 304  : 			{
; 305  : 				if ( gObj[tObjNum].Live != FALSE )

  001e6	80 7b 51 00	 cmp	 BYTE PTR [ebx+81], 0
  001ea	0f 84 11 01 00
	00		 je	 $LN2@KalimaGate

; 306  : 				{
; 307  : 					if ( abs(lpObj->Y - gObj[tObjNum].Y) < 2 )

  001f0	0f b6 82 21 01
	00 00		 movzx	 eax, BYTE PTR [edx+289]
  001f7	0f b6 8b 21 01
	00 00		 movzx	 ecx, BYTE PTR [ebx+289]
  001fe	2b c1		 sub	 eax, ecx
  00200	99		 cdq
  00201	33 c2		 xor	 eax, edx
  00203	2b c2		 sub	 eax, edx

; 308  : 					{
; 309  : 						if ( abs(lpObj->X - gObj[tObjNum].X) < 2 )

  00205	8b 55 fc	 mov	 edx, DWORD PTR _lpObj$1$[ebp]
  00208	83 f8 02	 cmp	 eax, 2
  0020b	0f 8d f0 00 00
	00		 jge	 $LN2@KalimaGate
  00211	0f b6 82 20 01
	00 00		 movzx	 eax, BYTE PTR [edx+288]
  00218	0f b6 8b 20 01
	00 00		 movzx	 ecx, BYTE PTR [ebx+288]
  0021f	2b c1		 sub	 eax, ecx
  00221	99		 cdq
  00222	33 c2		 xor	 eax, edx
  00224	2b c2		 sub	 eax, edx

; 310  : 						{
; 311  : 							if ( lpObj->m_RecallMon == tObjNum || (gObj[tObjNum].PartyNumber != -1 && lpObjCallOwner->PartyNumber == gObj[tObjNum].PartyNumber ))

  00226	8b 55 fc	 mov	 edx, DWORD PTR _lpObj$1$[ebp]
  00229	83 f8 02	 cmp	 eax, 2
  0022c	0f 8d cf 00 00
	00		 jge	 $LN2@KalimaGate
  00232	39 ba 30 06 00
	00		 cmp	 DWORD PTR [edx+1584], edi
  00238	74 1b		 je	 SHORT $LN18@KalimaGate
  0023a	8b 83 0c 06 00
	00		 mov	 eax, DWORD PTR [ebx+1548]
  00240	83 f8 ff	 cmp	 eax, -1
  00243	0f 84 b8 00 00
	00		 je	 $LN2@KalimaGate
  00249	39 86 0c 06 00
	00		 cmp	 DWORD PTR [esi+1548], eax
  0024f	0f 85 ac 00 00
	00		 jne	 $LN2@KalimaGate
$LN18@KalimaGate:

; 312  : 							{
; 313  : 								int iMoveMapLevel = lpObj->m_Attribute -51;

  00255	0f bf 9a 96 06
	00 00		 movsx	 ebx, WORD PTR [edx+1686]

; 314  : 								int iMapNumber = iMoveMapLevel + 24;
; 315  : 								int iGateNumber = g_iKalimaGateGateIndex[iMoveMapLevel];
; 316  : 								int iOverLevel = this->GetKalimaGateLevel(tObjNum);

  0025c	8b 4d f8	 mov	 ecx, DWORD PTR _this$1$[ebp]
  0025f	83 eb 33	 sub	 ebx, 51			; 00000033H
  00262	57		 push	 edi
  00263	8d 43 18	 lea	 eax, DWORD PTR [ebx+24]
  00266	89 45 e8	 mov	 DWORD PTR _iMapNumber$1$[ebp], eax
  00269	e8 00 00 00 00	 call	 ?GetKalimaGateLevel@CKalimaGate@@AAEHH@Z ; CKalimaGate::GetKalimaGateLevel

; 317  : 
; 318  : 								if ( iOverLevel >= iMoveMapLevel )

  0026e	3b c3		 cmp	 eax, ebx
  00270	0f 8c 88 00 00
	00		 jl	 $LN34@KalimaGate

; 319  : 								{
; 320  : 									if ( gObjMoveGate(tObjNum, iGateNumber) == FALSE )

  00276	ff 34 9d 00 00
	00 00		 push	 DWORD PTR ?g_iKalimaGateGateIndex@@3PAHA[ebx*4]
  0027d	57		 push	 edi
  0027e	e8 00 00 00 00	 call	 ?gObjMoveGate@@YAHHH@Z	; gObjMoveGate

; 321  : 									{
; 322  : 										LogAddTD("[Kalima] [%s][%s] - [%s][%s] move fail (MapNumber:%d)", 

  00283	8b 4d f0	 mov	 ecx, DWORD PTR tv510[ebp]
  00286	83 c4 08	 add	 esp, 8
  00289	03 0d 00 00 00
	00		 add	 ecx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  0028f	85 c0		 test	 eax, eax
  00291	75 24		 jne	 SHORT $LN20@KalimaGate
  00293	8b 45 e8	 mov	 eax, DWORD PTR _iMapNumber$1$[ebp]
  00296	50		 push	 eax
  00297	8d 41 5d	 lea	 eax, DWORD PTR [ecx+93]
  0029a	50		 push	 eax
  0029b	8d 41 52	 lea	 eax, DWORD PTR [ecx+82]
  0029e	50		 push	 eax
  0029f	8d 46 5d	 lea	 eax, DWORD PTR [esi+93]
  002a2	50		 push	 eax
  002a3	8d 46 52	 lea	 eax, DWORD PTR [esi+82]
  002a6	50		 push	 eax
  002a7	68 00 00 00 00	 push	 OFFSET ??_C@_0DG@DFEBENJO@?$FLKalima?$FN?5?$FL?$CFs?$FN?$FL?$CFs?$FN?5?9?5?$FL?$CFs?$FN?$FL?$CFs?$FN?5mov@
  002ac	ff 15 00 00 00
	00		 call	 DWORD PTR ?LogAddTD@@3P6AXPADZZA ; LogAddTD
  002b2	83 c4 18	 add	 esp, 24			; 00000018H

; 323  : 											lpObjCallOwner->AccountID, lpObjCallOwner->Name,
; 324  : 											gObj[tObjNum].AccountID, gObj[tObjNum].Name, iMapNumber);
; 325  : 									}
; 326  : 									else

  002b5	eb 47		 jmp	 SHORT $LN34@KalimaGate
$LN20@KalimaGate:

; 327  : 									{
; 328  : 										LogAddTD("[Kalima] [%s][%s] - [%s][%s] Transported by Kalima Gate (SummonIndex:%d, GateNo.:%d, MapNumber:%d)",

  002b7	8d 43 18	 lea	 eax, DWORD PTR [ebx+24]
  002ba	50		 push	 eax
  002bb	8d 43 01	 lea	 eax, DWORD PTR [ebx+1]
  002be	50		 push	 eax
  002bf	ff 75 08	 push	 DWORD PTR _iIndex$[ebp]
  002c2	8d 41 5d	 lea	 eax, DWORD PTR [ecx+93]
  002c5	50		 push	 eax
  002c6	8d 41 52	 lea	 eax, DWORD PTR [ecx+82]
  002c9	50		 push	 eax
  002ca	8d 46 5d	 lea	 eax, DWORD PTR [esi+93]
  002cd	50		 push	 eax
  002ce	8d 46 52	 lea	 eax, DWORD PTR [esi+82]
  002d1	50		 push	 eax
  002d2	68 00 00 00 00	 push	 OFFSET ??_C@_0GD@MOAKLAME@?$FLKalima?$FN?5?$FL?$CFs?$FN?$FL?$CFs?$FN?5?9?5?$FL?$CFs?$FN?$FL?$CFs?$FN?5Tra@
  002d7	ff 15 00 00 00
	00		 call	 DWORD PTR ?LogAddTD@@3P6AXPADZZA ; LogAddTD

; 329  : 											lpObjCallOwner->AccountID, lpObjCallOwner->Name, 
; 330  : 											gObj[tObjNum].AccountID, gObj[tObjNum].Name, iIndex, iMoveMapLevel + 1, iMapNumber);
; 331  : 										gObj[iIndex].m_cKalimaGateEnterCount ++;

  002dd	a1 00 00 00 00	 mov	 eax, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  002e2	83 c4 20	 add	 esp, 32			; 00000020H
  002e5	8b 4d e4	 mov	 ecx, DWORD PTR tv514[ebp]
  002e8	fe 84 01 b0 05
	00 00		 inc	 BYTE PTR [ecx+eax+1456]

; 332  : 
; 333  : 										if ( gObj[iIndex].m_cKalimaGateEnterCount >= MAX_KALIMA_ENTER )

  002ef	a1 00 00 00 00	 mov	 eax, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  002f4	80 bc 01 b0 05
	00 00 05	 cmp	 BYTE PTR [ecx+eax+1456], 5
  002fc	7d 1a		 jge	 SHORT $LN36@KalimaGate
$LN34@KalimaGate:
  002fe	8b 55 fc	 mov	 edx, DWORD PTR _lpObj$1$[ebp]
$LN2@KalimaGate:

; 291  : 	{
; 292  : 		return;
; 293  : 	}
; 294  : 
; 295  : 	int tObjNum=-1;
; 296  : 
; 297  : 	for ( int i=0;i<MAX_VIEWPORT_MONSTER;i++)

  00301	8b 7d ec	 mov	 edi, DWORD PTR _i$1$[ebp]
  00304	83 45 f4 0c	 add	 DWORD PTR tv503[ebp], 12 ; 0000000cH
  00308	47		 inc	 edi
  00309	89 7d ec	 mov	 DWORD PTR _i$1$[ebp], edi
  0030c	83 ff 4b	 cmp	 edi, 75			; 0000004bH
  0030f	8b 7d f4	 mov	 edi, DWORD PTR tv503[ebp]
  00312	0f 8c a8 fe ff
	ff		 jl	 $LL4@KalimaGate
$LN36@KalimaGate:
  00318	5e		 pop	 esi
$LN35@KalimaGate:
  00319	5f		 pop	 edi
$LN31@KalimaGate:
  0031a	5b		 pop	 ebx

; 334  : 										{
; 335  : 											return;
; 336  : 										}
; 337  : 									}
; 338  : 								}
; 339  : 							}
; 340  : 						}
; 341  : 					}
; 342  : 				}
; 343  : 			}
; 344  : 		}
; 345  : 	}
; 346  : }

  0031b	8b e5		 mov	 esp, ebp
  0031d	5d		 pop	 ebp
  0031e	c2 04 00	 ret	 4
?KalimaGateAct@CKalimaGate@@QAEXH@Z ENDP		; CKalimaGate::KalimaGateAct
_TEXT	ENDS
; Function compile flags: /Ogtp
; File c:\users\michel\desktop\source\gameserver\source\kalimagate.cpp
;	COMDAT ?CreateKalimaGate@CKalimaGate@@QAEHHEEE@Z
_TEXT	SEGMENT
_this$ = -48						; size = 4
_iKalimaGateLevel$2$ = -44				; size = 4
_lpMATTR$1$ = -40					; size = 4
tv672 = -40						; size = 4
_iMonsterType$1$ = -36					; size = 4
_iMapNumber$2 = -32					; size = 4
_cY$3 = -25						; size = 1
__$SEHRec$ = -24					; size = 24
_iIndex$ = 8						; size = 4
_iMonsterIndex$1$ = 12					; size = 4
_btLevel$ = 12						; size = 1
_cX$4 = 15						; size = 1
_cTX$ = 16						; size = 1
_cTY$ = 20						; size = 1
?CreateKalimaGate@CKalimaGate@@QAEHHEEE@Z PROC		; CKalimaGate::CreateKalimaGate, COMDAT
; _this$ = ecx

; 45   : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	6a fe		 push	 -2			; fffffffeH
  00005	68 00 00 00 00	 push	 OFFSET __sehtable$?CreateKalimaGate@CKalimaGate@@QAEHHEEE@Z
  0000a	68 00 00 00 00	 push	 OFFSET __except_handler4
  0000f	64 a1 00 00 00
	00		 mov	 eax, DWORD PTR fs:0
  00015	50		 push	 eax
  00016	83 ec 20	 sub	 esp, 32			; 00000020H
  00019	53		 push	 ebx
  0001a	56		 push	 esi
  0001b	57		 push	 edi
  0001c	a1 00 00 00 00	 mov	 eax, DWORD PTR ___security_cookie
  00021	31 45 f8	 xor	 DWORD PTR __$SEHRec$[ebp+16], eax
  00024	33 c5		 xor	 eax, ebp
  00026	50		 push	 eax
  00027	8d 45 f0	 lea	 eax, DWORD PTR __$SEHRec$[ebp+8]
  0002a	64 a3 00 00 00
	00		 mov	 DWORD PTR fs:0, eax
  00030	8b d9		 mov	 ebx, ecx
  00032	89 5d d0	 mov	 DWORD PTR _this$[ebp], ebx

; 46   : 	BOOL bKalimaGateCreateSucceed=FALSE;
; 47   : 	int iMonsterIndex=-1;
; 48   : 
; 49   : 	
; 50   : 	EnterCriticalSection(&this->m_critKalimaGate );

  00035	8d 43 04	 lea	 eax, DWORD PTR [ebx+4]
  00038	50		 push	 eax
  00039	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__EnterCriticalSection@4

; 51   : 	
; 52   : 	__try

  0003f	9b		 fwait
  00040	c7 45 fc 00 00
	00 00		 mov	 DWORD PTR __$SEHRec$[ebp+20], 0

; 53   : 	{
; 54   : 		int iKalimaGateLevel;
; 55   : 		int iMapNumber;
; 56   : 		BYTE btMapAttr;
; 57   : 		int iMonsterType;
; 58   : 		BYTE cX;
; 59   : 		BYTE cY;
; 60   : 
; 61   : 		
; 62   : 		if ( gObjIsConnected(iIndex) == PLAYER_EMPTY )

  00047	8b 75 08	 mov	 esi, DWORD PTR _iIndex$[ebp]
  0004a	56		 push	 esi
  0004b	e8 00 00 00 00	 call	 ?gObjIsConnected@@YAHH@Z ; gObjIsConnected
  00050	83 c4 04	 add	 esp, 4
  00053	85 c0		 test	 eax, eax
  00055	75 2a		 jne	 SHORT $LN3@CreateKali
$LN49@CreateKali:

; 63   : 		{
; 64   : 			return false;

  00057	6a fe		 push	 -2			; fffffffeH
  00059	9b		 fwait
  0005a	8d 45 f0	 lea	 eax, DWORD PTR __$SEHRec$[ebp+8]
  0005d	50		 push	 eax
  0005e	68 00 00 00 00	 push	 OFFSET ___security_cookie
  00063	e8 00 00 00 00	 call	 __local_unwind4
  00068	83 c4 0c	 add	 esp, 12			; 0000000cH
  0006b	33 c0		 xor	 eax, eax

; 216  : }

  0006d	8b 4d f0	 mov	 ecx, DWORD PTR __$SEHRec$[ebp+8]
  00070	64 89 0d 00 00
	00 00		 mov	 DWORD PTR fs:0, ecx
  00077	59		 pop	 ecx
  00078	5f		 pop	 edi
  00079	5e		 pop	 esi
  0007a	5b		 pop	 ebx
  0007b	8b e5		 mov	 esp, ebp
  0007d	5d		 pop	 ebp
  0007e	c2 10 00	 ret	 16			; 00000010H
$LN3@CreateKali:

; 65   : 		}
; 66   : 
; 67   : 		LogAddTD("[Kalima] [%s][%s] Try to Create Kalima Gate", gObj[iIndex].AccountID, gObj[iIndex].Name);

  00081	69 fe 40 27 00
	00		 imul	 edi, esi, 10048
  00087	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  0008d	8d 41 5d	 lea	 eax, DWORD PTR [ecx+93]
  00090	03 c7		 add	 eax, edi
  00092	50		 push	 eax
  00093	8d 41 52	 lea	 eax, DWORD PTR [ecx+82]
  00096	03 c7		 add	 eax, edi
  00098	50		 push	 eax
  00099	68 00 00 00 00	 push	 OFFSET ??_C@_0CM@PDFGAPNC@?$FLKalima?$FN?5?$FL?$CFs?$FN?$FL?$CFs?$FN?5Try?5to?5Create?5@
  0009e	ff 15 00 00 00
	00		 call	 DWORD PTR ?LogAddTD@@3P6AXPADZZA ; LogAddTD
  000a4	83 c4 0c	 add	 esp, 12			; 0000000cH

; 68   : 		iKalimaGateLevel = this->GetKalimaGateLevel(iIndex);

  000a7	56		 push	 esi
  000a8	8b cb		 mov	 ecx, ebx
  000aa	e8 00 00 00 00	 call	 ?GetKalimaGateLevel@CKalimaGate@@AAEHH@Z ; CKalimaGate::GetKalimaGateLevel

; 69   : 
; 70   : 		if ( iKalimaGateLevel < btLevel-1 )

  000af	0f b6 4d 0c	 movzx	 ecx, BYTE PTR _btLevel$[ebp]
  000b3	8d 71 ff	 lea	 esi, DWORD PTR [ecx-1]
  000b6	89 75 d4	 mov	 DWORD PTR _iKalimaGateLevel$2$[ebp], esi
  000b9	3b c6		 cmp	 eax, esi
  000bb	7c 9a		 jl	 SHORT $LN49@CreateKali

; 71   : 		{
; 72   : 			return false;
; 73   : 		}
; 74   : 
; 75   : 		iKalimaGateLevel = btLevel-1;
; 76   : 
; 77   : 		if ( DS_MAP_RANGE(gObj[iIndex].MapNumber) )

  000bd	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  000c3	8a 8c 17 23 01
	00 00		 mov	 cl, BYTE PTR [edi+edx+291]
  000ca	80 f9 09	 cmp	 cl, 9
  000cd	74 88		 je	 SHORT $LN49@CreateKali
  000cf	33 c0		 xor	 eax, eax
  000d1	80 f9 20	 cmp	 cl, 32			; 00000020H
  000d4	0f 94 c0	 sete	 al
  000d7	85 c0		 test	 eax, eax
  000d9	0f 85 78 ff ff
	ff		 jne	 $LN49@CreateKali

; 78   : 		{
; 79   : 			return false;
; 80   : 		}
; 81   : 
; 82   : 		if ( BC_MAP_RANGE(gObj[iIndex].MapNumber) )

  000df	80 f9 34	 cmp	 cl, 52			; 00000034H
  000e2	0f 84 6f ff ff
	ff		 je	 $LN49@CreateKali
  000e8	80 f9 0b	 cmp	 cl, 11			; 0000000bH
  000eb	72 12		 jb	 SHORT $LN6@CreateKali
  000ed	b8 11 00 00 00	 mov	 eax, 17			; 00000011H
  000f2	3a c1		 cmp	 al, cl
  000f4	1b c0		 sbb	 eax, eax
  000f6	83 c0 01	 add	 eax, 1
  000f9	0f 85 58 ff ff
	ff		 jne	 $LN49@CreateKali
$LN6@CreateKali:

; 83   : 		{
; 84   : 			return false;
; 85   : 		}
; 86   : 
; 87   : 		if ( CC_MAP_RANGE(gObj[iIndex].MapNumber) )

  000ff	80 f9 35	 cmp	 cl, 53			; 00000035H
  00102	0f 84 4f ff ff
	ff		 je	 $LN49@CreateKali
  00108	80 f9 12	 cmp	 cl, 18			; 00000012H
  0010b	72 0f		 jb	 SHORT $LN7@CreateKali
  0010d	b0 17		 mov	 al, 23			; 00000017H
  0010f	3a c1		 cmp	 al, cl
  00111	1b c0		 sbb	 eax, eax
  00113	83 c0 01	 add	 eax, 1
  00116	0f 85 3b ff ff
	ff		 jne	 $LN49@CreateKali
$LN7@CreateKali:

; 88   : 		{
; 89   : 			return false;
; 90   : 		}
; 91   : 
; 92   : 		if ( IT_MAP_RANGE(gObj[iIndex].MapNumber) )

  0011c	80 f9 2d	 cmp	 cl, 45			; 0000002dH
  0011f	72 0f		 jb	 SHORT $LN8@CreateKali
  00121	b0 32		 mov	 al, 50			; 00000032H
  00123	3a c1		 cmp	 al, cl
  00125	1b c0		 sbb	 eax, eax
  00127	83 c0 01	 add	 eax, 1
  0012a	0f 85 27 ff ff
	ff		 jne	 $LN49@CreateKali
$LN8@CreateKali:

; 93   : 		{
; 94   : 			return false;
; 95   : 		}
; 96   : 
; 97   : 		if ( DG_MAP_RANGE(gObj[iIndex].MapNumber) )

  00130	80 f9 41	 cmp	 cl, 65			; 00000041H
  00133	72 12		 jb	 SHORT $LN9@CreateKali
  00135	b8 44 00 00 00	 mov	 eax, 68			; 00000044H
  0013a	3a c1		 cmp	 al, cl
  0013c	1b c0		 sbb	 eax, eax
  0013e	83 c0 01	 add	 eax, 1
  00141	0f 85 10 ff ff
	ff		 jne	 $LN49@CreateKali
$LN9@CreateKali:

; 98   : 		{
; 99   : 			return false;
; 100  : 		}
; 101  : 
; 102  : 		if ( IF_MAP_RANGE(gObj[iIndex].MapNumber) )

  00147	80 f9 45	 cmp	 cl, 69			; 00000045H
  0014a	72 12		 jb	 SHORT $LN10@CreateKali
  0014c	b8 48 00 00 00	 mov	 eax, 72			; 00000048H
  00151	3a c1		 cmp	 al, cl
  00153	1b c0		 sbb	 eax, eax
  00155	83 c0 01	 add	 eax, 1
  00158	0f 85 f9 fe ff
	ff		 jne	 $LN49@CreateKali
$LN10@CreateKali:

; 103  : 		{
; 104  : 			return false;
; 105  : 		}
; 106  : 
; 107  : 		if ( KALIMA_FLOOR_RANGE(iKalimaGateLevel)== FALSE )

  0015e	85 f6		 test	 esi, esi
  00160	0f 88 46 04 00
	00		 js	 $LN46@CreateKali
  00166	33 c0		 xor	 eax, eax
  00168	83 fe 06	 cmp	 esi, 6
  0016b	0f 9e c0	 setle	 al
  0016e	85 c0		 test	 eax, eax
  00170	0f 84 36 04 00
	00		 je	 $LN46@CreateKali

; 112  : 		}
; 113  : 
; 114  : 		iMapNumber = gObj[iIndex].MapNumber;

  00176	0f b6 c1	 movzx	 eax, cl
  00179	89 45 e0	 mov	 DWORD PTR _iMapNumber$2[ebp], eax

; 115  : 
; 116  : 		btMapAttr = MapC[iMapNumber].GetAttr(gObj[iIndex].X, gObj[iIndex].Y);

  0017c	69 c0 28 38 05
	00		 imul	 eax, eax, 342056
  00182	8d 88 00 00 00
	00		 lea	 ecx, DWORD PTR ?MapC@@3PAVMapClass@@A[eax]
  00188	89 4d d8	 mov	 DWORD PTR tv672[ebp], ecx
  0018b	0f b6 84 17 21
	01 00 00	 movzx	 eax, BYTE PTR [edi+edx+289]
  00193	50		 push	 eax
  00194	0f b6 84 17 20
	01 00 00	 movzx	 eax, BYTE PTR [edi+edx+288]
  0019c	50		 push	 eax
  0019d	e8 00 00 00 00	 call	 ?GetAttr@MapClass@@QAEEHH@Z ; MapClass::GetAttr

; 117  : 
; 118  : 		if ( (btMapAttr &1) != 0 )

  001a2	a8 01		 test	 al, 1
  001a4	74 62		 je	 SHORT $LN12@CreateKali

; 119  : 		{
; 120  : 			LogAddTD("[Kalima] [%s][%s] Failed to Summon Kalima Gate - Called in Saftey Area (Map:%d, X:%d, Y:%d)",

  001a6	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  001ac	0f b6 84 0f 21
	01 00 00	 movzx	 eax, BYTE PTR [edi+ecx+289]
  001b4	50		 push	 eax
  001b5	0f b6 84 0f 20
	01 00 00	 movzx	 eax, BYTE PTR [edi+ecx+288]
  001bd	50		 push	 eax
  001be	0f b6 84 0f 23
	01 00 00	 movzx	 eax, BYTE PTR [edi+ecx+291]
  001c6	50		 push	 eax
  001c7	8d 41 5d	 lea	 eax, DWORD PTR [ecx+93]
  001ca	03 c7		 add	 eax, edi
  001cc	50		 push	 eax
  001cd	8d 41 52	 lea	 eax, DWORD PTR [ecx+82]
  001d0	03 c7		 add	 eax, edi
  001d2	50		 push	 eax
  001d3	68 00 00 00 00	 push	 OFFSET ??_C@_0FM@IGFLMFGN@?$FLKalima?$FN?5?$FL?$CFs?$FN?$FL?$CFs?$FN?5Failed?5to?5Summ@
$LN52@CreateKali:
  001d8	ff 15 00 00 00
	00		 call	 DWORD PTR ?LogAddTD@@3P6AXPADZZA ; LogAddTD

; 121  : 				gObj[iIndex].AccountID, gObj[iIndex].Name, gObj[iIndex].MapNumber,
; 122  : 				gObj[iIndex].X, gObj[iIndex].Y);
; 123  : 			return false;

  001de	6a fe		 push	 -2			; fffffffeH
  001e0	9b		 fwait
  001e1	8d 45 f0	 lea	 eax, DWORD PTR __$SEHRec$[ebp+8]
  001e4	50		 push	 eax
  001e5	68 00 00 00 00	 push	 OFFSET ___security_cookie
  001ea	e8 00 00 00 00	 call	 __local_unwind4
  001ef	83 c4 24	 add	 esp, 36			; 00000024H
  001f2	33 c0		 xor	 eax, eax

; 216  : }

  001f4	8b 4d f0	 mov	 ecx, DWORD PTR __$SEHRec$[ebp+8]
  001f7	64 89 0d 00 00
	00 00		 mov	 DWORD PTR fs:0, ecx
  001fe	59		 pop	 ecx
  001ff	5f		 pop	 edi
  00200	5e		 pop	 esi
  00201	5b		 pop	 ebx
  00202	8b e5		 mov	 esp, ebp
  00204	5d		 pop	 ebp
  00205	c2 10 00	 ret	 16			; 00000010H
$LN12@CreateKali:

; 124  : 		}
; 125  : 
; 126  : 		if ( gObj[iIndex].m_cKalimaGateExist == TRUE )

  00208	a1 00 00 00 00	 mov	 eax, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  0020d	80 bc 07 aa 05
	00 00 01	 cmp	 BYTE PTR [edi+eax+1450], 1
  00215	75 69		 jne	 SHORT $LN13@CreateKali

; 127  : 		{
; 128  : 			GCServerMsgStringSend(lMsg.Get( MSGGET( 4, 224)), iIndex, 1);

  00217	6a 01		 push	 1
  00219	8b 4d 08	 mov	 ecx, DWORD PTR _iIndex$[ebp]
  0021c	51		 push	 ecx
  0021d	68 e0 04 00 00	 push	 1248			; 000004e0H
  00222	b9 00 00 00 00	 mov	 ecx, OFFSET ?lMsg@@3VMessage@@A ; lMsg
  00227	e8 00 00 00 00	 call	 ?Get@Message@@QAEPADH@Z	; Message::Get
  0022c	50		 push	 eax
  0022d	e8 00 00 00 00	 call	 ?GCServerMsgStringSend@@YAXPADHE@Z ; GCServerMsgStringSend

; 129  : 			LogAddTD("[Kalima] [%s][%s] Failed to Summon Kalima Gate - Already Have Gate (SummonIndex:%d)",

  00232	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  00238	ff b4 0f ac 05
	00 00		 push	 DWORD PTR [edi+ecx+1452]
  0023f	8d 41 5d	 lea	 eax, DWORD PTR [ecx+93]
  00242	03 c7		 add	 eax, edi
  00244	50		 push	 eax
  00245	8d 41 52	 lea	 eax, DWORD PTR [ecx+82]
  00248	03 c7		 add	 eax, edi
  0024a	50		 push	 eax
  0024b	68 00 00 00 00	 push	 OFFSET ??_C@_0FE@NNCGKIKM@?$FLKalima?$FN?5?$FL?$CFs?$FN?$FL?$CFs?$FN?5Failed?5to?5Summ@
  00250	ff 15 00 00 00
	00		 call	 DWORD PTR ?LogAddTD@@3P6AXPADZZA ; LogAddTD

; 130  : 				gObj[iIndex].AccountID, gObj[iIndex].Name, gObj[iIndex].m_iKalimaGateIndex);
; 131  : 			return false;

  00256	6a fe		 push	 -2			; fffffffeH
  00258	9b		 fwait
  00259	8d 45 f0	 lea	 eax, DWORD PTR __$SEHRec$[ebp+8]
  0025c	50		 push	 eax
  0025d	68 00 00 00 00	 push	 OFFSET ___security_cookie
  00262	e8 00 00 00 00	 call	 __local_unwind4
  00267	83 c4 28	 add	 esp, 40			; 00000028H
  0026a	33 c0		 xor	 eax, eax

; 216  : }

  0026c	8b 4d f0	 mov	 ecx, DWORD PTR __$SEHRec$[ebp+8]
  0026f	64 89 0d 00 00
	00 00		 mov	 DWORD PTR fs:0, ecx
  00276	59		 pop	 ecx
  00277	5f		 pop	 edi
  00278	5e		 pop	 esi
  00279	5b		 pop	 ebx
  0027a	8b e5		 mov	 esp, ebp
  0027c	5d		 pop	 ebp
  0027d	c2 10 00	 ret	 16			; 00000010H
$LN13@CreateKali:

; 132  : 		}
; 133  : 
; 134  : 		iMonsterType = iKalimaGateLevel+152;

  00280	8d 86 98 00 00
	00		 lea	 eax, DWORD PTR [esi+152]
  00286	89 45 dc	 mov	 DWORD PTR _iMonsterType$1$[ebp], eax

; 135  : 		cX = cTX;

  00289	8a 55 10	 mov	 dl, BYTE PTR _cTX$[ebp]
  0028c	88 55 0f	 mov	 BYTE PTR _cX$4[ebp], dl

; 136  : 		cY = cTY;

  0028f	8a 45 14	 mov	 al, BYTE PTR _cTY$[ebp]
  00292	88 45 e7	 mov	 BYTE PTR _cY$3[ebp], al

; 137  : 
; 138  : 		btMapAttr = MapC[iMapNumber].GetAttr(cX, cY);

  00295	0f b6 c0	 movzx	 eax, al
  00298	50		 push	 eax
  00299	0f b6 c2	 movzx	 eax, dl
  0029c	50		 push	 eax
  0029d	8b 4d d8	 mov	 ecx, DWORD PTR tv672[ebp]
  002a0	e8 00 00 00 00	 call	 ?GetAttr@MapClass@@QAEEHH@Z ; MapClass::GetAttr

; 139  : 
; 140  : 		if ( btMapAttr != 0 )

  002a5	84 c0		 test	 al, al
  002a7	74 52		 je	 SHORT $LN15@CreateKali

; 141  : 		{
; 142  : 			if (this->GetRandomLocation(iMapNumber, cX, cY) == 0)

  002a9	8d 45 e7	 lea	 eax, DWORD PTR _cY$3[ebp]
  002ac	50		 push	 eax
  002ad	8d 45 0f	 lea	 eax, DWORD PTR _cX$4[ebp]
  002b0	50		 push	 eax
  002b1	8b 4d e0	 mov	 ecx, DWORD PTR _iMapNumber$2[ebp]
  002b4	51		 push	 ecx
  002b5	8b cb		 mov	 ecx, ebx
  002b7	e8 00 00 00 00	 call	 ?GetRandomLocation@CKalimaGate@@AAEHHAAE0@Z ; CKalimaGate::GetRandomLocation
  002bc	85 c0		 test	 eax, eax
  002be	75 2f		 jne	 SHORT $LN47@CreateKali

; 143  : 			{
; 144  : 			LogAddTD("[Kalima] [%s][%s] Failed to Summon Kalima Gate - Failed to get Location (MapNumber:%d, X:%d, Y:%d)",

  002c0	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  002c6	0f b6 45 e7	 movzx	 eax, BYTE PTR _cY$3[ebp]
  002ca	50		 push	 eax
  002cb	0f b6 45 0f	 movzx	 eax, BYTE PTR _cX$4[ebp]
  002cf	50		 push	 eax
  002d0	0f b6 84 0f 23
	01 00 00	 movzx	 eax, BYTE PTR [edi+ecx+291]
  002d8	50		 push	 eax
  002d9	8d 41 5d	 lea	 eax, DWORD PTR [ecx+93]
  002dc	03 c7		 add	 eax, edi
  002de	50		 push	 eax
  002df	8d 41 52	 lea	 eax, DWORD PTR [ecx+82]
  002e2	03 c7		 add	 eax, edi
  002e4	50		 push	 eax
  002e5	68 00 00 00 00	 push	 OFFSET ??_C@_0GD@BNDCCFJF@?$FLKalima?$FN?5?$FL?$CFs?$FN?$FL?$CFs?$FN?5Failed?5to?5Summ@

; 145  : 				gObj[iIndex].AccountID, gObj[iIndex].Name, gObj[iIndex].MapNumber, cX, cY);
; 146  : 			return false;

  002ea	e9 e9 fe ff ff	 jmp	 $LN52@CreateKali
$LN47@CreateKali:
  002ef	8a 55 0f	 mov	 dl, BYTE PTR _cX$4[ebp]
  002f2	88 55 10	 mov	 BYTE PTR _cTX$[ebp], dl
  002f5	8a 45 e7	 mov	 al, BYTE PTR _cY$3[ebp]
  002f8	88 45 14	 mov	 BYTE PTR _cTY$[ebp], al
$LN15@CreateKali:

; 147  : 			}
; 148  : 		}
; 149  : 
; 150  : 		if ( gObj[iIndex].MapNumber == 10 )

  002fb	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  00301	80 bc 0f 23 01
	00 00 0a	 cmp	 BYTE PTR [edi+ecx+291], 10 ; 0000000aH
  00309	75 18		 jne	 SHORT $LN16@CreateKali

; 151  : 		{
; 152  : 			LogAddTD("[Kalima] [%s][%s] Failed to Summon Kalima Gate - Uable to Summon in this Map (MapNumber:%d)",

  0030b	6a 0a		 push	 10			; 0000000aH
  0030d	8d 41 5d	 lea	 eax, DWORD PTR [ecx+93]
  00310	03 c7		 add	 eax, edi
  00312	50		 push	 eax
  00313	8d 41 52	 lea	 eax, DWORD PTR [ecx+82]
  00316	03 c7		 add	 eax, edi
  00318	50		 push	 eax
  00319	68 00 00 00 00	 push	 OFFSET ??_C@_0FM@OJLJJEMN@?$FLKalima?$FN?5?$FL?$CFs?$FN?$FL?$CFs?$FN?5Failed?5to?5Summ@

; 153  : 				gObj[iIndex].AccountID, gObj[iIndex].Name, gObj[iIndex].MapNumber);
; 154  : 			return false;

  0031e	e9 9e 02 00 00	 jmp	 $LN50@CreateKali
$LN16@CreateKali:

; 155  : 		}
; 156  : 
; 157  : 		iMonsterIndex = gObjAddMonster(iMapNumber);

  00323	ff 75 e0	 push	 DWORD PTR _iMapNumber$2[ebp]
  00326	e8 00 00 00 00	 call	 ?gObjAddMonster@@YAFH@Z	; gObjAddMonster
  0032b	83 c4 04	 add	 esp, 4
  0032e	0f bf f0	 movsx	 esi, ax
  00331	89 75 0c	 mov	 DWORD PTR _iMonsterIndex$1$[ebp], esi

; 158  : 
; 159  : 		if ( iMonsterIndex >= 0 )

  00334	85 f6		 test	 esi, esi
  00336	0f 88 4a 02 00
	00		 js	 $LN17@CreateKali

; 160  : 		{
; 161  : 			LPMONSTER_ATTRIBUTE lpMATTR = gMAttr.GetAttr(iMonsterType);

  0033c	ff 75 dc	 push	 DWORD PTR _iMonsterType$1$[ebp]
  0033f	b9 00 00 00 00	 mov	 ecx, OFFSET ?gMAttr@@3VCMonsterAttr@@A ; gMAttr
  00344	e8 00 00 00 00	 call	 ?GetAttr@CMonsterAttr@@QAEPAUMONSTER_ATTRIBUTE@@H@Z ; CMonsterAttr::GetAttr
  00349	89 45 d8	 mov	 DWORD PTR _lpMATTR$1$[ebp], eax

; 162  : 			
; 163  : 			if ( lpMATTR == NULL )

  0034c	85 c0		 test	 eax, eax
  0034e	75 4e		 jne	 SHORT $LN18@CreateKali

; 164  : 			{
; 165  : 				gObjDel(iMonsterIndex);

  00350	56		 push	 esi
  00351	e8 00 00 00 00	 call	 ?gObjDel@@YAFH@Z	; gObjDel

; 166  : 				LogAddTD("[Kalima] [%s][%s] Kalima Gate Vanished - lpMATTR == NULL (SummonIndex:%d)",

  00356	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  0035c	56		 push	 esi
  0035d	8d 41 5d	 lea	 eax, DWORD PTR [ecx+93]
  00360	03 c7		 add	 eax, edi
  00362	50		 push	 eax
  00363	8d 41 52	 lea	 eax, DWORD PTR [ecx+82]
  00366	03 c7		 add	 eax, edi
  00368	50		 push	 eax
  00369	68 00 00 00 00	 push	 OFFSET ??_C@_0EK@OMOPGPDM@?$FLKalima?$FN?5?$FL?$CFs?$FN?$FL?$CFs?$FN?5Kalima?5Gate?5Va@
  0036e	ff 15 00 00 00
	00		 call	 DWORD PTR ?LogAddTD@@3P6AXPADZZA ; LogAddTD

; 167  : 					gObj[iIndex].AccountID, gObj[iIndex].Name, iMonsterIndex);
; 168  : 				return false;

  00374	6a fe		 push	 -2			; fffffffeH
  00376	9b		 fwait
  00377	8d 45 f0	 lea	 eax, DWORD PTR __$SEHRec$[ebp+8]
  0037a	50		 push	 eax
  0037b	68 00 00 00 00	 push	 OFFSET ___security_cookie
  00380	e8 00 00 00 00	 call	 __local_unwind4
  00385	83 c4 20	 add	 esp, 32			; 00000020H

; 110  : 				gObj[iIndex].AccountID, gObj[iIndex].Name, iKalimaGateLevel+1);
; 111  : 			return false;

  00388	33 c0		 xor	 eax, eax

; 216  : }

  0038a	8b 4d f0	 mov	 ecx, DWORD PTR __$SEHRec$[ebp+8]
  0038d	64 89 0d 00 00
	00 00		 mov	 DWORD PTR fs:0, ecx
  00394	59		 pop	 ecx
  00395	5f		 pop	 edi
  00396	5e		 pop	 esi
  00397	5b		 pop	 ebx
  00398	8b e5		 mov	 esp, ebp
  0039a	5d		 pop	 ebp
  0039b	c2 10 00	 ret	 16			; 00000010H
$LN18@CreateKali:

; 169  : 			}
; 170  : 
; 171  : 			gObjSetMonster(iMonsterIndex, iMonsterType);

  0039e	ff 75 dc	 push	 DWORD PTR _iMonsterType$1$[ebp]
  003a1	56		 push	 esi
  003a2	e8 00 00 00 00	 call	 ?gObjSetMonster@@YAHHH@Z ; gObjSetMonster
  003a7	83 c4 08	 add	 esp, 8

; 172  : 			gObj[iMonsterIndex].Live = TRUE;

  003aa	69 f6 40 27 00
	00		 imul	 esi, esi, 10048
  003b0	a1 00 00 00 00	 mov	 eax, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  003b5	c6 44 06 51 01	 mov	 BYTE PTR [esi+eax+81], 1

; 173  : 			gObj[iMonsterIndex].Life = 1000.0;

  003ba	a1 00 00 00 00	 mov	 eax, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  003bf	c7 84 06 d8 00
	00 00 00 00 7a
	44		 mov	 DWORD PTR [esi+eax+216], 1148846080 ; 447a0000H

; 174  : 			gObj[iMonsterIndex].MaxLife = 1000.0;

  003ca	a1 00 00 00 00	 mov	 eax, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  003cf	c7 84 06 dc 00
	00 00 00 00 7a
	44		 mov	 DWORD PTR [esi+eax+220], 1148846080 ; 447a0000H

; 175  : 			gObj[iMonsterIndex].m_PosNum = -1;

  003da	83 c9 ff	 or	 ecx, -1
  003dd	a1 00 00 00 00	 mov	 eax, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  003e2	66 89 8c 06 98
	05 00 00	 mov	 WORD PTR [esi+eax+1432], cx

; 176  : 			gObj[iMonsterIndex].X = cX;

  003ea	a1 00 00 00 00	 mov	 eax, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  003ef	8a 4d 10	 mov	 cl, BYTE PTR _cTX$[ebp]
  003f2	88 8c 06 20 01
	00 00		 mov	 BYTE PTR [esi+eax+288], cl

; 177  : 			gObj[iMonsterIndex].Y = cY;

  003f9	a1 00 00 00 00	 mov	 eax, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  003fe	8a 55 14	 mov	 dl, BYTE PTR _cTY$[ebp]
  00401	88 94 06 21 01
	00 00		 mov	 BYTE PTR [esi+eax+289], dl

; 178  : 			gObj[iMonsterIndex].MTX = cX;

  00408	a1 00 00 00 00	 mov	 eax, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  0040d	88 8c 06 54 01
	00 00		 mov	 BYTE PTR [esi+eax+340], cl

; 179  : 			gObj[iMonsterIndex].MTY = cY;

  00414	a1 00 00 00 00	 mov	 eax, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  00419	88 94 06 55 01
	00 00		 mov	 BYTE PTR [esi+eax+341], dl

; 180  : 			gObj[iMonsterIndex].TX = cX;

  00420	a1 00 00 00 00	 mov	 eax, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  00425	88 8c 06 52 01
	00 00		 mov	 BYTE PTR [esi+eax+338], cl

; 181  : 			gObj[iMonsterIndex].TY = cY;

  0042c	a1 00 00 00 00	 mov	 eax, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  00431	88 94 06 53 01
	00 00		 mov	 BYTE PTR [esi+eax+339], dl

; 182  : 			gObj[iMonsterIndex].m_OldX = cX;

  00438	a1 00 00 00 00	 mov	 eax, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  0043d	88 8c 06 50 01
	00 00		 mov	 BYTE PTR [esi+eax+336], cl

; 183  : 			gObj[iMonsterIndex].m_OldY = cY;

  00444	a1 00 00 00 00	 mov	 eax, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  00449	88 94 06 51 01
	00 00		 mov	 BYTE PTR [esi+eax+337], dl

; 184  : 			gObj[iMonsterIndex].StartX = cX;

  00450	a1 00 00 00 00	 mov	 eax, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  00455	88 8c 06 4e 01
	00 00		 mov	 BYTE PTR [esi+eax+334], cl

; 185  : 			gObj[iMonsterIndex].StartY = cY;

  0045c	a1 00 00 00 00	 mov	 eax, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  00461	88 94 06 4f 01
	00 00		 mov	 BYTE PTR [esi+eax+335], dl

; 186  : 			gObj[iMonsterIndex].MapNumber = iMapNumber;

  00468	a1 00 00 00 00	 mov	 eax, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  0046d	8b 4d e0	 mov	 ecx, DWORD PTR _iMapNumber$2[ebp]
  00470	88 8c 06 23 01
	00 00		 mov	 BYTE PTR [esi+eax+291], cl

; 187  : 			gObj[iMonsterIndex].m_MoveRange = 0;

  00477	33 c9		 xor	 ecx, ecx
  00479	a1 00 00 00 00	 mov	 eax, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  0047e	66 89 8c 06 8e
	06 00 00	 mov	 WORD PTR [esi+eax+1678], cx

; 188  : 			gObj[iMonsterIndex].m_cKalimaGateEnterCount = 0;

  00486	a1 00 00 00 00	 mov	 eax, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  0048b	88 8c 06 b0 05
	00 00		 mov	 BYTE PTR [esi+eax+1456], cl

; 189  : 
; 190  : 			gObj[iIndex].m_cKalimaGateExist = TRUE;

  00492	a1 00 00 00 00	 mov	 eax, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  00497	c6 84 07 aa 05
	00 00 01	 mov	 BYTE PTR [edi+eax+1450], 1

; 191  : 			gObj[iIndex].m_iKalimaGateIndex = iMonsterIndex;

  0049f	a1 00 00 00 00	 mov	 eax, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  004a4	8b 4d 0c	 mov	 ecx, DWORD PTR _iMonsterIndex$1$[ebp]
  004a7	89 8c 07 ac 05
	00 00		 mov	 DWORD PTR [edi+eax+1452], ecx

; 192  : 
; 193  : 			gObj[iMonsterIndex].Level = lpMATTR->m_Level;

  004ae	8b 45 d8	 mov	 eax, DWORD PTR _lpMATTR$1$[ebp]
  004b1	66 8b 48 44	 mov	 cx, WORD PTR [eax+68]
  004b5	a1 00 00 00 00	 mov	 eax, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  004ba	66 89 8c 06 96
	00 00 00	 mov	 WORD PTR [esi+eax+150], cx

; 194  : 			gObj[iMonsterIndex].Type = OBJ_MONSTER;

  004c2	a1 00 00 00 00	 mov	 eax, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  004c7	c6 44 06 50 02	 mov	 BYTE PTR [esi+eax+80], 2

; 195  : 			gObj[iMonsterIndex].MaxRegenTime = 1000;

  004cc	a1 00 00 00 00	 mov	 eax, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  004d1	c7 84 06 94 05
	00 00 e8 03 00
	00		 mov	 DWORD PTR [esi+eax+1428], 1000 ; 000003e8H

; 196  : 			gObj[iMonsterIndex].Dir = 1;

  004dc	a1 00 00 00 00	 mov	 eax, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  004e1	c6 84 06 22 01
	00 00 01	 mov	 BYTE PTR [esi+eax+290], 1

; 197  : 
; 198  : 			gObj[iMonsterIndex].m_RecallMon = iIndex;

  004e9	a1 00 00 00 00	 mov	 eax, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  004ee	8b 4d 08	 mov	 ecx, DWORD PTR _iIndex$[ebp]
  004f1	89 8c 06 30 06
	00 00		 mov	 DWORD PTR [esi+eax+1584], ecx

; 199  : 			gObj[iMonsterIndex].RegenTime = GetTickCount();

  004f8	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__GetTickCount@0
  004fe	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  00504	89 84 0e 90 05
	00 00		 mov	 DWORD PTR [esi+ecx+1424], eax

; 200  : 			gObj[iMonsterIndex].m_Attribute = iKalimaGateLevel + 51;

  0050b	8b 55 d4	 mov	 edx, DWORD PTR _iKalimaGateLevel$2$[ebp]
  0050e	8d 4a 33	 lea	 ecx, DWORD PTR [edx+51]
  00511	a1 00 00 00 00	 mov	 eax, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  00516	66 89 8c 06 96
	06 00 00	 mov	 WORD PTR [esi+eax+1686], cx

; 201  : 			gObj[iMonsterIndex].DieRegen = FALSE;

  0051e	a1 00 00 00 00	 mov	 eax, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  00523	c6 84 06 8a 05
	00 00 00	 mov	 BYTE PTR [esi+eax+1418], 0

; 202  : 			
; 203  : 			LogAddTD("[Kalima] [%s][%s] Create Kalima Gate Successfuly (Live:%d, GateTick:%u, DieRegen:%d, Map:%d, X:%d, Y:%d, SummonIndex:%d, OwnerIndex:%d, GateNo.:%d)",

  0052b	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  00531	8d 42 01	 lea	 eax, DWORD PTR [edx+1]
  00534	50		 push	 eax
  00535	ff 75 08	 push	 DWORD PTR _iIndex$[ebp]
  00538	ff 75 0c	 push	 DWORD PTR _iMonsterIndex$1$[ebp]
  0053b	0f b6 84 0e 21
	01 00 00	 movzx	 eax, BYTE PTR [esi+ecx+289]
  00543	50		 push	 eax
  00544	0f b6 84 0e 20
	01 00 00	 movzx	 eax, BYTE PTR [esi+ecx+288]
  0054c	50		 push	 eax
  0054d	0f b6 84 0e 23
	01 00 00	 movzx	 eax, BYTE PTR [esi+ecx+291]
  00555	50		 push	 eax
  00556	0f be 84 0e 8a
	05 00 00	 movsx	 eax, BYTE PTR [esi+ecx+1418]
  0055e	50		 push	 eax
  0055f	ff b4 0e 90 05
	00 00		 push	 DWORD PTR [esi+ecx+1424]
  00566	0f b6 44 0e 51	 movzx	 eax, BYTE PTR [esi+ecx+81]
  0056b	50		 push	 eax
  0056c	8d 41 5d	 lea	 eax, DWORD PTR [ecx+93]
  0056f	03 c7		 add	 eax, edi
  00571	50		 push	 eax
  00572	8d 41 52	 lea	 eax, DWORD PTR [ecx+82]
  00575	03 c7		 add	 eax, edi
  00577	50		 push	 eax
  00578	68 00 00 00 00	 push	 OFFSET ??_C@_0JE@GBKKIBCM@?$FLKalima?$FN?5?$FL?$CFs?$FN?$FL?$CFs?$FN?5Create?5Kalima?5@
  0057d	ff 15 00 00 00
	00		 call	 DWORD PTR ?LogAddTD@@3P6AXPADZZA ; LogAddTD
  00583	83 c4 30	 add	 esp, 48			; 00000030H
$LN17@CreateKali:

; 204  : 				gObj[iIndex].AccountID, gObj[iIndex].Name, gObj[iMonsterIndex].Live, gObj[iMonsterIndex].RegenTime,
; 205  : 				gObj[iMonsterIndex].DieRegen, gObj[iMonsterIndex].MapNumber, gObj[iMonsterIndex].X,
; 206  : 				gObj[iMonsterIndex].Y, iMonsterIndex, iIndex, iKalimaGateLevel+1);
; 207  : 			bKalimaGateCreateSucceed = TRUE;
; 208  : 		}
; 209  : 	}

  00586	9b		 fwait
  00587	c7 45 fc fe ff
	ff ff		 mov	 DWORD PTR __$SEHRec$[ebp+20], -2 ; fffffffeH
  0058e	e8 61 00 00 00	 call	 $LN41@CreateKali
$LN42@CreateKali:

; 213  : 	}
; 214  : 
; 215  : 	return true;

  00593	b8 01 00 00 00	 mov	 eax, 1

; 216  : }

  00598	8b 4d f0	 mov	 ecx, DWORD PTR __$SEHRec$[ebp+8]
  0059b	64 89 0d 00 00
	00 00		 mov	 DWORD PTR fs:0, ecx
  005a2	59		 pop	 ecx
  005a3	5f		 pop	 edi
  005a4	5e		 pop	 esi
  005a5	5b		 pop	 ebx
  005a6	8b e5		 mov	 esp, ebp
  005a8	5d		 pop	 ebp
  005a9	c2 10 00	 ret	 16			; 00000010H
$LN46@CreateKali:

; 108  : 		{
; 109  : 			LogAddTD("[Kalima] [%s][%s] Failed to Summon Kalima Gate - Gate Level Check Error : %d",

  005ac	8d 46 01	 lea	 eax, DWORD PTR [esi+1]
  005af	50		 push	 eax
  005b0	8d 42 5d	 lea	 eax, DWORD PTR [edx+93]
  005b3	03 c7		 add	 eax, edi
  005b5	50		 push	 eax
  005b6	8d 42 52	 lea	 eax, DWORD PTR [edx+82]
  005b9	03 c7		 add	 eax, edi
  005bb	50		 push	 eax
  005bc	68 00 00 00 00	 push	 OFFSET ??_C@_0EN@GPHOBJAE@?$FLKalima?$FN?5?$FL?$CFs?$FN?$FL?$CFs?$FN?5Failed?5to?5Summ@
$LN50@CreateKali:
  005c1	ff 15 00 00 00
	00		 call	 DWORD PTR ?LogAddTD@@3P6AXPADZZA ; LogAddTD

; 110  : 				gObj[iIndex].AccountID, gObj[iIndex].Name, iKalimaGateLevel+1);
; 111  : 			return false;

  005c7	6a fe		 push	 -2			; fffffffeH
  005c9	9b		 fwait
  005ca	8d 45 f0	 lea	 eax, DWORD PTR __$SEHRec$[ebp+8]
  005cd	50		 push	 eax
  005ce	68 00 00 00 00	 push	 OFFSET ___security_cookie
  005d3	e8 00 00 00 00	 call	 __local_unwind4
  005d8	83 c4 1c	 add	 esp, 28			; 0000001cH
  005db	33 c0		 xor	 eax, eax

; 216  : }

  005dd	8b 4d f0	 mov	 ecx, DWORD PTR __$SEHRec$[ebp+8]
  005e0	64 89 0d 00 00
	00 00		 mov	 DWORD PTR fs:0, ecx
  005e7	59		 pop	 ecx
  005e8	5f		 pop	 edi
  005e9	5e		 pop	 esi
  005ea	5b		 pop	 ebx
  005eb	8b e5		 mov	 esp, ebp
  005ed	5d		 pop	 ebp
  005ee	c2 10 00	 ret	 16			; 00000010H
$LN39@CreateKali:
$LN53@CreateKali:

; 204  : 				gObj[iIndex].AccountID, gObj[iIndex].Name, gObj[iMonsterIndex].Live, gObj[iMonsterIndex].RegenTime,
; 205  : 				gObj[iMonsterIndex].DieRegen, gObj[iMonsterIndex].MapNumber, gObj[iMonsterIndex].X,
; 206  : 				gObj[iMonsterIndex].Y, iMonsterIndex, iIndex, iKalimaGateLevel+1);
; 207  : 			bKalimaGateCreateSucceed = TRUE;
; 208  : 		}
; 209  : 	}

  005f1	8b 5d d0	 mov	 ebx, DWORD PTR _this$[ebp]
$LN41@CreateKali:

; 210  : 	__finally
; 211  : 	{
; 212  : 		LeaveCriticalSection(&this->m_critKalimaGate);

  005f4	8d 43 04	 lea	 eax, DWORD PTR [ebx+4]
  005f7	50		 push	 eax
  005f8	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__LeaveCriticalSection@4
$LN40@CreateKali:
$LN48@CreateKali:
  005fe	c3		 ret	 0
?CreateKalimaGate@CKalimaGate@@QAEHHEEE@Z ENDP		; CKalimaGate::CreateKalimaGate
_TEXT	ENDS
; Function compile flags: /Ogtp
; File c:\users\michel\desktop\source\gameserver\source\kalimagate.cpp
;	COMDAT ??1CKalimaGate@@UAE@XZ
_TEXT	SEGMENT
??1CKalimaGate@@UAE@XZ PROC				; CKalimaGate::~CKalimaGate, COMDAT
; _this$ = ecx

; 34   : 	DeleteCriticalSection(&this->m_critKalimaGate );

  00000	8d 41 04	 lea	 eax, DWORD PTR [ecx+4]
  00003	c7 01 00 00 00
	00		 mov	 DWORD PTR [ecx], OFFSET ??_7CKalimaGate@@6B@
  00009	50		 push	 eax
  0000a	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__DeleteCriticalSection@4

; 35   : }

  00010	c3		 ret	 0
??1CKalimaGate@@UAE@XZ ENDP				; CKalimaGate::~CKalimaGate
_TEXT	ENDS
; Function compile flags: /Ogtp
; File c:\users\michel\desktop\source\gameserver\source\kalimagate.cpp
;	COMDAT ??0CKalimaGate@@QAE@XZ
_TEXT	SEGMENT
??0CKalimaGate@@QAE@XZ PROC				; CKalimaGate::CKalimaGate, COMDAT
; _this$ = ecx

; 23   : {

  00000	56		 push	 esi
  00001	8b f1		 mov	 esi, ecx

; 24   : 	InitializeCriticalSection(&this->m_critKalimaGate );

  00003	8d 46 04	 lea	 eax, DWORD PTR [esi+4]
  00006	c7 06 00 00 00
	00		 mov	 DWORD PTR [esi], OFFSET ??_7CKalimaGate@@6B@
  0000c	50		 push	 eax
  0000d	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__InitializeCriticalSection@4

; 25   : }

  00013	8b c6		 mov	 eax, esi
  00015	5e		 pop	 esi
  00016	c3		 ret	 0
??0CKalimaGate@@QAE@XZ ENDP				; CKalimaGate::CKalimaGate
_TEXT	ENDS
; Function compile flags: /Ogtp
;	COMDAT ??_EOBJECTSTRUCT@@QAEPAXI@Z
_TEXT	SEGMENT
__$EHRec$ = -12						; size = 12
___flags$ = 8						; size = 4
??_EOBJECTSTRUCT@@QAEPAXI@Z PROC			; OBJECTSTRUCT::`vector deleting destructor', COMDAT
; _this$ = ecx
  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	6a ff		 push	 -1
  00005	68 00 00 00 00	 push	 __ehhandler$??_EOBJECTSTRUCT@@QAEPAXI@Z
  0000a	64 a1 00 00 00
	00		 mov	 eax, DWORD PTR fs:0
  00010	50		 push	 eax
  00011	53		 push	 ebx
  00012	56		 push	 esi
  00013	57		 push	 edi
  00014	a1 00 00 00 00	 mov	 eax, DWORD PTR ___security_cookie
  00019	33 c5		 xor	 eax, ebp
  0001b	50		 push	 eax
  0001c	8d 45 f4	 lea	 eax, DWORD PTR __$EHRec$[ebp]
  0001f	64 a3 00 00 00
	00		 mov	 DWORD PTR fs:0, eax
  00025	8b f1		 mov	 esi, ecx
  00027	8b 5d 08	 mov	 ebx, DWORD PTR ___flags$[ebp]
  0002a	f6 c3 02	 test	 bl, 2
  0002d	74 44		 je	 SHORT $LN2@vector
  0002f	68 00 00 00 00	 push	 OFFSET ??1OBJECTSTRUCT@@QAE@XZ
  00034	ff 76 fc	 push	 DWORD PTR [esi-4]
  00037	8d 7e fc	 lea	 edi, DWORD PTR [esi-4]
  0003a	68 40 27 00 00	 push	 10048			; 00002740H
  0003f	56		 push	 esi
  00040	e8 00 00 00 00	 call	 ??_M@YGXPAXIIP6EX0@Z@Z
  00045	f6 c3 01	 test	 bl, 1
  00048	74 13		 je	 SHORT $LN3@vector
  0004a	69 0f 40 27 00
	00		 imul	 ecx, DWORD PTR [edi], 10048
  00050	83 c1 04	 add	 ecx, 4
  00053	51		 push	 ecx
  00054	57		 push	 edi
  00055	e8 00 00 00 00	 call	 ??_V@YAXPAXI@Z		; operator delete[]
  0005a	83 c4 08	 add	 esp, 8
$LN3@vector:
  0005d	8b c7		 mov	 eax, edi
  0005f	8b 4d f4	 mov	 ecx, DWORD PTR __$EHRec$[ebp]
  00062	64 89 0d 00 00
	00 00		 mov	 DWORD PTR fs:0, ecx
  00069	59		 pop	 ecx
  0006a	5f		 pop	 edi
  0006b	5e		 pop	 esi
  0006c	5b		 pop	 ebx
  0006d	8b e5		 mov	 esp, ebp
  0006f	5d		 pop	 ebp
  00070	c2 04 00	 ret	 4
$LN2@vector:
  00073	8d 8e ec 20 00
	00		 lea	 ecx, DWORD PTR [esi+8428]
  00079	e8 00 00 00 00	 call	 ??1TMonsterAIAgro@@UAE@XZ ; TMonsterAIAgro::~TMonsterAIAgro
  0007e	8d 8e 0c 16 00
	00		 lea	 ecx, DWORD PTR [esi+5644]
  00084	e8 00 00 00 00	 call	 ??1CSkillDelay@@UAE@XZ	; CSkillDelay::~CSkillDelay
  00089	f6 c3 01	 test	 bl, 1
  0008c	74 0e		 je	 SHORT $LN4@vector
  0008e	68 40 27 00 00	 push	 10048			; 00002740H
  00093	56		 push	 esi
  00094	e8 00 00 00 00	 call	 ??3@YAXPAXI@Z		; operator delete
  00099	83 c4 08	 add	 esp, 8
$LN4@vector:
  0009c	8b c6		 mov	 eax, esi
  0009e	8b 4d f4	 mov	 ecx, DWORD PTR __$EHRec$[ebp]
  000a1	64 89 0d 00 00
	00 00		 mov	 DWORD PTR fs:0, ecx
  000a8	59		 pop	 ecx
  000a9	5f		 pop	 edi
  000aa	5e		 pop	 esi
  000ab	5b		 pop	 ebx
  000ac	8b e5		 mov	 esp, ebp
  000ae	5d		 pop	 ebp
  000af	c2 04 00	 ret	 4
_TEXT	ENDS
;	COMDAT text$x
text$x	SEGMENT
__ehhandler$??_EOBJECTSTRUCT@@QAEPAXI@Z:
  00000	8b 54 24 08	 mov	 edx, DWORD PTR [esp+8]
  00004	8d 42 0c	 lea	 eax, DWORD PTR [edx+12]
  00007	8b 4a f0	 mov	 ecx, DWORD PTR [edx-16]
  0000a	33 c8		 xor	 ecx, eax
  0000c	e8 00 00 00 00	 call	 @__security_check_cookie@4
  00011	b8 00 00 00 00	 mov	 eax, OFFSET __ehfuncinfo$??_EOBJECTSTRUCT@@QAEPAXI@Z
  00016	e9 00 00 00 00	 jmp	 ___CxxFrameHandler3
text$x	ENDS
??_EOBJECTSTRUCT@@QAEPAXI@Z ENDP			; OBJECTSTRUCT::`vector deleting destructor'
; Function compile flags: /Ogtp
;	COMDAT ??1OBJECTSTRUCT@@QAE@XZ
_TEXT	SEGMENT
??1OBJECTSTRUCT@@QAE@XZ PROC				; OBJECTSTRUCT::~OBJECTSTRUCT, COMDAT
; _this$ = ecx
  00000	56		 push	 esi
  00001	8b f1		 mov	 esi, ecx
  00003	8d 8e ec 20 00
	00		 lea	 ecx, DWORD PTR [esi+8428]
  00009	e8 00 00 00 00	 call	 ??1TMonsterAIAgro@@UAE@XZ ; TMonsterAIAgro::~TMonsterAIAgro
  0000e	8d 8e 0c 16 00
	00		 lea	 ecx, DWORD PTR [esi+5644]
  00014	5e		 pop	 esi
  00015	e9 00 00 00 00	 jmp	 ??1CSkillDelay@@UAE@XZ	; CSkillDelay::~CSkillDelay
??1OBJECTSTRUCT@@QAE@XZ ENDP				; OBJECTSTRUCT::~OBJECTSTRUCT
_TEXT	ENDS
; Function compile flags: /Ogtp
; File c:\users\michel\desktop\source\gameserver\source\kalimagate.cpp
;	COMDAT ?__empty_global_delete@@YAXPAXI@Z
_TEXT	SEGMENT
___formal$ = 8						; size = 4
___formal$ = 12						; size = 4
?__empty_global_delete@@YAXPAXI@Z PROC			; __empty_global_delete, COMDAT

; 764  : }

  00000	c3		 ret	 0
?__empty_global_delete@@YAXPAXI@Z ENDP			; __empty_global_delete
_TEXT	ENDS
; Function compile flags: /Ogtp
; File c:\users\michel\desktop\source\gameserver\source\kalimagate.cpp
;	COMDAT ?__empty_global_delete@@YAXPAX@Z
_TEXT	SEGMENT
___formal$ = 8						; size = 4
?__empty_global_delete@@YAXPAX@Z PROC			; __empty_global_delete, COMDAT

; 764  : }

  00000	c3		 ret	 0
?__empty_global_delete@@YAXPAX@Z ENDP			; __empty_global_delete
_TEXT	ENDS
; Function compile flags: /Ogtp
;	COMDAT ??_H@YGXPAXIIP6EPAX0@Z@Z
_TEXT	SEGMENT
___t$ = 8						; size = 4
___s$ = 12						; size = 4
___n$ = 16						; size = 4
___f$ = 20						; size = 4
??_H@YGXPAXIIP6EPAX0@Z@Z PROC				; `vector constructor iterator', COMDAT
  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	56		 push	 esi
  00004	8b 75 10	 mov	 esi, DWORD PTR ___n$[ebp]
  00007	85 f6		 test	 esi, esi
  00009	74 16		 je	 SHORT $LN6@vector
  0000b	53		 push	 ebx
  0000c	8b 5d 14	 mov	 ebx, DWORD PTR ___f$[ebp]
  0000f	57		 push	 edi
  00010	8b 7d 08	 mov	 edi, DWORD PTR ___t$[ebp]
$LL2@vector:
  00013	8b cf		 mov	 ecx, edi
  00015	ff d3		 call	 ebx
  00017	03 7d 0c	 add	 edi, DWORD PTR ___s$[ebp]
  0001a	83 ee 01	 sub	 esi, 1
  0001d	75 f4		 jne	 SHORT $LL2@vector
  0001f	5f		 pop	 edi
  00020	5b		 pop	 ebx
$LN6@vector:
  00021	5e		 pop	 esi
  00022	5d		 pop	 ebp
  00023	c2 10 00	 ret	 16			; 00000010H
??_H@YGXPAXIIP6EPAX0@Z@Z ENDP				; `vector constructor iterator'
_TEXT	ENDS
END
