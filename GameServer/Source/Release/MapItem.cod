; Listing generated by Microsoft (R) Optimizing Compiler Version 19.00.23506.0 

	TITLE	C:\Users\Michel\Desktop\Source\GameServer\Source\MapItem.cpp
	.686P
	.XMM
	include listing.inc
	.model	flat

INCLUDELIB LIBCMT
INCLUDELIB OLDNAMES

PUBLIC	?__empty_global_delete@@YAXPAX@Z		; __empty_global_delete
PUBLIC	?__empty_global_delete@@YAXPAXI@Z		; __empty_global_delete
PUBLIC	??1OBJECTSTRUCT@@QAE@XZ				; OBJECTSTRUCT::~OBJECTSTRUCT
PUBLIC	??_EOBJECTSTRUCT@@QAEPAXI@Z			; OBJECTSTRUCT::`vector deleting destructor'
PUBLIC	??0CMapItem@@QAE@XZ				; CMapItem::CMapItem
PUBLIC	??1CMapItem@@UAE@XZ				; CMapItem::~CMapItem
PUBLIC	?Init@CMapItem@@QAEXXZ				; CMapItem::Init
PUBLIC	?CreateItem@CMapItem@@QAEXHHHHMEEEEEKEPAEE@Z	; CMapItem::CreateItem
PUBLIC	?DropCreateItem@CMapItem@@QAEXHHHHMEEEEEKHHEPAEE@Z ; CMapItem::DropCreateItem
PUBLIC	??_GCMapItem@@UAEPAXI@Z				; CMapItem::`scalar deleting destructor'
PUBLIC	??_7CMapItem@@6B@				; CMapItem::`vftable'
PUBLIC	??_R4CMapItem@@6B@				; CMapItem::`RTTI Complete Object Locator'
PUBLIC	??_R0?AVCMapItem@@@8				; CMapItem `RTTI Type Descriptor'
PUBLIC	??_R3CMapItem@@8				; CMapItem::`RTTI Class Hierarchy Descriptor'
PUBLIC	??_R2CMapItem@@8				; CMapItem::`RTTI Base Class Array'
PUBLIC	??_R1A@?0A@EA@CMapItem@@8			; CMapItem::`RTTI Base Class Descriptor at (0,-1,0,64)'
PUBLIC	??_R13?0A@EA@CItem@@8				; CItem::`RTTI Base Class Descriptor at (4,-1,0,64)'
PUBLIC	??_R0?AVCItem@@@8				; CItem `RTTI Type Descriptor'
PUBLIC	??_R3CItem@@8					; CItem::`RTTI Class Hierarchy Descriptor'
PUBLIC	??_R2CItem@@8					; CItem::`RTTI Base Class Array'
PUBLIC	??_R1A@?0A@EA@CItem@@8				; CItem::`RTTI Base Class Descriptor at (0,-1,0,64)'
EXTRN	??_M@YGXPAXIIP6EX0@Z@Z:PROC			; `eh vector destructor iterator'
EXTRN	??3@YAXPAXI@Z:PROC				; operator delete
EXTRN	??_V@YAXPAXI@Z:PROC				; operator delete[]
EXTRN	__imp__GetTickCount@0:PROC
EXTRN	??0CItem@@QAE@XZ:PROC				; CItem::CItem
EXTRN	?Convert@CItem@@QAEXHEEEEEEPAEEE@Z:PROC		; CItem::Convert
EXTRN	?SetPetItemInfo@CItem@@QAEXHH@Z:PROC		; CItem::SetPetItemInfo
EXTRN	??1CSkillDelay@@UAE@XZ:PROC			; CSkillDelay::~CSkillDelay
EXTRN	??1TMonsterAIAgro@@UAE@XZ:PROC			; TMonsterAIAgro::~TMonsterAIAgro
EXTRN	??_ECMapItem@@UAEPAXI@Z:PROC			; CMapItem::`vector deleting destructor'
EXTRN	@__security_check_cookie@4:PROC
EXTRN	___CxxFrameHandler3:PROC
EXTRN	_memset:PROC
EXTRN	??_7type_info@@6B@:QWORD			; type_info::`vftable'
EXTRN	?gLootingTime@@3HA:DWORD			; gLootingTime
EXTRN	?gItemDisapearTime@@3HA:DWORD			; gItemDisapearTime
EXTRN	___security_cookie:DWORD
EXTRN	__fltused:DWORD
;	COMDAT ??_R1A@?0A@EA@CItem@@8
rdata$r	SEGMENT
??_R1A@?0A@EA@CItem@@8 DD FLAT:??_R0?AVCItem@@@8	; CItem::`RTTI Base Class Descriptor at (0,-1,0,64)'
	DD	00H
	DD	00H
	DD	0ffffffffH
	DD	00H
	DD	040H
	DD	FLAT:??_R3CItem@@8
rdata$r	ENDS
;	COMDAT ??_R2CItem@@8
rdata$r	SEGMENT
??_R2CItem@@8 DD FLAT:??_R1A@?0A@EA@CItem@@8		; CItem::`RTTI Base Class Array'
rdata$r	ENDS
;	COMDAT ??_R3CItem@@8
rdata$r	SEGMENT
??_R3CItem@@8 DD 00H					; CItem::`RTTI Class Hierarchy Descriptor'
	DD	00H
	DD	01H
	DD	FLAT:??_R2CItem@@8
rdata$r	ENDS
;	COMDAT ??_R0?AVCItem@@@8
data$r	SEGMENT
??_R0?AVCItem@@@8 DD FLAT:??_7type_info@@6B@		; CItem `RTTI Type Descriptor'
	DD	00H
	DB	'.?AVCItem@@', 00H
data$r	ENDS
;	COMDAT ??_R13?0A@EA@CItem@@8
rdata$r	SEGMENT
??_R13?0A@EA@CItem@@8 DD FLAT:??_R0?AVCItem@@@8		; CItem::`RTTI Base Class Descriptor at (4,-1,0,64)'
	DD	00H
	DD	04H
	DD	0ffffffffH
	DD	00H
	DD	040H
	DD	FLAT:??_R3CItem@@8
rdata$r	ENDS
;	COMDAT ??_R1A@?0A@EA@CMapItem@@8
rdata$r	SEGMENT
??_R1A@?0A@EA@CMapItem@@8 DD FLAT:??_R0?AVCMapItem@@@8	; CMapItem::`RTTI Base Class Descriptor at (0,-1,0,64)'
	DD	01H
	DD	00H
	DD	0ffffffffH
	DD	00H
	DD	040H
	DD	FLAT:??_R3CMapItem@@8
rdata$r	ENDS
;	COMDAT ??_R2CMapItem@@8
rdata$r	SEGMENT
??_R2CMapItem@@8 DD FLAT:??_R1A@?0A@EA@CMapItem@@8	; CMapItem::`RTTI Base Class Array'
	DD	FLAT:??_R13?0A@EA@CItem@@8
rdata$r	ENDS
;	COMDAT ??_R3CMapItem@@8
rdata$r	SEGMENT
??_R3CMapItem@@8 DD 00H					; CMapItem::`RTTI Class Hierarchy Descriptor'
	DD	00H
	DD	02H
	DD	FLAT:??_R2CMapItem@@8
rdata$r	ENDS
;	COMDAT ??_R0?AVCMapItem@@@8
data$r	SEGMENT
??_R0?AVCMapItem@@@8 DD FLAT:??_7type_info@@6B@		; CMapItem `RTTI Type Descriptor'
	DD	00H
	DB	'.?AVCMapItem@@', 00H
data$r	ENDS
;	COMDAT ??_R4CMapItem@@6B@
rdata$r	SEGMENT
??_R4CMapItem@@6B@ DD 00H				; CMapItem::`RTTI Complete Object Locator'
	DD	00H
	DD	00H
	DD	FLAT:??_R0?AVCMapItem@@@8
	DD	FLAT:??_R3CMapItem@@8
rdata$r	ENDS
;	COMDAT ??_7CMapItem@@6B@
CONST	SEGMENT
??_7CMapItem@@6B@ DD FLAT:??_R4CMapItem@@6B@		; CMapItem::`vftable'
	DD	FLAT:??_ECMapItem@@UAEPAXI@Z
CONST	ENDS
;	COMDAT xdata$x
xdata$x	SEGMENT
__ehfuncinfo$??_EOBJECTSTRUCT@@QAEPAXI@Z DD 019930522H
	DD	00H
	DD	00H
	DD	2 DUP(00H)
	DD	2 DUP(00H)
	DD	00H
	DD	05H
xdata$x	ENDS
; Function compile flags: /Ogtp
;	COMDAT ??_GCMapItem@@UAEPAXI@Z
_TEXT	SEGMENT
___flags$ = 8						; size = 4
??_GCMapItem@@UAEPAXI@Z PROC				; CMapItem::`scalar deleting destructor', COMDAT
; _this$ = ecx
  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	56		 push	 esi
  00004	8b f1		 mov	 esi, ecx
  00006	e8 00 00 00 00	 call	 ??1CMapItem@@UAE@XZ	; CMapItem::~CMapItem
  0000b	f6 45 08 01	 test	 BYTE PTR ___flags$[ebp], 1
  0000f	74 0e		 je	 SHORT $LN4@scalar
  00011	68 74 04 00 00	 push	 1140			; 00000474H
  00016	56		 push	 esi
  00017	e8 00 00 00 00	 call	 ??3@YAXPAXI@Z		; operator delete
  0001c	83 c4 08	 add	 esp, 8
$LN4@scalar:
  0001f	8b c6		 mov	 eax, esi
  00021	5e		 pop	 esi
  00022	5d		 pop	 ebp
  00023	c2 04 00	 ret	 4
??_GCMapItem@@UAEPAXI@Z ENDP				; CMapItem::`scalar deleting destructor'
_TEXT	ENDS
; Function compile flags: /Ogtp
; File c:\users\michel\desktop\source\gameserver\source\mapitem.cpp
;	COMDAT ?DropCreateItem@CMapItem@@QAEXHHHHMEEEEEKHHEPAEE@Z
_TEXT	SEGMENT
_type$ = 8						; size = 4
_level$ = 12						; size = 4
_x$ = 16						; size = 4
_y$ = 20						; size = 4
_dur$ = 24						; size = 4
_Option1$ = 28						; size = 1
_Option2$ = 32						; size = 1
_Option3$ = 36						; size = 1
_NOption$ = 40						; size = 1
_SOption$ = 44						; size = 1
_number$ = 48						; size = 4
_PetLevel$ = 52						; size = 4
_PetExp$ = 56						; size = 4
_ItemEffectEx$ = 60					; size = 1
_SocketOption$ = 64					; size = 4
_SocketBonus$ = 68					; size = 1
?DropCreateItem@CMapItem@@QAEXHHHHMEEEEEKHHEPAEE@Z PROC	; CMapItem::DropCreateItem, COMDAT
; _this$ = ecx

; 82   : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	53		 push	 ebx
  00004	56		 push	 esi
  00005	57		 push	 edi
  00006	8b f9		 mov	 edi, ecx

; 83   : 	this->Init();

  00008	e8 00 00 00 00	 call	 ?Init@CMapItem@@QAEXXZ	; CMapItem::Init

; 84   : 
; 85   : 	this->m_Level = level;
; 86   : 	this->m_Durability = dur;
; 87   : 	this->Convert(type, Option1, Option2, Option3, NOption, SOption, ItemEffectEx,SocketOption,SocketBonus, CURRENT_DB_VERSION);

  0000d	6a 03		 push	 3
  0000f	ff 75 44	 push	 DWORD PTR _SocketBonus$[ebp]
  00012	f3 0f 10 45 18	 movss	 xmm0, DWORD PTR _dur$[ebp]
  00017	8d 4f 04	 lea	 ecx, DWORD PTR [edi+4]
  0001a	ff 75 40	 push	 DWORD PTR _SocketOption$[ebp]
  0001d	8b 45 0c	 mov	 eax, DWORD PTR _level$[ebp]
  00020	ff 75 3c	 push	 DWORD PTR _ItemEffectEx$[ebp]
  00023	8b 5d 08	 mov	 ebx, DWORD PTR _type$[ebp]
  00026	ff 75 2c	 push	 DWORD PTR _SOption$[ebp]
  00029	66 89 47 0c	 mov	 WORD PTR [edi+12], ax
  0002d	ff 75 28	 push	 DWORD PTR _NOption$[ebp]
  00030	f3 0f 11 47 28	 movss	 DWORD PTR [edi+40], xmm0
  00035	ff 75 24	 push	 DWORD PTR _Option3$[ebp]
  00038	ff 75 20	 push	 DWORD PTR _Option2$[ebp]
  0003b	ff 75 1c	 push	 DWORD PTR _Option1$[ebp]
  0003e	53		 push	 ebx
  0003f	e8 00 00 00 00	 call	 ?Convert@CItem@@QAEXHEEEEEEPAEEE@Z ; CItem::Convert

; 88   : 	this->SetPetItemInfo(PetLevel, PetExp);

  00044	ff 75 38	 push	 DWORD PTR _PetExp$[ebp]
  00047	8d 4f 04	 lea	 ecx, DWORD PTR [edi+4]
  0004a	ff 75 34	 push	 DWORD PTR _PetLevel$[ebp]
  0004d	e8 00 00 00 00	 call	 ?SetPetItemInfo@CItem@@QAEXHH@Z ; CItem::SetPetItemInfo

; 89   : 	this->px = x;
; 90   : 	this->py= y;
; 91   : 	this->live = true;
; 92   : 	this->Give = false;
; 93   : 	this->m_State = 1;
; 94   : 
; 95   : 	if ( this->m_QuestItem != false )

  00052	80 bf ad 00 00
	00 00		 cmp	 BYTE PTR [edi+173], 0
  00059	8a 45 10	 mov	 al, BYTE PTR _x$[ebp]

; 96   : 	{
; 97   : 		if ( type == ITEMGET(14,11) )	// Box Of luck
; 98   : 		{
; 99   : 			this->m_Time = GetTickCount() + 1000;

  0005c	8b 35 00 00 00
	00		 mov	 esi, DWORD PTR __imp__GetTickCount@0
  00062	88 87 d8 00 00
	00		 mov	 BYTE PTR [edi+216], al
  00068	8a 45 14	 mov	 al, BYTE PTR _y$[ebp]
  0006b	88 87 d9 00 00
	00		 mov	 BYTE PTR [edi+217], al
  00071	66 c7 87 da 00
	00 00 01 00	 mov	 WORD PTR [edi+218], 1
  0007a	c7 87 dc 00 00
	00 01 00 00 00	 mov	 DWORD PTR [edi+220], 1
  00084	74 32		 je	 SHORT $LN2@DropCreate
  00086	ff d6		 call	 esi
  00088	81 fb 0b 1c 00
	00		 cmp	 ebx, 7179		; 00001c0bH
  0008e	75 14		 jne	 SHORT $LN4@DropCreate
  00090	05 e8 03 00 00	 add	 eax, 1000		; 000003e8H

; 100  : 		}
; 101  : 		else
; 102  : 		{
; 103  : 			this->m_Time = GetTickCount() + 60000;

  00095	89 87 e0 00 00
	00		 mov	 DWORD PTR [edi+224], eax

; 104  : 		}
; 105  : 
; 106  : 		this->m_LootTime = GetTickCount() + 600000;

  0009b	ff d6		 call	 esi
  0009d	05 c0 27 09 00	 add	 eax, 600000		; 000927c0H

; 107  : 		this->m_Number = number;
; 108  : 	}
; 109  : 	else 

  000a2	eb 45		 jmp	 SHORT $LN15@DropCreate
$LN4@DropCreate:

; 100  : 		}
; 101  : 		else
; 102  : 		{
; 103  : 			this->m_Time = GetTickCount() + 60000;

  000a4	05 60 ea 00 00	 add	 eax, 60000		; 0000ea60H
  000a9	89 87 e0 00 00
	00		 mov	 DWORD PTR [edi+224], eax

; 104  : 		}
; 105  : 
; 106  : 		this->m_LootTime = GetTickCount() + 600000;

  000af	ff d6		 call	 esi
  000b1	05 c0 27 09 00	 add	 eax, 600000		; 000927c0H

; 107  : 		this->m_Number = number;
; 108  : 	}
; 109  : 	else 

  000b6	eb 31		 jmp	 SHORT $LN15@DropCreate
$LN2@DropCreate:

; 110  : 	{
; 111  : 		if ( type == ITEMGET(14,11) )
; 112  : 		{
; 113  : 			this->m_Time = GetTickCount() + 1000;

  000b8	ff d6		 call	 esi
  000ba	81 fb 0b 1c 00
	00		 cmp	 ebx, 7179		; 00001c0bH
  000c0	75 07		 jne	 SHORT $LN6@DropCreate
  000c2	05 e8 03 00 00	 add	 eax, 1000		; 000003e8H

; 114  : 		}
; 115  : 		else

  000c7	eb 0c		 jmp	 SHORT $LN16@DropCreate
$LN6@DropCreate:

; 116  : 		{
; 117  : 			this->m_Time = GetTickCount() + gItemDisapearTime * 1000;

  000c9	69 0d 00 00 00
	00 e8 03 00 00	 imul	 ecx, DWORD PTR ?gItemDisapearTime@@3HA, 1000 ; gItemDisapearTime
  000d3	03 c1		 add	 eax, ecx
$LN16@DropCreate:
  000d5	89 87 e0 00 00
	00		 mov	 DWORD PTR [edi+224], eax

; 118  : 		}
; 119  : 
; 120  : 		this->m_LootTime = GetTickCount() + gLootingTime*1000;

  000db	ff d6		 call	 esi
  000dd	69 0d 00 00 00
	00 e8 03 00 00	 imul	 ecx, DWORD PTR ?gLootingTime@@3HA, 1000 ; gLootingTime
  000e7	03 c1		 add	 eax, ecx
$LN15@DropCreate:
  000e9	89 87 e8 00 00
	00		 mov	 DWORD PTR [edi+232], eax

; 121  : 		this->m_Number = number;

  000ef	8b 45 30	 mov	 eax, DWORD PTR _number$[ebp]
  000f2	89 47 04	 mov	 DWORD PTR [edi+4], eax

; 122  : 	}
; 123  : 
; 124  : 	if ( type == ITEMGET(13,19) ) // Absolute Weapon of Archangel

  000f5	81 fb 13 1a 00
	00		 cmp	 ebx, 6675		; 00001a13H
  000fb	75 2f		 jne	 SHORT $LN9@DropCreate

; 125  : 	{
; 126  : 		if ( ( level  < 0)?FALSE:(level>2)?FALSE:TRUE)

  000fd	8b 4d 0c	 mov	 ecx, DWORD PTR _level$[ebp]
  00100	85 c9		 test	 ecx, ecx
  00102	78 4a		 js	 SHORT $LN10@DropCreate
  00104	33 c0		 xor	 eax, eax
  00106	83 f9 02	 cmp	 ecx, 2
  00109	0f 9e c0	 setle	 al
  0010c	85 c0		 test	 eax, eax
  0010e	74 3e		 je	 SHORT $LN10@DropCreate

; 127  : 		{
; 128  : 			this->m_Time = GetTickCount() + 900000;

  00110	ff d6		 call	 esi
  00112	05 a0 bb 0d 00	 add	 eax, 900000		; 000dbba0H
  00117	89 87 e0 00 00
	00		 mov	 DWORD PTR [edi+224], eax

; 129  : 			this->m_LootTime = GetTickCount();

  0011d	ff d6		 call	 esi

; 136  : 		this->m_LootTime = GetTickCount() + 2000;

  0011f	89 87 e8 00 00
	00		 mov	 DWORD PTR [edi+232], eax
  00125	5f		 pop	 edi
  00126	5e		 pop	 esi
  00127	5b		 pop	 ebx

; 137  : 	}
; 138  : }

  00128	5d		 pop	 ebp
  00129	c2 40 00	 ret	 64			; 00000040H
$LN9@DropCreate:

; 130  : 		}
; 131  : 	}
; 132  : 
; 133  : 	if ( type == ITEMGET(14,64) ) // Holy Water

  0012c	81 fb 40 1c 00
	00		 cmp	 ebx, 7232		; 00001c40H
  00132	75 1a		 jne	 SHORT $LN10@DropCreate

; 134  : 	{
; 135  : 		this->m_Time = GetTickCount() + 900000;

  00134	ff d6		 call	 esi
  00136	05 a0 bb 0d 00	 add	 eax, 900000		; 000dbba0H
  0013b	89 87 e0 00 00
	00		 mov	 DWORD PTR [edi+224], eax

; 136  : 		this->m_LootTime = GetTickCount() + 2000;

  00141	ff d6		 call	 esi
  00143	05 d0 07 00 00	 add	 eax, 2000		; 000007d0H
  00148	89 87 e8 00 00
	00		 mov	 DWORD PTR [edi+232], eax
$LN10@DropCreate:
  0014e	5f		 pop	 edi
  0014f	5e		 pop	 esi
  00150	5b		 pop	 ebx

; 137  : 	}
; 138  : }

  00151	5d		 pop	 ebp
  00152	c2 40 00	 ret	 64			; 00000040H
?DropCreateItem@CMapItem@@QAEXHHHHMEEEEEKHHEPAEE@Z ENDP	; CMapItem::DropCreateItem
_TEXT	ENDS
; Function compile flags: /Ogtp
; File c:\users\michel\desktop\source\gameserver\source\mapitem.cpp
;	COMDAT ?CreateItem@CMapItem@@QAEXHHHHMEEEEEKEPAEE@Z
_TEXT	SEGMENT
_type$ = 8						; size = 4
_level$ = 12						; size = 4
_x$ = 16						; size = 4
_y$ = 20						; size = 4
_dur$ = 24						; size = 4
_Option1$ = 28						; size = 1
_Option2$ = 32						; size = 1
_Option3$ = 36						; size = 1
_NOption$ = 40						; size = 1
_SOption$ = 44						; size = 1
_number$ = 48						; size = 4
_ItemEffectEx$ = 52					; size = 1
_SocketOption$ = 56					; size = 4
_SocketBonus$ = 60					; size = 1
?CreateItem@CMapItem@@QAEXHHHHMEEEEEKEPAEE@Z PROC	; CMapItem::CreateItem, COMDAT
; _this$ = ecx

; 50   : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	53		 push	 ebx
  00004	56		 push	 esi
  00005	57		 push	 edi
  00006	8b f9		 mov	 edi, ecx

; 51   : 	this->Init();

  00008	e8 00 00 00 00	 call	 ?Init@CMapItem@@QAEXXZ	; CMapItem::Init

; 52   : 
; 53   : 	this->m_Level = level;
; 54   : 	this->m_Durability = dur;
; 55   : 	this->Convert(type, Option1, Option2, Option3, NOption, SOption, ItemEffectEx,SocketOption,SocketBonus, CURRENT_DB_VERSION);

  0000d	6a 03		 push	 3
  0000f	ff 75 3c	 push	 DWORD PTR _SocketBonus$[ebp]
  00012	66 8b 45 0c	 mov	 ax, WORD PTR _level$[ebp]
  00016	8d 4f 04	 lea	 ecx, DWORD PTR [edi+4]
  00019	ff 75 38	 push	 DWORD PTR _SocketOption$[ebp]
  0001c	f3 0f 10 45 18	 movss	 xmm0, DWORD PTR _dur$[ebp]
  00021	ff 75 34	 push	 DWORD PTR _ItemEffectEx$[ebp]
  00024	66 89 47 0c	 mov	 WORD PTR [edi+12], ax
  00028	ff 75 2c	 push	 DWORD PTR _SOption$[ebp]
  0002b	f3 0f 11 47 28	 movss	 DWORD PTR [edi+40], xmm0
  00030	ff 75 28	 push	 DWORD PTR _NOption$[ebp]
  00033	ff 75 24	 push	 DWORD PTR _Option3$[ebp]
  00036	ff 75 20	 push	 DWORD PTR _Option2$[ebp]
  00039	ff 75 1c	 push	 DWORD PTR _Option1$[ebp]
  0003c	ff 75 08	 push	 DWORD PTR _type$[ebp]
  0003f	e8 00 00 00 00	 call	 ?Convert@CItem@@QAEXHEEEEEEPAEEE@Z ; CItem::Convert

; 56   : 	this->px = x;
; 57   : 	this->py= y;
; 58   : 	this->live = true;
; 59   : 	this->Give = false;
; 60   : 	this->m_State = 1;
; 61   : 
; 62   : 	if ( this->m_QuestItem != false )

  00044	80 bf ad 00 00
	00 00		 cmp	 BYTE PTR [edi+173], 0
  0004b	8a 45 10	 mov	 al, BYTE PTR _x$[ebp]

; 63   : 	{
; 64   : 		this->m_Time = GetTickCount() + 60000;

  0004e	8b 35 00 00 00
	00		 mov	 esi, DWORD PTR __imp__GetTickCount@0
  00054	88 87 d8 00 00
	00		 mov	 BYTE PTR [edi+216], al
  0005a	8a 45 14	 mov	 al, BYTE PTR _y$[ebp]
  0005d	88 87 d9 00 00
	00		 mov	 BYTE PTR [edi+217], al
  00063	66 c7 87 da 00
	00 00 01 00	 mov	 WORD PTR [edi+218], 1
  0006c	c7 87 dc 00 00
	00 01 00 00 00	 mov	 DWORD PTR [edi+220], 1
  00076	74 27		 je	 SHORT $LN2@CreateItem
  00078	ff d6		 call	 esi
  0007a	05 60 ea 00 00	 add	 eax, 60000		; 0000ea60H
  0007f	89 87 e0 00 00
	00		 mov	 DWORD PTR [edi+224], eax

; 65   : 		this->m_LootTime = GetTickCount() + 600000;

  00085	ff d6		 call	 esi
  00087	05 c0 27 09 00	 add	 eax, 600000		; 000927c0H

; 71   : 		this->m_LootTime = GetTickCount() + gLootingTime*1000;

  0008c	89 87 e8 00 00
	00		 mov	 DWORD PTR [edi+232], eax

; 72   : 		this->m_Number = number;

  00092	8b 45 30	 mov	 eax, DWORD PTR _number$[ebp]
  00095	89 47 04	 mov	 DWORD PTR [edi+4], eax
  00098	5f		 pop	 edi
  00099	5e		 pop	 esi
  0009a	5b		 pop	 ebx

; 73   : 	}
; 74   : 
; 75   : }

  0009b	5d		 pop	 ebp
  0009c	c2 38 00	 ret	 56			; 00000038H
$LN2@CreateItem:

; 66   : 		this->m_Number = number;
; 67   : 	}
; 68   : 	else
; 69   : 	{
; 70   : 		this->m_Time = GetTickCount() + gItemDisapearTime * 1000;

  0009f	ff d6		 call	 esi
  000a1	69 0d 00 00 00
	00 e8 03 00 00	 imul	 ecx, DWORD PTR ?gItemDisapearTime@@3HA, 1000 ; gItemDisapearTime
  000ab	03 c1		 add	 eax, ecx
  000ad	89 87 e0 00 00
	00		 mov	 DWORD PTR [edi+224], eax

; 71   : 		this->m_LootTime = GetTickCount() + gLootingTime*1000;

  000b3	ff d6		 call	 esi
  000b5	69 0d 00 00 00
	00 e8 03 00 00	 imul	 ecx, DWORD PTR ?gLootingTime@@3HA, 1000 ; gLootingTime
  000bf	03 c1		 add	 eax, ecx
  000c1	89 87 e8 00 00
	00		 mov	 DWORD PTR [edi+232], eax

; 72   : 		this->m_Number = number;

  000c7	8b 45 30	 mov	 eax, DWORD PTR _number$[ebp]
  000ca	89 47 04	 mov	 DWORD PTR [edi+4], eax
  000cd	5f		 pop	 edi
  000ce	5e		 pop	 esi
  000cf	5b		 pop	 ebx

; 73   : 	}
; 74   : 
; 75   : }

  000d0	5d		 pop	 ebp
  000d1	c2 38 00	 ret	 56			; 00000038H
?CreateItem@CMapItem@@QAEXHHHHMEEEEEKEPAEE@Z ENDP	; CMapItem::CreateItem
_TEXT	ENDS
; Function compile flags: /Ogtp
; File c:\users\michel\desktop\source\gameserver\source\mapitem.cpp
;	COMDAT ?Init@CMapItem@@QAEXXZ
_TEXT	SEGMENT
?Init@CMapItem@@QAEXXZ PROC				; CMapItem::Init, COMDAT
; _this$ = ecx

; 36   : 	this->VPCount = 0;
; 37   : 	this->m_State = 0;
; 38   : 
; 39   : 	for ( int n=0;n<MAX_VIEWPORT;n++ )
; 40   : 	{
; 41   : 		memset(&this->VpPlayer[n], 0, sizeof(VIEWPORT_PLAYER_STRUCT));

  00000	68 84 03 00 00	 push	 900			; 00000384H
  00005	c7 81 70 04 00
	00 00 00 00 00	 mov	 DWORD PTR [ecx+1136], 0
  0000f	c7 81 dc 00 00
	00 00 00 00 00	 mov	 DWORD PTR [ecx+220], 0
  00019	81 c1 ec 00 00
	00		 add	 ecx, 236		; 000000ecH
  0001f	6a 00		 push	 0
  00021	51		 push	 ecx
  00022	e8 00 00 00 00	 call	 _memset
  00027	83 c4 0c	 add	 esp, 12			; 0000000cH

; 42   : 	}
; 43   : }

  0002a	c3		 ret	 0
?Init@CMapItem@@QAEXXZ ENDP				; CMapItem::Init
_TEXT	ENDS
; Function compile flags: /Ogtp
; File c:\users\michel\desktop\source\gameserver\source\mapitem.cpp
;	COMDAT ??1CMapItem@@UAE@XZ
_TEXT	SEGMENT
??1CMapItem@@UAE@XZ PROC				; CMapItem::~CMapItem, COMDAT
; _this$ = ecx

; 25   : {

  00000	c7 01 00 00 00
	00		 mov	 DWORD PTR [ecx], OFFSET ??_7CMapItem@@6B@

; 26   : 	return;
; 27   : 
; 28   : }

  00006	c3		 ret	 0
??1CMapItem@@UAE@XZ ENDP				; CMapItem::~CMapItem
_TEXT	ENDS
; Function compile flags: /Ogtp
; File c:\users\michel\desktop\source\gameserver\source\mapitem.cpp
;	COMDAT ??0CMapItem@@QAE@XZ
_TEXT	SEGMENT
??0CMapItem@@QAE@XZ PROC				; CMapItem::CMapItem, COMDAT
; _this$ = ecx

; 17   : {

  00000	56		 push	 esi
  00001	8b f1		 mov	 esi, ecx
  00003	8d 4e 04	 lea	 ecx, DWORD PTR [esi+4]
  00006	e8 00 00 00 00	 call	 ??0CItem@@QAE@XZ	; CItem::CItem

; 18   : 	this->Init();

  0000b	8b ce		 mov	 ecx, esi
  0000d	c7 06 00 00 00
	00		 mov	 DWORD PTR [esi], OFFSET ??_7CMapItem@@6B@
  00013	e8 00 00 00 00	 call	 ?Init@CMapItem@@QAEXXZ	; CMapItem::Init

; 19   : }

  00018	8b c6		 mov	 eax, esi
  0001a	5e		 pop	 esi
  0001b	c3		 ret	 0
??0CMapItem@@QAE@XZ ENDP				; CMapItem::CMapItem
_TEXT	ENDS
; Function compile flags: /Ogtp
;	COMDAT ??_EOBJECTSTRUCT@@QAEPAXI@Z
_TEXT	SEGMENT
__$EHRec$ = -12						; size = 12
___flags$ = 8						; size = 4
??_EOBJECTSTRUCT@@QAEPAXI@Z PROC			; OBJECTSTRUCT::`vector deleting destructor', COMDAT
; _this$ = ecx
  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	6a ff		 push	 -1
  00005	68 00 00 00 00	 push	 __ehhandler$??_EOBJECTSTRUCT@@QAEPAXI@Z
  0000a	64 a1 00 00 00
	00		 mov	 eax, DWORD PTR fs:0
  00010	50		 push	 eax
  00011	53		 push	 ebx
  00012	56		 push	 esi
  00013	57		 push	 edi
  00014	a1 00 00 00 00	 mov	 eax, DWORD PTR ___security_cookie
  00019	33 c5		 xor	 eax, ebp
  0001b	50		 push	 eax
  0001c	8d 45 f4	 lea	 eax, DWORD PTR __$EHRec$[ebp]
  0001f	64 a3 00 00 00
	00		 mov	 DWORD PTR fs:0, eax
  00025	8b f1		 mov	 esi, ecx
  00027	8b 5d 08	 mov	 ebx, DWORD PTR ___flags$[ebp]
  0002a	f6 c3 02	 test	 bl, 2
  0002d	74 44		 je	 SHORT $LN2@vector
  0002f	68 00 00 00 00	 push	 OFFSET ??1OBJECTSTRUCT@@QAE@XZ
  00034	ff 76 fc	 push	 DWORD PTR [esi-4]
  00037	8d 7e fc	 lea	 edi, DWORD PTR [esi-4]
  0003a	68 40 27 00 00	 push	 10048			; 00002740H
  0003f	56		 push	 esi
  00040	e8 00 00 00 00	 call	 ??_M@YGXPAXIIP6EX0@Z@Z
  00045	f6 c3 01	 test	 bl, 1
  00048	74 13		 je	 SHORT $LN3@vector
  0004a	69 0f 40 27 00
	00		 imul	 ecx, DWORD PTR [edi], 10048
  00050	83 c1 04	 add	 ecx, 4
  00053	51		 push	 ecx
  00054	57		 push	 edi
  00055	e8 00 00 00 00	 call	 ??_V@YAXPAXI@Z		; operator delete[]
  0005a	83 c4 08	 add	 esp, 8
$LN3@vector:
  0005d	8b c7		 mov	 eax, edi
  0005f	8b 4d f4	 mov	 ecx, DWORD PTR __$EHRec$[ebp]
  00062	64 89 0d 00 00
	00 00		 mov	 DWORD PTR fs:0, ecx
  00069	59		 pop	 ecx
  0006a	5f		 pop	 edi
  0006b	5e		 pop	 esi
  0006c	5b		 pop	 ebx
  0006d	8b e5		 mov	 esp, ebp
  0006f	5d		 pop	 ebp
  00070	c2 04 00	 ret	 4
$LN2@vector:
  00073	8d 8e ec 20 00
	00		 lea	 ecx, DWORD PTR [esi+8428]
  00079	e8 00 00 00 00	 call	 ??1TMonsterAIAgro@@UAE@XZ ; TMonsterAIAgro::~TMonsterAIAgro
  0007e	8d 8e 0c 16 00
	00		 lea	 ecx, DWORD PTR [esi+5644]
  00084	e8 00 00 00 00	 call	 ??1CSkillDelay@@UAE@XZ	; CSkillDelay::~CSkillDelay
  00089	f6 c3 01	 test	 bl, 1
  0008c	74 0e		 je	 SHORT $LN4@vector
  0008e	68 40 27 00 00	 push	 10048			; 00002740H
  00093	56		 push	 esi
  00094	e8 00 00 00 00	 call	 ??3@YAXPAXI@Z		; operator delete
  00099	83 c4 08	 add	 esp, 8
$LN4@vector:
  0009c	8b c6		 mov	 eax, esi
  0009e	8b 4d f4	 mov	 ecx, DWORD PTR __$EHRec$[ebp]
  000a1	64 89 0d 00 00
	00 00		 mov	 DWORD PTR fs:0, ecx
  000a8	59		 pop	 ecx
  000a9	5f		 pop	 edi
  000aa	5e		 pop	 esi
  000ab	5b		 pop	 ebx
  000ac	8b e5		 mov	 esp, ebp
  000ae	5d		 pop	 ebp
  000af	c2 04 00	 ret	 4
_TEXT	ENDS
;	COMDAT text$x
text$x	SEGMENT
__ehhandler$??_EOBJECTSTRUCT@@QAEPAXI@Z:
  00000	8b 54 24 08	 mov	 edx, DWORD PTR [esp+8]
  00004	8d 42 0c	 lea	 eax, DWORD PTR [edx+12]
  00007	8b 4a f0	 mov	 ecx, DWORD PTR [edx-16]
  0000a	33 c8		 xor	 ecx, eax
  0000c	e8 00 00 00 00	 call	 @__security_check_cookie@4
  00011	b8 00 00 00 00	 mov	 eax, OFFSET __ehfuncinfo$??_EOBJECTSTRUCT@@QAEPAXI@Z
  00016	e9 00 00 00 00	 jmp	 ___CxxFrameHandler3
text$x	ENDS
??_EOBJECTSTRUCT@@QAEPAXI@Z ENDP			; OBJECTSTRUCT::`vector deleting destructor'
; Function compile flags: /Ogtp
;	COMDAT ??1OBJECTSTRUCT@@QAE@XZ
_TEXT	SEGMENT
??1OBJECTSTRUCT@@QAE@XZ PROC				; OBJECTSTRUCT::~OBJECTSTRUCT, COMDAT
; _this$ = ecx
  00000	56		 push	 esi
  00001	8b f1		 mov	 esi, ecx
  00003	8d 8e ec 20 00
	00		 lea	 ecx, DWORD PTR [esi+8428]
  00009	e8 00 00 00 00	 call	 ??1TMonsterAIAgro@@UAE@XZ ; TMonsterAIAgro::~TMonsterAIAgro
  0000e	8d 8e 0c 16 00
	00		 lea	 ecx, DWORD PTR [esi+5644]
  00014	5e		 pop	 esi
  00015	e9 00 00 00 00	 jmp	 ??1CSkillDelay@@UAE@XZ	; CSkillDelay::~CSkillDelay
??1OBJECTSTRUCT@@QAE@XZ ENDP				; OBJECTSTRUCT::~OBJECTSTRUCT
_TEXT	ENDS
; Function compile flags: /Ogtp
; File c:\users\michel\desktop\source\gameserver\source\mapitem.cpp
;	COMDAT ?__empty_global_delete@@YAXPAXI@Z
_TEXT	SEGMENT
___formal$ = 8						; size = 4
___formal$ = 12						; size = 4
?__empty_global_delete@@YAXPAXI@Z PROC			; __empty_global_delete, COMDAT

  00000	c3		 ret	 0
?__empty_global_delete@@YAXPAXI@Z ENDP			; __empty_global_delete
_TEXT	ENDS
; Function compile flags: /Ogtp
; File c:\users\michel\desktop\source\gameserver\source\mapitem.cpp
;	COMDAT ?__empty_global_delete@@YAXPAX@Z
_TEXT	SEGMENT
___formal$ = 8						; size = 4
?__empty_global_delete@@YAXPAX@Z PROC			; __empty_global_delete, COMDAT

  00000	c3		 ret	 0
?__empty_global_delete@@YAXPAX@Z ENDP			; __empty_global_delete
_TEXT	ENDS
END
