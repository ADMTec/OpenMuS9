; Listing generated by Microsoft (R) Optimizing Compiler Version 19.00.23506.0 

	TITLE	C:\Users\Michel\Desktop\Source\GameServer\common\WzMemScript.cpp
	.686P
	.XMM
	include listing.inc
	.model	flat

INCLUDELIB LIBCMT
INCLUDELIB OLDNAMES

PUBLIC	?__empty_global_delete@@YAXPAX@Z		; __empty_global_delete
PUBLIC	?__empty_global_delete@@YAXPAXI@Z		; __empty_global_delete
PUBLIC	??0CWzMemScript@@QAE@XZ				; CWzMemScript::CWzMemScript
PUBLIC	??1CWzMemScript@@UAE@XZ				; CWzMemScript::~CWzMemScript
PUBLIC	?SetBuffer@CWzMemScript@@QAEHPADH@Z		; CWzMemScript::SetBuffer
PUBLIC	?SetScriptParsingBuffer@CWzMemScript@@QAEXPADH@Z ; CWzMemScript::SetScriptParsingBuffer
PUBLIC	?GetToken@CWzMemScript@@QAE?AW4SMDToken@@XZ	; CWzMemScript::GetToken
PUBLIC	?GetNumber@CWzMemScript@@QAEHXZ			; CWzMemScript::GetNumber
PUBLIC	?GetString@CWzMemScript@@QAEPADXZ		; CWzMemScript::GetString
PUBLIC	?GetC@CWzMemScript@@QAEHXZ			; CWzMemScript::GetC
PUBLIC	?UnGetC@CWzMemScript@@QAEXH@Z			; CWzMemScript::UnGetC
PUBLIC	??_GCWzMemScript@@UAEPAXI@Z			; CWzMemScript::`scalar deleting destructor'
PUBLIC	??_7CWzMemScript@@6B@				; CWzMemScript::`vftable'
PUBLIC	??_R4CWzMemScript@@6B@				; CWzMemScript::`RTTI Complete Object Locator'
PUBLIC	??_R0?AVCWzMemScript@@@8			; CWzMemScript `RTTI Type Descriptor'
PUBLIC	??_R3CWzMemScript@@8				; CWzMemScript::`RTTI Class Hierarchy Descriptor'
PUBLIC	??_R2CWzMemScript@@8				; CWzMemScript::`RTTI Base Class Array'
PUBLIC	??_R1A@?0A@EA@CWzMemScript@@8			; CWzMemScript::`RTTI Base Class Descriptor at (0,-1,0,64)'
EXTRN	??3@YAXPAXI@Z:PROC				; operator delete
EXTRN	_isalpha:PROC
EXTRN	_isdigit:PROC
EXTRN	_isspace:PROC
EXTRN	_isalnum:PROC
EXTRN	_atof:PROC
EXTRN	??_ECWzMemScript@@UAEPAXI@Z:PROC		; CWzMemScript::`vector deleting destructor'
EXTRN	@__security_check_cookie@4:PROC
EXTRN	??_7type_info@@6B@:QWORD			; type_info::`vftable'
EXTRN	___security_cookie:DWORD
EXTRN	__fltused:DWORD
;	COMDAT ??_R1A@?0A@EA@CWzMemScript@@8
rdata$r	SEGMENT
??_R1A@?0A@EA@CWzMemScript@@8 DD FLAT:??_R0?AVCWzMemScript@@@8 ; CWzMemScript::`RTTI Base Class Descriptor at (0,-1,0,64)'
	DD	00H
	DD	00H
	DD	0ffffffffH
	DD	00H
	DD	040H
	DD	FLAT:??_R3CWzMemScript@@8
rdata$r	ENDS
;	COMDAT ??_R2CWzMemScript@@8
rdata$r	SEGMENT
??_R2CWzMemScript@@8 DD FLAT:??_R1A@?0A@EA@CWzMemScript@@8 ; CWzMemScript::`RTTI Base Class Array'
rdata$r	ENDS
;	COMDAT ??_R3CWzMemScript@@8
rdata$r	SEGMENT
??_R3CWzMemScript@@8 DD 00H				; CWzMemScript::`RTTI Class Hierarchy Descriptor'
	DD	00H
	DD	01H
	DD	FLAT:??_R2CWzMemScript@@8
rdata$r	ENDS
;	COMDAT ??_R0?AVCWzMemScript@@@8
data$r	SEGMENT
??_R0?AVCWzMemScript@@@8 DD FLAT:??_7type_info@@6B@	; CWzMemScript `RTTI Type Descriptor'
	DD	00H
	DB	'.?AVCWzMemScript@@', 00H
data$r	ENDS
;	COMDAT ??_R4CWzMemScript@@6B@
rdata$r	SEGMENT
??_R4CWzMemScript@@6B@ DD 00H				; CWzMemScript::`RTTI Complete Object Locator'
	DD	00H
	DD	00H
	DD	FLAT:??_R0?AVCWzMemScript@@@8
	DD	FLAT:??_R3CWzMemScript@@8
rdata$r	ENDS
;	COMDAT ??_7CWzMemScript@@6B@
CONST	SEGMENT
??_7CWzMemScript@@6B@ DD FLAT:??_R4CWzMemScript@@6B@	; CWzMemScript::`vftable'
	DD	FLAT:??_ECWzMemScript@@UAEPAXI@Z
CONST	ENDS
; Function compile flags: /Ogtp
;	COMDAT ??_GCWzMemScript@@UAEPAXI@Z
_TEXT	SEGMENT
___flags$ = 8						; size = 4
??_GCWzMemScript@@UAEPAXI@Z PROC			; CWzMemScript::`scalar deleting destructor', COMDAT
; _this$ = ecx
  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	56		 push	 esi
  00004	8b f1		 mov	 esi, ecx
  00006	e8 00 00 00 00	 call	 ??1CWzMemScript@@UAE@XZ	; CWzMemScript::~CWzMemScript
  0000b	f6 45 08 01	 test	 BYTE PTR ___flags$[ebp], 1
  0000f	74 0e		 je	 SHORT $LN4@scalar
  00011	68 84 00 00 00	 push	 132			; 00000084H
  00016	56		 push	 esi
  00017	e8 00 00 00 00	 call	 ??3@YAXPAXI@Z		; operator delete
  0001c	83 c4 08	 add	 esp, 8
$LN4@scalar:
  0001f	8b c6		 mov	 eax, esi
  00021	5e		 pop	 esi
  00022	5d		 pop	 ebp
  00023	c2 04 00	 ret	 4
??_GCWzMemScript@@UAEPAXI@Z ENDP			; CWzMemScript::`scalar deleting destructor'
_TEXT	ENDS
; Function compile flags: /Ogtp
; File c:\users\michel\desktop\source\gameserver\common\wzmemscript.cpp
;	COMDAT ?UnGetC@CWzMemScript@@QAEXH@Z
_TEXT	SEGMENT
_ch$ = 8						; size = 4
?UnGetC@CWzMemScript@@QAEXH@Z PROC			; CWzMemScript::UnGetC, COMDAT
; _this$ = ecx

; 46   : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp

; 47   : 	if ( this->m_iBufferCount <= 0)

  00003	8b 51 0c	 mov	 edx, DWORD PTR [ecx+12]
  00006	85 d2		 test	 edx, edx
  00008	7e 0d		 jle	 SHORT $LN3@UnGetC

; 48   : 	{
; 49   : 		return;
; 50   : 	}
; 51   : 	else
; 52   : 	{
; 53   : 		this->m_iBufferCount--;
; 54   : 
; 55   : 		this->m_pBuffer [ this->m_iBufferCount ] = ch;

  0000a	8a 45 08	 mov	 al, BYTE PTR _ch$[ebp]
  0000d	4a		 dec	 edx
  0000e	89 51 0c	 mov	 DWORD PTR [ecx+12], edx
  00011	8b 49 04	 mov	 ecx, DWORD PTR [ecx+4]
  00014	88 04 0a	 mov	 BYTE PTR [edx+ecx], al
$LN3@UnGetC:

; 56   : 	}
; 57   : }

  00017	5d		 pop	 ebp
  00018	c2 04 00	 ret	 4
?UnGetC@CWzMemScript@@QAEXH@Z ENDP			; CWzMemScript::UnGetC
_TEXT	ENDS
; Function compile flags: /Ogtp
; File c:\users\michel\desktop\source\gameserver\common\wzmemscript.cpp
;	COMDAT ?GetC@CWzMemScript@@QAEHXZ
_TEXT	SEGMENT
?GetC@CWzMemScript@@QAEHXZ PROC				; CWzMemScript::GetC, COMDAT
; _this$ = ecx

; 32   : {

  00000	8b d1		 mov	 edx, ecx

; 33   : 	if ( this->m_iBufferCount >= this->m_iBufferSize )

  00002	8b 4a 0c	 mov	 ecx, DWORD PTR [edx+12]
  00005	3b 4a 08	 cmp	 ecx, DWORD PTR [edx+8]
  00008	7c 04		 jl	 SHORT $LN2@GetC

; 34   : 	{
; 35   : 		return -1;

  0000a	83 c8 ff	 or	 eax, -1

; 40   : 	}
; 41   : }

  0000d	c3		 ret	 0
$LN2@GetC:

; 36   : 	}
; 37   : 	else
; 38   : 	{
; 39   : 		return this->m_pBuffer[ this->m_iBufferCount++ ];

  0000e	8b 42 04	 mov	 eax, DWORD PTR [edx+4]
  00011	0f be 04 08	 movsx	 eax, BYTE PTR [eax+ecx]
  00015	41		 inc	 ecx
  00016	89 4a 0c	 mov	 DWORD PTR [edx+12], ecx

; 40   : 	}
; 41   : }

  00019	c3		 ret	 0
?GetC@CWzMemScript@@QAEHXZ ENDP				; CWzMemScript::GetC
_TEXT	ENDS
; Function compile flags: /Ogtp
; File c:\users\michel\desktop\source\gameserver\common\wzmemscript.cpp
;	COMDAT ?GetString@CWzMemScript@@QAEPADXZ
_TEXT	SEGMENT
?GetString@CWzMemScript@@QAEPADXZ PROC			; CWzMemScript::GetString, COMDAT
; _this$ = ecx

; 75   : 	return &this->TokenString[0];

  00000	8d 41 1c	 lea	 eax, DWORD PTR [ecx+28]

; 76   : }

  00003	c3		 ret	 0
?GetString@CWzMemScript@@QAEPADXZ ENDP			; CWzMemScript::GetString
_TEXT	ENDS
; Function compile flags: /Ogtp
; File c:\users\michel\desktop\source\gameserver\common\wzmemscript.cpp
;	COMDAT ?GetNumber@CWzMemScript@@QAEHXZ
_TEXT	SEGMENT
?GetNumber@CWzMemScript@@QAEHXZ PROC			; CWzMemScript::GetNumber, COMDAT
; _this$ = ecx

; 70   : 	return this->TokenNumber;

  00000	f3 0f 2c 41 18	 cvttss2si eax, DWORD PTR [ecx+24]

; 71   : }

  00005	c3		 ret	 0
?GetNumber@CWzMemScript@@QAEHXZ ENDP			; CWzMemScript::GetNumber
_TEXT	ENDS
; Function compile flags: /Ogtp
; File c:\users\michel\desktop\source\gameserver\common\wzmemscript.cpp
;	COMDAT ?GetToken@CWzMemScript@@QAE?AW4SMDToken@@XZ
_TEXT	SEGMENT
_TempString$ = -104					; size = 100
__$ArrayPad$ = -4					; size = 4
?GetToken@CWzMemScript@@QAE?AW4SMDToken@@XZ PROC	; CWzMemScript::GetToken, COMDAT
; _this$ = ecx

; 79   : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	83 ec 68	 sub	 esp, 104		; 00000068H
  00006	a1 00 00 00 00	 mov	 eax, DWORD PTR ___security_cookie
  0000b	33 c5		 xor	 eax, ebp
  0000d	89 45 fc	 mov	 DWORD PTR __$ArrayPad$[ebp], eax
  00010	53		 push	 ebx
  00011	56		 push	 esi
  00012	8b f1		 mov	 esi, ecx
  00014	57		 push	 edi

; 80   : 	char ch;
; 81   : 	char* p;
; 82   : 	char TempString[100];
; 83   : 
; 84   : 	this->TokenString[0]=0;	// Set String NULL

  00015	8d 7e 1c	 lea	 edi, DWORD PTR [esi+28]
  00018	c6 07 00	 mov	 BYTE PTR [edi], 0
  0001b	0f 1f 44 00 00	 npad	 5
$LL4@GetToken:

; 85   : 
; 86   : 	do
; 87   : 	{
; 88   : 		if ( (ch=this->GetC ()) == (-1) )

  00020	8b ce		 mov	 ecx, esi
  00022	e8 00 00 00 00	 call	 ?GetC@CWzMemScript@@QAEHXZ ; CWzMemScript::GetC
  00027	8a d8		 mov	 bl, al
  00029	80 fb ff	 cmp	 bl, -1
  0002c	0f 84 25 02 00
	00		 je	 $LN38@GetToken

; 89   : 		{
; 90   : 			return END;
; 91   : 		}
; 92   : 		else
; 93   : 		{	
; 94   : 			if (ch=='/')		// this is /

  00032	80 fb 2f	 cmp	 bl, 47			; 0000002fH
  00035	75 1c		 jne	 SHORT $LN2@GetToken

; 95   : 			{
; 96   : 				if((ch=this->GetC ()) == '/')

  00037	8b ce		 mov	 ecx, esi
  00039	e8 00 00 00 00	 call	 ?GetC@CWzMemScript@@QAEHXZ ; CWzMemScript::GetC
  0003e	8a d8		 mov	 bl, al
  00040	80 fb 2f	 cmp	 bl, 47			; 0000002fH
  00043	75 0e		 jne	 SHORT $LN2@GetToken
$LL5@GetToken:

; 97   : 				{
; 98   : 					while ( ((ch=this->GetC()) != ('\n')) )	// End of Line (EOL)

  00045	8b ce		 mov	 ecx, esi
  00047	e8 00 00 00 00	 call	 ?GetC@CWzMemScript@@QAEHXZ ; CWzMemScript::GetC
  0004c	8a d8		 mov	 bl, al
  0004e	80 fb 0a	 cmp	 bl, 10			; 0000000aH
  00051	75 f2		 jne	 SHORT $LL5@GetToken
$LN2@GetToken:

; 99   : 					{
; 100  : 						continue;
; 101  : 					}
; 102  : 				}
; 103  : 			}
; 104  : 		}
; 105  : 	}
; 106  : 	while (isspace(ch) != 0);

  00053	0f be c3	 movsx	 eax, bl
  00056	50		 push	 eax
  00057	e8 00 00 00 00	 call	 _isspace
  0005c	83 c4 04	 add	 esp, 4
  0005f	85 c0		 test	 eax, eax
  00061	75 bd		 jne	 SHORT $LL4@GetToken

; 107  : 
; 108  : 	switch(ch)

  00063	0f be cb	 movsx	 ecx, bl
  00066	8d 41 de	 lea	 eax, DWORD PTR [ecx-34]
  00069	83 f8 5b	 cmp	 eax, 91			; 0000005bH
  0006c	0f 87 77 01 00
	00		 ja	 $LN28@GetToken
  00072	0f b6 80 00 00
	00 00		 movzx	 eax, BYTE PTR $LN53@GetToken[eax]
  00079	ff 24 85 00 00
	00 00		 jmp	 DWORD PTR $LN58@GetToken[eax*4]
$LN19@GetToken:
  00080	5f		 pop	 edi

; 109  : 	{
; 110  : 
; 111  : 	case 0x23:	// #
; 112  : 		return this->CurrentToken=COMMAND;

  00081	c7 86 80 00 00
	00 23 00 00 00	 mov	 DWORD PTR [esi+128], 35	; 00000023H
  0008b	b8 23 00 00 00	 mov	 eax, 35			; 00000023H
  00090	5e		 pop	 esi
  00091	5b		 pop	 ebx

; 195  : 		}
; 196  : 		break;
; 197  : 
; 198  : 	}
; 199  : 
; 200  : }

  00092	8b 4d fc	 mov	 ecx, DWORD PTR __$ArrayPad$[ebp]
  00095	33 cd		 xor	 ecx, ebp
  00097	e8 00 00 00 00	 call	 @__security_check_cookie@4
  0009c	8b e5		 mov	 esp, ebp
  0009e	5d		 pop	 ebp
  0009f	c3		 ret	 0
$LN20@GetToken:
  000a0	5f		 pop	 edi

; 113  : 		break;
; 114  : 	
; 115  : 	case 0x3B:	// ;
; 116  : 		return this->CurrentToken=SEMICOLON;

  000a1	c7 86 80 00 00
	00 3b 00 00 00	 mov	 DWORD PTR [esi+128], 59	; 0000003bH
  000ab	b8 3b 00 00 00	 mov	 eax, 59			; 0000003bH
  000b0	5e		 pop	 esi
  000b1	5b		 pop	 ebx

; 195  : 		}
; 196  : 		break;
; 197  : 
; 198  : 	}
; 199  : 
; 200  : }

  000b2	8b 4d fc	 mov	 ecx, DWORD PTR __$ArrayPad$[ebp]
  000b5	33 cd		 xor	 ecx, ebp
  000b7	e8 00 00 00 00	 call	 @__security_check_cookie@4
  000bc	8b e5		 mov	 esp, ebp
  000be	5d		 pop	 ebp
  000bf	c3		 ret	 0
$LN21@GetToken:
  000c0	5f		 pop	 edi

; 117  : 		break;
; 118  : 	
; 119  : 	case 0x2C:	// ,
; 120  : 
; 121  : 		return this->CurrentToken=COMMA;

  000c1	c7 86 80 00 00
	00 2c 00 00 00	 mov	 DWORD PTR [esi+128], 44	; 0000002cH
  000cb	b8 2c 00 00 00	 mov	 eax, 44			; 0000002cH
  000d0	5e		 pop	 esi
  000d1	5b		 pop	 ebx

; 195  : 		}
; 196  : 		break;
; 197  : 
; 198  : 	}
; 199  : 
; 200  : }

  000d2	8b 4d fc	 mov	 ecx, DWORD PTR __$ArrayPad$[ebp]
  000d5	33 cd		 xor	 ecx, ebp
  000d7	e8 00 00 00 00	 call	 @__security_check_cookie@4
  000dc	8b e5		 mov	 esp, ebp
  000de	5d		 pop	 ebp
  000df	c3		 ret	 0
$LN22@GetToken:
  000e0	5f		 pop	 edi

; 122  : 		break;
; 123  : 	
; 124  : 	case 0x7B:	// {
; 125  : 		return this->CurrentToken = LP;

  000e1	c7 86 80 00 00
	00 7b 00 00 00	 mov	 DWORD PTR [esi+128], 123 ; 0000007bH
  000eb	b8 7b 00 00 00	 mov	 eax, 123		; 0000007bH
  000f0	5e		 pop	 esi
  000f1	5b		 pop	 ebx

; 195  : 		}
; 196  : 		break;
; 197  : 
; 198  : 	}
; 199  : 
; 200  : }

  000f2	8b 4d fc	 mov	 ecx, DWORD PTR __$ArrayPad$[ebp]
  000f5	33 cd		 xor	 ecx, ebp
  000f7	e8 00 00 00 00	 call	 @__security_check_cookie@4
  000fc	8b e5		 mov	 esp, ebp
  000fe	5d		 pop	 ebp
  000ff	c3		 ret	 0
$LN23@GetToken:
  00100	5f		 pop	 edi

; 126  : 		break;
; 127  : 
; 128  : 	case 0x7D:	// }
; 129  : 		return this->CurrentToken = RP;

  00101	c7 86 80 00 00
	00 7d 00 00 00	 mov	 DWORD PTR [esi+128], 125 ; 0000007dH
  0010b	b8 7d 00 00 00	 mov	 eax, 125		; 0000007dH
  00110	5e		 pop	 esi
  00111	5b		 pop	 ebx

; 195  : 		}
; 196  : 		break;
; 197  : 
; 198  : 	}
; 199  : 
; 200  : }

  00112	8b 4d fc	 mov	 ecx, DWORD PTR __$ArrayPad$[ebp]
  00115	33 cd		 xor	 ecx, ebp
  00117	e8 00 00 00 00	 call	 @__security_check_cookie@4
  0011c	8b e5		 mov	 esp, ebp
  0011e	5d		 pop	 ebp
  0011f	c3		 ret	 0
$LN24@GetToken:

; 130  : 		break;
; 131  : 	// Nice Index Table :)	by Deathway
; 132  : 	case 0x2D:	//-
; 133  : 	case 0x2E:	//.
; 134  : 	case 0x30:	//0
; 135  : 	case 0x31:	//1
; 136  : 	case 0x32:	//2
; 137  : 	case 0x33:	//3
; 138  : 	case 0x34:	//4		
; 139  : 	case 0x35:	//5
; 140  : 	case 0x36:	//6
; 141  : 	case 0x37:	//7
; 142  : 	case 0x38:	//8
; 143  : 	case 0x39:	//9
; 144  : 		this->UnGetC (ch);

  00120	51		 push	 ecx
  00121	8b ce		 mov	 ecx, esi
  00123	e8 00 00 00 00	 call	 ?UnGetC@CWzMemScript@@QAEXH@Z ; CWzMemScript::UnGetC

; 145  : 		p = TempString;
; 146  : 		
; 147  : 		while (((ch=this->GetC()) != -1) && ((ch == 0x2E) || (isdigit(ch) != 0) || (ch == 0x2D))) 

  00128	8b ce		 mov	 ecx, esi
  0012a	8d 7d 98	 lea	 edi, DWORD PTR _TempString$[ebp]
  0012d	e8 00 00 00 00	 call	 ?GetC@CWzMemScript@@QAEHXZ ; CWzMemScript::GetC
  00132	8a d8		 mov	 bl, al
  00134	80 fb ff	 cmp	 bl, -1
  00137	74 32		 je	 SHORT $LN54@GetToken
  00139	0f 1f 80 00 00
	00 00		 npad	 7
$LL9@GetToken:
  00140	80 fb 2e	 cmp	 bl, 46			; 0000002eH
  00143	74 15		 je	 SHORT $LN25@GetToken
  00145	0f be cb	 movsx	 ecx, bl
  00148	51		 push	 ecx
  00149	e8 00 00 00 00	 call	 _isdigit
  0014e	83 c4 04	 add	 esp, 4
  00151	85 c0		 test	 eax, eax
  00153	75 05		 jne	 SHORT $LN25@GetToken
  00155	80 fb 2d	 cmp	 bl, 45			; 0000002dH
  00158	75 11		 jne	 SHORT $LN54@GetToken
$LN25@GetToken:

; 148  : 		{
; 149  : 			*p = ch;

  0015a	88 1f		 mov	 BYTE PTR [edi], bl
  0015c	8b ce		 mov	 ecx, esi

; 150  : 			p++;

  0015e	47		 inc	 edi
  0015f	e8 00 00 00 00	 call	 ?GetC@CWzMemScript@@QAEHXZ ; CWzMemScript::GetC
  00164	8a d8		 mov	 bl, al
  00166	80 fb ff	 cmp	 bl, -1
  00169	75 d5		 jne	 SHORT $LL9@GetToken
$LN54@GetToken:

; 151  : 		}		
; 152  : 		*p = 0;
; 153  : 		this->TokenNumber = atof( TempString);

  0016b	8d 45 98	 lea	 eax, DWORD PTR _TempString$[ebp]
  0016e	c6 07 00	 mov	 BYTE PTR [edi], 0
  00171	50		 push	 eax
  00172	e8 00 00 00 00	 call	 _atof
  00177	83 c4 04	 add	 esp, 4

; 154  : 		return this->CurrentToken  = NUMBER ;

  0017a	c7 86 80 00 00
	00 01 00 00 00	 mov	 DWORD PTR [esi+128], 1
  00184	d9 5e 18	 fstp	 DWORD PTR [esi+24]
  00187	b8 01 00 00 00	 mov	 eax, 1
  0018c	5f		 pop	 edi
  0018d	5e		 pop	 esi
  0018e	5b		 pop	 ebx

; 195  : 		}
; 196  : 		break;
; 197  : 
; 198  : 	}
; 199  : 
; 200  : }

  0018f	8b 4d fc	 mov	 ecx, DWORD PTR __$ArrayPad$[ebp]
  00192	33 cd		 xor	 ecx, ebp
  00194	e8 00 00 00 00	 call	 @__security_check_cookie@4
  00199	8b e5		 mov	 esp, ebp
  0019b	5d		 pop	 ebp
  0019c	c3		 ret	 0
$LN26@GetToken:

; 155  : 		break;
; 156  : 
; 157  : 	case 0x22:	// "	
; 158  : 		p=&this->TokenString[0];
; 159  : 		
; 160  : 		while (((ch=this->GetC() ) != -1 ) && (ch != 0x22))	// nice

  0019d	8b ce		 mov	 ecx, esi
  0019f	e8 00 00 00 00	 call	 ?GetC@CWzMemScript@@QAEHXZ ; CWzMemScript::GetC
  001a4	3c ff		 cmp	 al, -1
  001a6	74 12		 je	 SHORT $LN12@GetToken
$LL11@GetToken:
  001a8	3c 22		 cmp	 al, 34			; 00000022H
  001aa	74 1d		 je	 SHORT $LN27@GetToken

; 161  : 		{
; 162  : 			*p = ch;

  001ac	88 07		 mov	 BYTE PTR [edi], al
  001ae	8b ce		 mov	 ecx, esi

; 163  : 			p++;

  001b0	47		 inc	 edi
  001b1	e8 00 00 00 00	 call	 ?GetC@CWzMemScript@@QAEHXZ ; CWzMemScript::GetC
  001b6	3c ff		 cmp	 al, -1
  001b8	75 ee		 jne	 SHORT $LL11@GetToken
$LN12@GetToken:

; 164  : 		}
; 165  : 		if (ch != 0x22 )

  001ba	3c 22		 cmp	 al, 34			; 00000022H
  001bc	74 0b		 je	 SHORT $LN27@GetToken

; 166  : 		{
; 167  : 			this->UnGetC(ch);

  001be	0f be c0	 movsx	 eax, al
$LN56@GetToken:
  001c1	50		 push	 eax
  001c2	8b ce		 mov	 ecx, esi
  001c4	e8 00 00 00 00	 call	 ?UnGetC@CWzMemScript@@QAEXH@Z ; CWzMemScript::UnGetC
$LN27@GetToken:

; 168  : 		}
; 169  : 		*p = 0;

  001c9	c6 07 00	 mov	 BYTE PTR [edi], 0

; 170  : 		return this->CurrentToken = NAME;

  001cc	33 c0		 xor	 eax, eax
  001ce	5f		 pop	 edi
  001cf	c7 86 80 00 00
	00 00 00 00 00	 mov	 DWORD PTR [esi+128], 0
  001d9	5e		 pop	 esi
  001da	5b		 pop	 ebx

; 195  : 		}
; 196  : 		break;
; 197  : 
; 198  : 	}
; 199  : 
; 200  : }

  001db	8b 4d fc	 mov	 ecx, DWORD PTR __$ArrayPad$[ebp]
  001de	33 cd		 xor	 ecx, ebp
  001e0	e8 00 00 00 00	 call	 @__security_check_cookie@4
  001e5	8b e5		 mov	 esp, ebp
  001e7	5d		 pop	 ebp
  001e8	c3		 ret	 0
$LN28@GetToken:

; 171  : 		break;
; 172  : 
; 173  : 	default:	
; 174  : 		if (isalpha(ch))

  001e9	51		 push	 ecx
  001ea	e8 00 00 00 00	 call	 _isalpha
  001ef	83 c4 04	 add	 esp, 4
  001f2	85 c0		 test	 eax, eax
  001f4	74 41		 je	 SHORT $LN29@GetToken

; 175  : 		{
; 176  : 			p=&this->TokenString[0];
; 177  : 			*p=ch;

  001f6	88 1f		 mov	 BYTE PTR [edi], bl

; 178  : 			p++;
; 179  : 
; 180  : 			while ( ((ch=this->GetC() ) != -1) && ( (ch == 0x2E) || (ch == 0x5F) || (isalnum(ch) != 0) ) )

  001f8	8b ce		 mov	 ecx, esi
  001fa	47		 inc	 edi
  001fb	e8 00 00 00 00	 call	 ?GetC@CWzMemScript@@QAEHXZ ; CWzMemScript::GetC
  00200	8a d8		 mov	 bl, al
  00202	80 fb ff	 cmp	 bl, -1
  00205	74 2b		 je	 SHORT $LN55@GetToken
$LL13@GetToken:
  00207	80 fb 2e	 cmp	 bl, 46			; 0000002eH
  0020a	74 15		 je	 SHORT $LN31@GetToken
  0020c	80 fb 5f	 cmp	 bl, 95			; 0000005fH
  0020f	74 10		 je	 SHORT $LN31@GetToken
  00211	0f be c3	 movsx	 eax, bl
  00214	50		 push	 eax
  00215	e8 00 00 00 00	 call	 _isalnum
  0021a	83 c4 04	 add	 esp, 4
  0021d	85 c0		 test	 eax, eax
  0021f	74 11		 je	 SHORT $LN55@GetToken
$LN31@GetToken:

; 181  : 			{
; 182  : 				*p=ch;

  00221	88 1f		 mov	 BYTE PTR [edi], bl
  00223	8b ce		 mov	 ecx, esi

; 183  : 				p++;

  00225	47		 inc	 edi
  00226	e8 00 00 00 00	 call	 ?GetC@CWzMemScript@@QAEHXZ ; CWzMemScript::GetC
  0022b	8a d8		 mov	 bl, al
  0022d	80 fb ff	 cmp	 bl, -1
  00230	75 d5		 jne	 SHORT $LL13@GetToken
$LN55@GetToken:

; 184  : 				
; 185  : 			}
; 186  : 
; 187  : 			this->UnGetC(ch);

  00232	0f be c3	 movsx	 eax, bl

; 188  : 			*p=0;
; 189  : 			this->CurrentToken=NAME;
; 190  : 			return NAME;

  00235	eb 8a		 jmp	 SHORT $LN56@GetToken
$LN29@GetToken:
  00237	5f		 pop	 edi

; 191  : 		}
; 192  : 		else
; 193  : 		{
; 194  : 			return this->CurrentToken = SMD_ERROR;

  00238	c7 86 80 00 00
	00 3c 00 00 00	 mov	 DWORD PTR [esi+128], 60	; 0000003cH
  00242	b8 3c 00 00 00	 mov	 eax, 60			; 0000003cH
  00247	5e		 pop	 esi
  00248	5b		 pop	 ebx

; 195  : 		}
; 196  : 		break;
; 197  : 
; 198  : 	}
; 199  : 
; 200  : }

  00249	8b 4d fc	 mov	 ecx, DWORD PTR __$ArrayPad$[ebp]
  0024c	33 cd		 xor	 ecx, ebp
  0024e	e8 00 00 00 00	 call	 @__security_check_cookie@4
  00253	8b e5		 mov	 esp, ebp
  00255	5d		 pop	 ebp
  00256	c3		 ret	 0
$LN38@GetToken:
  00257	8b 4d fc	 mov	 ecx, DWORD PTR __$ArrayPad$[ebp]
  0025a	b8 02 00 00 00	 mov	 eax, 2
  0025f	5f		 pop	 edi
  00260	5e		 pop	 esi
  00261	33 cd		 xor	 ecx, ebp
  00263	5b		 pop	 ebx
  00264	e8 00 00 00 00	 call	 @__security_check_cookie@4
  00269	8b e5		 mov	 esp, ebp
  0026b	5d		 pop	 ebp
  0026c	c3		 ret	 0
  0026d	0f 1f 00	 npad	 3
$LN58@GetToken:
  00270	00 00 00 00	 DD	 $LN26@GetToken
  00274	00 00 00 00	 DD	 $LN19@GetToken
  00278	00 00 00 00	 DD	 $LN21@GetToken
  0027c	00 00 00 00	 DD	 $LN24@GetToken
  00280	00 00 00 00	 DD	 $LN20@GetToken
  00284	00 00 00 00	 DD	 $LN22@GetToken
  00288	00 00 00 00	 DD	 $LN23@GetToken
  0028c	00 00 00 00	 DD	 $LN28@GetToken
$LN53@GetToken:
  00290	00		 DB	 0
  00291	01		 DB	 1
  00292	07		 DB	 7
  00293	07		 DB	 7
  00294	07		 DB	 7
  00295	07		 DB	 7
  00296	07		 DB	 7
  00297	07		 DB	 7
  00298	07		 DB	 7
  00299	07		 DB	 7
  0029a	02		 DB	 2
  0029b	03		 DB	 3
  0029c	03		 DB	 3
  0029d	07		 DB	 7
  0029e	03		 DB	 3
  0029f	03		 DB	 3
  002a0	03		 DB	 3
  002a1	03		 DB	 3
  002a2	03		 DB	 3
  002a3	03		 DB	 3
  002a4	03		 DB	 3
  002a5	03		 DB	 3
  002a6	03		 DB	 3
  002a7	03		 DB	 3
  002a8	07		 DB	 7
  002a9	04		 DB	 4
  002aa	07		 DB	 7
  002ab	07		 DB	 7
  002ac	07		 DB	 7
  002ad	07		 DB	 7
  002ae	07		 DB	 7
  002af	07		 DB	 7
  002b0	07		 DB	 7
  002b1	07		 DB	 7
  002b2	07		 DB	 7
  002b3	07		 DB	 7
  002b4	07		 DB	 7
  002b5	07		 DB	 7
  002b6	07		 DB	 7
  002b7	07		 DB	 7
  002b8	07		 DB	 7
  002b9	07		 DB	 7
  002ba	07		 DB	 7
  002bb	07		 DB	 7
  002bc	07		 DB	 7
  002bd	07		 DB	 7
  002be	07		 DB	 7
  002bf	07		 DB	 7
  002c0	07		 DB	 7
  002c1	07		 DB	 7
  002c2	07		 DB	 7
  002c3	07		 DB	 7
  002c4	07		 DB	 7
  002c5	07		 DB	 7
  002c6	07		 DB	 7
  002c7	07		 DB	 7
  002c8	07		 DB	 7
  002c9	07		 DB	 7
  002ca	07		 DB	 7
  002cb	07		 DB	 7
  002cc	07		 DB	 7
  002cd	07		 DB	 7
  002ce	07		 DB	 7
  002cf	07		 DB	 7
  002d0	07		 DB	 7
  002d1	07		 DB	 7
  002d2	07		 DB	 7
  002d3	07		 DB	 7
  002d4	07		 DB	 7
  002d5	07		 DB	 7
  002d6	07		 DB	 7
  002d7	07		 DB	 7
  002d8	07		 DB	 7
  002d9	07		 DB	 7
  002da	07		 DB	 7
  002db	07		 DB	 7
  002dc	07		 DB	 7
  002dd	07		 DB	 7
  002de	07		 DB	 7
  002df	07		 DB	 7
  002e0	07		 DB	 7
  002e1	07		 DB	 7
  002e2	07		 DB	 7
  002e3	07		 DB	 7
  002e4	07		 DB	 7
  002e5	07		 DB	 7
  002e6	07		 DB	 7
  002e7	07		 DB	 7
  002e8	07		 DB	 7
  002e9	05		 DB	 5
  002ea	07		 DB	 7
  002eb	06		 DB	 6
?GetToken@CWzMemScript@@QAE?AW4SMDToken@@XZ ENDP	; CWzMemScript::GetToken
_TEXT	ENDS
; Function compile flags: /Ogtp
; File c:\users\michel\desktop\source\gameserver\common\wzmemscript.cpp
;	COMDAT ?SetScriptParsingBuffer@CWzMemScript@@QAEXPADH@Z
_TEXT	SEGMENT
_buffer$ = 8						; size = 4
_size$ = 12						; size = 4
?SetScriptParsingBuffer@CWzMemScript@@QAEXPADH@Z PROC	; CWzMemScript::SetScriptParsingBuffer, COMDAT
; _this$ = ecx

; 61   : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp

; 62   : 	this->m_pBuffer = buffer;

  00003	8b 45 08	 mov	 eax, DWORD PTR _buffer$[ebp]
  00006	89 41 04	 mov	 DWORD PTR [ecx+4], eax

; 63   : 	this->m_iBufferSize = size;

  00009	8b 45 0c	 mov	 eax, DWORD PTR _size$[ebp]
  0000c	89 41 08	 mov	 DWORD PTR [ecx+8], eax

; 64   : 	this->m_iBufferCount = 0;

  0000f	c7 41 0c 00 00
	00 00		 mov	 DWORD PTR [ecx+12], 0

; 65   : }

  00016	5d		 pop	 ebp
  00017	c2 08 00	 ret	 8
?SetScriptParsingBuffer@CWzMemScript@@QAEXPADH@Z ENDP	; CWzMemScript::SetScriptParsingBuffer
_TEXT	ENDS
; Function compile flags: /Ogtp
; File c:\users\michel\desktop\source\gameserver\common\wzmemscript.cpp
;	COMDAT ?SetBuffer@CWzMemScript@@QAEHPADH@Z
_TEXT	SEGMENT
_buffer$ = 8						; size = 4
_buffersize$ = 12					; size = 4
?SetBuffer@CWzMemScript@@QAEHPADH@Z PROC		; CWzMemScript::SetBuffer, COMDAT
; _this$ = ecx

; 25   : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp

; 26   : 	this->SetScriptParsingBuffer(buffer, buffersize);

  00003	ff 75 0c	 push	 DWORD PTR _buffersize$[ebp]
  00006	ff 75 08	 push	 DWORD PTR _buffer$[ebp]
  00009	e8 00 00 00 00	 call	 ?SetScriptParsingBuffer@CWzMemScript@@QAEXPADH@Z ; CWzMemScript::SetScriptParsingBuffer

; 27   : 	return 1;

  0000e	b8 01 00 00 00	 mov	 eax, 1

; 28   : }

  00013	5d		 pop	 ebp
  00014	c2 08 00	 ret	 8
?SetBuffer@CWzMemScript@@QAEHPADH@Z ENDP		; CWzMemScript::SetBuffer
_TEXT	ENDS
; Function compile flags: /Ogtp
; File c:\users\michel\desktop\source\gameserver\common\wzmemscript.cpp
;	COMDAT ??1CWzMemScript@@UAE@XZ
_TEXT	SEGMENT
??1CWzMemScript@@UAE@XZ PROC				; CWzMemScript::~CWzMemScript, COMDAT
; _this$ = ecx

; 20   : {

  00000	c7 01 00 00 00
	00		 mov	 DWORD PTR [ecx], OFFSET ??_7CWzMemScript@@6B@

; 21   : 	return;
; 22   : }

  00006	c3		 ret	 0
??1CWzMemScript@@UAE@XZ ENDP				; CWzMemScript::~CWzMemScript
_TEXT	ENDS
; Function compile flags: /Ogtp
; File c:\users\michel\desktop\source\gameserver\common\wzmemscript.cpp
;	COMDAT ??0CWzMemScript@@QAE@XZ
_TEXT	SEGMENT
??0CWzMemScript@@QAE@XZ PROC				; CWzMemScript::CWzMemScript, COMDAT
; _this$ = ecx

; 15   : {

  00000	c7 01 00 00 00
	00		 mov	 DWORD PTR [ecx], OFFSET ??_7CWzMemScript@@6B@

; 16   : 	return;
; 17   : }

  00006	8b c1		 mov	 eax, ecx
  00008	c3		 ret	 0
??0CWzMemScript@@QAE@XZ ENDP				; CWzMemScript::CWzMemScript
_TEXT	ENDS
; Function compile flags: /Ogtp
; File c:\users\michel\desktop\source\gameserver\common\wzmemscript.cpp
;	COMDAT ?__empty_global_delete@@YAXPAXI@Z
_TEXT	SEGMENT
___formal$ = 8						; size = 4
___formal$ = 12						; size = 4
?__empty_global_delete@@YAXPAXI@Z PROC			; __empty_global_delete, COMDAT

  00000	c3		 ret	 0
?__empty_global_delete@@YAXPAXI@Z ENDP			; __empty_global_delete
_TEXT	ENDS
; Function compile flags: /Ogtp
; File c:\users\michel\desktop\source\gameserver\common\wzmemscript.cpp
;	COMDAT ?__empty_global_delete@@YAXPAX@Z
_TEXT	SEGMENT
___formal$ = 8						; size = 4
?__empty_global_delete@@YAXPAX@Z PROC			; __empty_global_delete, COMDAT

  00000	c3		 ret	 0
?__empty_global_delete@@YAXPAX@Z ENDP			; __empty_global_delete
_TEXT	ENDS
END
