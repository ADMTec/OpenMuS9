; Listing generated by Microsoft (R) Optimizing Compiler Version 19.00.23506.0 

	TITLE	C:\Users\Michel\Desktop\Source\GameServer\Source\EDSProtocol.cpp
	.686P
	.XMM
	include listing.inc
	.model	flat

INCLUDELIB LIBCMT
INCLUDELIB OLDNAMES

PUBLIC	?gGuildListTotal@@3HA				; gGuildListTotal
PUBLIC	?gGuildListCount@@3HA				; gGuildListCount
PUBLIC	?GuildListhSts@@3PAUHWND__@@A			; GuildListhSts
PUBLIC	?GuildListhPrs@@3PAUHWND__@@A			; GuildListhPrs
PUBLIC	?GuildListhDlg@@3PAUHWND__@@A			; GuildListhDlg
_BSS	SEGMENT
?gGuildListTotal@@3HA DD 01H DUP (?)			; gGuildListTotal
?gGuildListCount@@3HA DD 01H DUP (?)			; gGuildListCount
?GuildListhSts@@3PAUHWND__@@A DD 01H DUP (?)		; GuildListhSts
?GuildListhPrs@@3PAUHWND__@@A DD 01H DUP (?)		; GuildListhPrs
?GuildListhDlg@@3PAUHWND__@@A DD 01H DUP (?)		; GuildListhDlg
_BSS	ENDS
PUBLIC	?__empty_global_delete@@YAXPAX@Z		; __empty_global_delete
PUBLIC	?__empty_global_delete@@YAXPAXI@Z		; __empty_global_delete
PUBLIC	??1OBJECTSTRUCT@@QAE@XZ				; OBJECTSTRUCT::~OBJECTSTRUCT
PUBLIC	??_EOBJECTSTRUCT@@QAEPAXI@Z			; OBJECTSTRUCT::`vector deleting destructor'
PUBLIC	?ExDataServerProtocolCore@@YAXEPAEH@Z		; ExDataServerProtocolCore
PUBLIC	?ExDataServerLogin@@YAXXZ			; ExDataServerLogin
PUBLIC	?GDCharClose@@YAXHPAD0@Z			; GDCharClose
PUBLIC	?ExDataServerLoginResult@@YAXPAUSDHP_RESULT@@@Z	; ExDataServerLoginResult
PUBLIC	?GDCharCloseRecv@@YAXPAUSDHP_USERCLOSE@@@Z	; GDCharCloseRecv
PUBLIC	?GDGuildCreateSend@@YAXHPAD0PAEH@Z		; GDGuildCreateSend
PUBLIC	?GDGuildCreateRecv@@YAXPAUSDHP_GUILDCREATE_RESULT@@@Z ; GDGuildCreateRecv
PUBLIC	?GDGuildDestroySend@@YAXHPAD0@Z			; GDGuildDestroySend
PUBLIC	?GDGuildDestroyRecv@@YAXPAUSDHP_GUILDDESTROY_RESULT@@@Z ; GDGuildDestroyRecv
PUBLIC	?GDGuildMemberAdd@@YAXHPAD0@Z			; GDGuildMemberAdd
PUBLIC	?GDGuildMemberAddResult@@YAXPAUSDHP_GUILDMEMBERADD_RESULT@@@Z ; GDGuildMemberAddResult
PUBLIC	?GDGuildMemberDel@@YAXHPAD0@Z			; GDGuildMemberDel
PUBLIC	?GDGuildMemberDelResult@@YAXPAUSDHP_GUILDMEMBERDEL_RESULT@@@Z ; GDGuildMemberDelResult
PUBLIC	?DGGuildMemberInfoRequest@@YAXH@Z		; DGGuildMemberInfoRequest
PUBLIC	?DGGuildMemberInfo@@YAXPAUSDHP_GUILDMEMBER_INFO@@@Z ; DGGuildMemberInfo
PUBLIC	?DGGuildMasterListRecv@@YAXPAE@Z		; DGGuildMasterListRecv
PUBLIC	?DGGuildScoreUpdate@@YAXPADH@Z			; DGGuildScoreUpdate
PUBLIC	?GDGuildScoreUpdateRecv@@YAXPAUSDHP_GUILDSCOREUPDATE@@@Z ; GDGuildScoreUpdateRecv
PUBLIC	?GDGuildNoticeSave@@YAXPAD0@Z			; GDGuildNoticeSave
PUBLIC	?DGGuildNoticeRecv@@YAXPAUSDHP_GUILDNOTICE@@@Z	; DGGuildNoticeRecv
PUBLIC	?DGGuildListRequest@@YAXXZ			; DGGuildListRequest
PUBLIC	?DGGuildList@@YAXPAUSDHP_GUILDCREATED@@@Z	; DGGuildList
PUBLIC	?GuildListDlgProc@@YGHPAUHWND__@@IIJ@Z		; GuildListDlgProc
PUBLIC	?DGGuildListState@@YAXPAUSDHP_GUILDLISTSTATE@@@Z ; DGGuildListState
PUBLIC	?GDGuildServerGroupChattingSend@@YAXHPAUPMSG_CHATDATA@@@Z ; GDGuildServerGroupChattingSend
PUBLIC	?DGGuildServerGroupChattingRecv@@YAXPAUEXSDHP_SERVERGROUP_GUILD_CHATTING_RECV@@@Z ; DGGuildServerGroupChattingRecv
PUBLIC	?GDUnionServerGroupChattingSend@@YAXHPAUPMSG_CHATDATA@@@Z ; GDUnionServerGroupChattingSend
PUBLIC	?DGUnionServerGroupChattingRecv@@YAXPAUEXSDHP_SERVERGROUP_UNION_CHATTING_RECV@@@Z ; DGUnionServerGroupChattingRecv
PUBLIC	?GDGuildReqAssignStatus@@YAXHHPADH@Z		; GDGuildReqAssignStatus
PUBLIC	?DGGuildAnsAssignStatus@@YAXPAUEXSDHP_GUILD_ASSIGN_STATUS_RESULT@@@Z ; DGGuildAnsAssignStatus
PUBLIC	?GDGuildReqAssignType@@YAXHH@Z			; GDGuildReqAssignType
PUBLIC	?DGGuildAnsAssignType@@YAXPAUEXSDHP_GUILD_ASSIGN_TYPE_RESULT@@@Z ; DGGuildAnsAssignType
PUBLIC	?GDRelationShipReqJoin@@YAXHHH@Z		; GDRelationShipReqJoin
PUBLIC	?DGRelationShipAnsJoin@@YAXPAUEXSDHP_RELATIONSHIP_JOIN_RESULT@@@Z ; DGRelationShipAnsJoin
PUBLIC	?GDUnionBreakOff@@YAXHH@Z			; GDUnionBreakOff
PUBLIC	?DGUnionBreakOff@@YAXPAUEXSDHP_RELATIONSHIP_BREAKOFF_RESULT@@@Z ; DGUnionBreakOff
PUBLIC	?GDRelationShipReqBreakOff@@YAXHHH@Z		; GDRelationShipReqBreakOff
PUBLIC	?DGRelationShipAnsBreakOff@@YAXPAUEXSDHP_RELATIONSHIP_BREAKOFF_RESULT@@@Z ; DGRelationShipAnsBreakOff
PUBLIC	?DGRelationShipNotificationRecv@@YAXPAUEXSDHP_NOTIFICATION_RELATIONSHIP@@@Z ; DGRelationShipNotificationRecv
PUBLIC	?DGRelationShipListRecv@@YAXPAUEXSDHP_UNION_RELATIONSHIP_LIST@@@Z ; DGRelationShipListRecv
PUBLIC	?GDUnionListSend@@YAXHH@Z			; GDUnionListSend
PUBLIC	?DGUnionListRecv@@YAXPAE@Z			; DGUnionListRecv
PUBLIC	?GDRelationShipReqKickOutUnionMember@@YAXHPAD@Z	; GDRelationShipReqKickOutUnionMember
PUBLIC	?DGRelationShipAnsKickOutUnionMember@@YAXPAUEXSDHP_KICKOUT_UNIONMEMBER_RESULT@@@Z ; DGRelationShipAnsKickOutUnionMember
PUBLIC	?FriendListRequest@@YAXH@Z			; FriendListRequest
PUBLIC	?FriendListResult@@YAXPAE@Z			; FriendListResult
PUBLIC	?WaitFriendListResult@@YAXPAUFHP_WAITFRIENDLIST_COUNT@@@Z ; WaitFriendListResult
PUBLIC	?FriendStateClientRecv@@YAXPAUPMSG_FRIEND_STATE_C@@H@Z ; FriendStateClientRecv
PUBLIC	?FriendStateRecv@@YAXPAUFHP_FRIEND_STATE@@@Z	; FriendStateRecv
PUBLIC	?FriendAddRequest@@YAXPAUPMSG_FRIEND_ADD_REQ@@H@Z ; FriendAddRequest
PUBLIC	?FriendAddResult@@YAXPAUFHP_FRIEND_ADD_RESULT@@@Z ; FriendAddResult
PUBLIC	?WaitFriendAddRequest@@YAXPAUPMSG_FRIEND_ADD_SIN_RESULT@@H@Z ; WaitFriendAddRequest
PUBLIC	?WaitFriendAddResult@@YAXPAUFHP_WAITFRIEND_ADD_RESULT@@@Z ; WaitFriendAddResult
PUBLIC	?FriendDelRequest@@YAXPAUPMSG_FRIEND_DEL_REQ@@H@Z ; FriendDelRequest
PUBLIC	?FriendDelResult@@YAXPAUFHP_FRIEND_DEL_RESULT@@@Z ; FriendDelResult
PUBLIC	?FriendChatRoomCreateReq@@YAXPAUPMSG_FRIEND_ROOMCREATE_REQ@@H@Z ; FriendChatRoomCreateReq
PUBLIC	?FriendChatRoomCreateResult@@YAXPAUFHP_FRIEND_CHATROOM_CREATE_RESULT@@@Z ; FriendChatRoomCreateResult
PUBLIC	?FriendMemoSend@@YAXPAUPMSG_FRIEND_MEMO@@H@Z	; FriendMemoSend
PUBLIC	?MngFriendMemoSend@@YAXPAUPMSG_JG_MEMO_SEND@@@Z	; MngFriendMemoSend
PUBLIC	?WithdrawUserMoney@@YAHPADPAUOBJECTSTRUCT@@H@Z	; WithdrawUserMoney
PUBLIC	?FriendMemoSendResult@@YAXPAUFHP_FRIEND_MEMO_SEND_RESULT@@@Z ; FriendMemoSendResult
PUBLIC	?FriendMemoListReq@@YAXH@Z			; FriendMemoListReq
PUBLIC	?FriendMemoList@@YAXPAUFHP_FRIEND_MEMO_LIST@@@Z	; FriendMemoList
PUBLIC	?FriendMemoReadReq@@YAXPAUPMSG_FRIEND_READ_MEMO_REQ@@H@Z ; FriendMemoReadReq
PUBLIC	?FriendMemoRead@@YAXPAUFHP_FRIEND_MEMO_RECV@@@Z	; FriendMemoRead
PUBLIC	?FriendMemoDelReq@@YAXPAUPMSG_FRIEND_MEMO_DEL_REQ@@H@Z ; FriendMemoDelReq
PUBLIC	?FriendMemoDelResult@@YAXPAUFHP_FRIEND_MEMO_DEL_RESULT@@@Z ; FriendMemoDelResult
PUBLIC	?FriendRoomInvitationReq@@YAXPAUPMSG_ROOM_INVITATION@@H@Z ; FriendRoomInvitationReq
PUBLIC	?FriendRoomInvitationRecv@@YAXPAUFHP_FRIEND_INVITATION_RET@@@Z ; FriendRoomInvitationRecv
PUBLIC	?GDGuildUpdate@@YAXPAD0QAEHH@Z			; GDGuildUpdate
PUBLIC	?GDGuildUpdateRecv@@YAXPAE@Z			; GDGuildUpdateRecv
PUBLIC	?CheckSymbol@@YAHPAD@Z				; CheckSymbol
PUBLIC	??_C@_0BL@MLPIPIDH@ExDB?5Server?5Login?5Fail?3?5?$CFd?$AA@ ; `string'
PUBLIC	??_C@_0DE@PMHJKKOP@?$FLU?4System?$FN?5Guild?5is?5Created?5?9?5Gu@ ; `string'
PUBLIC	??_C@_0DK@MKLBBGMP@?$FLU?4System?$FN?$FLGuild?5Status?$FN?$FLInfo?$FN?5G@ ; `string'
PUBLIC	??_C@_01FHEEJDEE@A?$AA@				; `string'
PUBLIC	??_C@_0O@BNCDNIJM@?$CF8s?5?$FL?$CFd?5?1?5?$CFd?$FN?$AA@ ; `string'
PUBLIC	??_C@_0FA@EEENHOBM@?$FLU?4System?$FN?$FLGuild?5Status?$FN?$FLAssign?$FN@ ; `string'
PUBLIC	??_C@_0EN@PFEKLNHO@?$FLU?4System?$FN?$FLUnion?$FN?$FLJoin?$FN?5?$CI?5Union?5@ ; `string'
PUBLIC	??_C@_0CK@CDNGEFAB@?$FLU?4System?$FN?$FLRival?$FN?$FLJoin?$FN?5?$CI?5?5?$CFs?5?$CJ?5@ ; `string'
PUBLIC	??_C@_0EA@EGALHNLI@?$FLGS?$FN?$FLU?4System?$FN?$FLUnion?$FN?$FLBreakOff?$FN?5@ ; `string'
PUBLIC	??_C@_0FF@IACINBOG@?$FLGS?$FN?$FLU?4System?$FN?$FLUnion?$FN?$FLBreakOff?$FN?5@ ; `string'
PUBLIC	??_C@_0CO@FKCLICLC@?$FLU?4System?$FN?$FLRival?$FN?$FLBreakOff?$FN?5?$CI?5?5?$CF@ ; `string'
PUBLIC	??_C@_0FG@CCGCMLDE@?$FLU?4System?$FN?$FLUnion?$FN?$FLAuto?5BreakOff?$FN@ ; `string'
PUBLIC	??_C@_0FE@MHBNIMHI@?$FLGS?$FN?$FLU?4System?$FN?$FLUnion?$FN?$FLKickOut?$FN?5?$CI@ ; `string'
PUBLIC	??_C@_0BA@FCCBMCDG@EDSProtocol?4cpp?$AA@	; `string'
PUBLIC	??_C@_0BH@LCDOHCGD@error?9L2?5?3?5Index?5?$CFs?5?$CFd?$AA@ ; `string'
PUBLIC	??_C@_0DB@ELGELCGP@error?9L3?5?3?5?$FL?$CFs?$FN?$FL?$CFs?$FN?5FriendServer@ ; `string'
PUBLIC	??_C@_0CJ@EJJNCKNG@error?9L3?5?3?5?$FL?$CFs?$FN?$FL?$CFs?$FN?5FriendServer@ ; `string'
PUBLIC	??_C@_0BJ@BDFPCOJL@?$FL?$CFs?$FN?5Friend?5List?5Request?$AA@ ; `string'
PUBLIC	??_C@_0CB@HGMGGPGK@?$FL?$CFs?$FN?5Friend?5List?5Count?5?$CI?$CFd?$CJ?5Send@ ; `string'
PUBLIC	??_C@_0BN@DOMMEPOB@error?9L2?5?3?5?$CI?$CFs?$CJ?5Index?5?$CFs?5?$CFd?5?$AA@ ; `string'
PUBLIC	??_C@_0BK@HLHJLCCE@?$FL?$CFs?$FN?5WaitFriend?5List?5?$FL?$CFs?$FN?$AA@ ; `string'
PUBLIC	??_C@_0BH@OEEJLGGK@?$FL?$CFs?$FN?5Friend?5State?5?$CI?$CFd?$CJ?$AA@ ; `string'
PUBLIC	??_C@_0CD@OOGOJAIC@?$FL?$CFs?$FN?5Friend?5add?5request?5Name?3?5?$FL?$CF@ ; `string'
PUBLIC	??_C@_0CG@JNIACLCP@error?9L3?5?3?5?$FL?$CFs?$FN?5Friend?5add?5?3?5Not@ ; `string'
PUBLIC	??_C@_0DB@NPDFCIKD@?$FL?$CFs?$FN?5Friend?5add?5result?5?3?5?$CI?$CFd?$CJ?5fr@ ; `string'
PUBLIC	??_C@_0CB@IIBIOFAA@?$FL?$CFs?$FN?5WaitFriend?5add?5request?5?$FL?$CFs?$FN@ ; `string'
PUBLIC	??_C@_0CF@CCKIBLLA@?$FL?$CFs?$FN?5WaitFriend?5add?5result?5?$CI?$CFd?$CJ?5@ ; `string'
PUBLIC	??_C@_0BN@HLFBKLAE@?$FL?$CFs?$FN?5Friend?5del?5request?5?$FL?$CFs?$FN?$AA@ ; `string'
PUBLIC	??_C@_0CB@NCMBHLMH@?$FL?$CFs?$FN?5Friend?5del?5result?5?$CI?$CFd?$CJ?5?$FL?$CFs?$FN@ ; `string'
PUBLIC	??_C@_0CC@HAGNMCFJ@?$FL?$CFs?$FN?5Chatroom?5create?5request?5?$FL?$CFs@ ; `string'
PUBLIC	??_C@_0BM@JEKCBGDH@error?9L2?5?3?5Index?5?$CFs?5?$CFd?5?$CI?$CFs?$CJ?$AA@ ; `string'
PUBLIC	??_C@_0CN@LPLKDCJE@?$FL?$CFs?$FN?5Chatroom?5create?5result?5?$CI?$CFd?$CJ@ ; `string'
PUBLIC	??_C@_0CD@HIFGHJCH@?$FL?$CFs?$FN?5Friend?5mail?5send?5?$CFs?5?$CISize?3?$CF@ ; `string'
PUBLIC	??_C@_0CC@MFFMGDDE@JoinServer?5mail?5send?5?$CFs?5?$CISize?3?$CFd@ ; `string'
PUBLIC	??_C@_0DF@HMMPGHMB@?$FL?$CFs?$FN?$FL?$CFs?$FN?5?$CI?$CFs?$CJ?5Pay?5Money?$CIIn?5Inven@ ; `string'
PUBLIC	??_C@_06EBHHHLPK@webzen?$AA@			; `string'
PUBLIC	??_C@_0CD@EFIPOPHK@JoinServer?5Send?5Mail?5result?5?3?5?$CI?$CF@ ; `string'
PUBLIC	??_C@_0CO@FGOJBJPG@?$FL?$CFs?$FN?5Friend?5mail?5Send?5result?5?3?5?$CI@ ; `string'
PUBLIC	??_C@_04JEGKNAHI@Mail?$AA@			; `string'
PUBLIC	??_C@_0BO@BLCCADHK@?$FL?$CFs?$FN?5Friend?5mail?5list?5request?$AA@ ; `string'
PUBLIC	??_C@_0CI@INBOEHDN@?$FL?$CFs?$FN?5Friend?5Mail?5list?5?3?5?$CI?$CFd?3?$CF10s@ ; `string'
PUBLIC	??_C@_0BP@DKLEPGIB@?$FL?$CFs?$FN?5Friend?5Mail?5read?5Index?3?$CFd?$AA@ ; `string'
PUBLIC	??_C@_0CB@LDOIFNPP@error?9L2?5?3?5Friend?5Memo?5Max?5?$CFs?5?$CFd@ ; `string'
PUBLIC	??_C@_0BL@NKLNIHDF@?$FL?$CFs?$FN?5Friend?5Mail?5read?5?$CI?$CFd?$CJ?$AA@ ; `string'
PUBLIC	??_C@_0CL@CONIHEEP@?$FL?$CFs?$FN?5Friend?5mail?5delete?5request?5@ ; `string'
PUBLIC	??_C@_0DA@BCDIIKMO@?$FL?$CFs?$FN?5Friend?5mail?5delete?5request?5@ ; `string'
PUBLIC	??_C@_0DD@OCMMINHH@?$FL?$CFs?$FN?5Friend?5Invistation?5request?5@ ; `string'
PUBLIC	??_C@_0CC@LIINHIPA@?$FL?$CFs?$FN?5Friend?5Invitation?5result?5?3?$CF@ ; `string'
EXTRN	??_M@YGXPAXIIP6EX0@Z@Z:PROC			; `eh vector destructor iterator'
EXTRN	??3@YAXPAXI@Z:PROC				; operator delete
EXTRN	??_V@YAXPAXI@Z:PROC				; operator delete[]
EXTRN	_isalnum:PROC
EXTRN	_strncpy:PROC
EXTRN	__imp__wsprintfA:PROC
EXTRN	__imp__SendMessageA@16:PROC
EXTRN	__imp__IsWindow@4:PROC
EXTRN	__imp__ShowWindow@8:PROC
EXTRN	__imp__CreateDialogParamA@20:PROC
EXTRN	__imp__EndDialog@8:PROC
EXTRN	__imp__GetDlgItem@8:PROC
EXTRN	__imp__SetDlgItemTextA@12:PROC
EXTRN	__imp__MessageBoxA@16:PROC
EXTRN	?Get@Message@@QAEPADH@Z:PROC			; Message::Get
EXTRN	??1CSkillDelay@@UAE@XZ:PROC			; CSkillDelay::~CSkillDelay
EXTRN	?DataSend@@YAHHPAEK@Z:PROC			; DataSend
EXTRN	?AddGuild@CGuildClass@@QAEPAU_GUILD_INFO_STRUCT@@HPADPAE0H@Z:PROC ; CGuildClass::AddGuild
EXTRN	?AddMember@CGuildClass@@QAEPAU_GUILD_INFO_STRUCT@@PAD0HHHH@Z:PROC ; CGuildClass::AddMember
EXTRN	?SetGuildMemberStatus@CGuildClass@@QAEHPAD0H@Z:PROC ; CGuildClass::SetGuildMemberStatus
EXTRN	?SetGuildType@CGuildClass@@QAEHPADH@Z:PROC	; CGuildClass::SetGuildType
EXTRN	?DelMember@CGuildClass@@QAEHPAD0@Z:PROC		; CGuildClass::DelMember
EXTRN	?DeleteGuild@CGuildClass@@QAEHPAD0@Z:PROC	; CGuildClass::DeleteGuild
EXTRN	?ConnectUser@CGuildClass@@QAEHPAU_GUILD_INFO_STRUCT@@PAD1HH@Z:PROC ; CGuildClass::ConnectUser
EXTRN	?SetServer@CGuildClass@@QAEHPAD0H@Z:PROC	; CGuildClass::SetServer
EXTRN	?SearchGuild@CGuildClass@@QAEPAU_GUILD_INFO_STRUCT@@PAD@Z:PROC ; CGuildClass::SearchGuild
EXTRN	?SearchGuild_Number@CGuildClass@@QAEPAU_GUILD_INFO_STRUCT@@H@Z:PROC ; CGuildClass::SearchGuild_Number
EXTRN	?CloseMember@CGuildClass@@QAEHPAD0@Z:PROC	; CGuildClass::CloseMember
EXTRN	??1TMonsterAIAgro@@UAE@XZ:PROC			; TMonsterAIAgro::~TMonsterAIAgro
EXTRN	?GCResultSend@@YAXHEE@Z:PROC			; GCResultSend
EXTRN	?GCServerMsgStringSend@@YAXPADHE@Z:PROC		; GCServerMsgStringSend
EXTRN	?GCMoneySend@@YAXHK@Z:PROC			; GCMoneySend
EXTRN	?GCGuildViewportNowPaint@@YAXHPADPAEH@Z:PROC	; GCGuildViewportNowPaint
EXTRN	?GCGuildViewportDelNow@@YAXHH@Z:PROC		; GCGuildViewportDelNow
EXTRN	?GCGuildWarDeclare@@YAXHPAD@Z:PROC		; GCGuildWarDeclare
EXTRN	?GCGuildWarScore@@YAXH@Z:PROC			; GCGuildWarScore
EXTRN	?gObjIsConnectedGP@@YAHHPAD@Z:PROC		; gObjIsConnectedGP
EXTRN	?gObjIsConnectedGP@@YAHH@Z:PROC			; gObjIsConnectedGP
EXTRN	?gObjIsConnected@@YAHH@Z:PROC			; gObjIsConnected
EXTRN	?gObjNotifyUpdateUnionV1@@YAXPAUOBJECTSTRUCT@@@Z:PROC ; gObjNotifyUpdateUnionV1
EXTRN	?gObjNotifyUpdateUnionV2@@YAXPAUOBJECTSTRUCT@@@Z:PROC ; gObjNotifyUpdateUnionV2
EXTRN	?PHeadSetB@@YAXPAEEH@Z:PROC			; PHeadSetB
EXTRN	?PHeadSetW@@YAXPAEEH@Z:PROC			; PHeadSetW
EXTRN	?SetGuildUnionMemberList@TUnion@@QAEHHHPBH@Z:PROC ; TUnion::SetGuildUnionMemberList
EXTRN	?SetGuildRivalMemberList@TUnion@@QAEHHHPBH@Z:PROC ; TUnion::SetGuildRivalMemberList
EXTRN	?GetGuildUnionMemberList@TUnion@@QAEHHAAHPAH@Z:PROC ; TUnion::GetGuildUnionMemberList
EXTRN	?AddUnion@TUnion@@QAEHHPAD@Z:PROC		; TUnion::AddUnion
EXTRN	?DelUnion@TUnion@@QAEHH@Z:PROC			; TUnion::DelUnion
EXTRN	?DataSend@wsJoinServerCli@@QAEHPADH@Z:PROC	; wsJoinServerCli::DataSend
EXTRN	?GameServerInfoSendStop@@YAXXZ:PROC		; GameServerInfoSendStop
EXTRN	?GameServerInfoSendStart@@YAXXZ:PROC		; GameServerInfoSendStart
EXTRN	??0TNotice@@QAE@E@Z:PROC			; TNotice::TNotice
EXTRN	?SendToUser@TNotice@@QAAXHPADZZ:PROC		; TNotice::SendToUser
EXTRN	?GetCsJoinSide@CCastleSiege@@QAEHPADPAE1@Z:PROC	; CCastleSiege::GetCsJoinSide
EXTRN	?NotifySelfCsJoinSide@CCastleSiege@@QAEXH@Z:PROC ; CCastleSiege::NotifySelfCsJoinSide
EXTRN	@__security_check_cookie@4:PROC
EXTRN	___CxxFrameHandler3:PROC
EXTRN	__chkstk:PROC
EXTRN	_memcpy:PROC
EXTRN	_memset:PROC
EXTRN	?lMsg@@3VMessage@@A:BYTE			; lMsg
EXTRN	?LogAdd@@3P6AXPADZZA:DWORD			; LogAdd
EXTRN	?LogAddTD@@3P6AXPADZZA:DWORD			; LogAddTD
EXTRN	?gObj@@3PAUOBJECTSTRUCT@@A:DWORD		; gObj
EXTRN	?UnionManager@@3VTUnion@@A:BYTE			; UnionManager
EXTRN	?ghWnd@@3PAUHWND__@@A:DWORD			; ghWnd
EXTRN	?GameServerPort@@3HA:DWORD			; GameServerPort
EXTRN	?wsExDbCli@@3VwsJoinServerCli@@A:BYTE		; wsExDbCli
EXTRN	?Guild@@3VCGuildClass@@A:BYTE			; Guild
EXTRN	?szServerName@@3PADA:BYTE			; szServerName
EXTRN	?gGameServerCode@@3FA:WORD			; gGameServerCode
EXTRN	?g_CastleSiege@@3VCCastleSiege@@A:BYTE		; g_CastleSiege
EXTRN	___security_cookie:DWORD
;	COMDAT ??_C@_0CC@LIINHIPA@?$FL?$CFs?$FN?5Friend?5Invitation?5result?5?3?$CF@
CONST	SEGMENT
??_C@_0CC@LIINHIPA@?$FL?$CFs?$FN?5Friend?5Invitation?5result?5?3?$CF@ DB '['
	DB	'%s] Friend Invitation result :%d', 00H	; `string'
CONST	ENDS
;	COMDAT ??_C@_0DD@OCMMINHH@?$FL?$CFs?$FN?5Friend?5Invistation?5request?5@
CONST	SEGMENT
??_C@_0DD@OCMMINHH@?$FL?$CFs?$FN?5Friend?5Invistation?5request?5@ DB '[%s'
	DB	'] Friend Invistation request room:%d winguid:%d', 00H ; `string'
CONST	ENDS
;	COMDAT ??_C@_0DA@BCDIIKMO@?$FL?$CFs?$FN?5Friend?5mail?5delete?5request?5@
CONST	SEGMENT
??_C@_0DA@BCDIIKMO@?$FL?$CFs?$FN?5Friend?5mail?5delete?5request?5@ DB '[%'
	DB	's] Friend mail delete request (%d) index:(%d)', 00H ; `string'
CONST	ENDS
;	COMDAT ??_C@_0CL@CONIHEEP@?$FL?$CFs?$FN?5Friend?5mail?5delete?5request?5@
CONST	SEGMENT
??_C@_0CL@CONIHEEP@?$FL?$CFs?$FN?5Friend?5mail?5delete?5request?5@ DB '[%'
	DB	's] Friend mail delete request Index:(%d)', 00H ; `string'
CONST	ENDS
;	COMDAT ??_C@_0BL@NKLNIHDF@?$FL?$CFs?$FN?5Friend?5Mail?5read?5?$CI?$CFd?$CJ?$AA@
CONST	SEGMENT
??_C@_0BL@NKLNIHDF@?$FL?$CFs?$FN?5Friend?5Mail?5read?5?$CI?$CFd?$CJ?$AA@ DB '['
	DB	'%s] Friend Mail read (%d)', 00H		; `string'
CONST	ENDS
;	COMDAT ??_C@_0CB@LDOIFNPP@error?9L2?5?3?5Friend?5Memo?5Max?5?$CFs?5?$CFd@
CONST	SEGMENT
??_C@_0CB@LDOIFNPP@error?9L2?5?3?5Friend?5Memo?5Max?5?$CFs?5?$CFd@ DB 'er'
	DB	'ror-L2 : Friend Memo Max %s %d', 00H	; `string'
CONST	ENDS
;	COMDAT ??_C@_0BP@DKLEPGIB@?$FL?$CFs?$FN?5Friend?5Mail?5read?5Index?3?$CFd?$AA@
CONST	SEGMENT
??_C@_0BP@DKLEPGIB@?$FL?$CFs?$FN?5Friend?5Mail?5read?5Index?3?$CFd?$AA@ DB '['
	DB	'%s] Friend Mail read Index:%d', 00H		; `string'
CONST	ENDS
;	COMDAT ??_C@_0CI@INBOEHDN@?$FL?$CFs?$FN?5Friend?5Mail?5list?5?3?5?$CI?$CFd?3?$CF10s@
CONST	SEGMENT
??_C@_0CI@INBOEHDN@?$FL?$CFs?$FN?5Friend?5Mail?5list?5?3?5?$CI?$CFd?3?$CF10s@ DB '['
	DB	'%s] Friend Mail list : (%d:%10s:%s:%s)', 00H ; `string'
CONST	ENDS
;	COMDAT ??_C@_0BO@BLCCADHK@?$FL?$CFs?$FN?5Friend?5mail?5list?5request?$AA@
CONST	SEGMENT
??_C@_0BO@BLCCADHK@?$FL?$CFs?$FN?5Friend?5mail?5list?5request?$AA@ DB '[%'
	DB	's] Friend mail list request', 00H		; `string'
CONST	ENDS
;	COMDAT ??_C@_04JEGKNAHI@Mail?$AA@
CONST	SEGMENT
??_C@_04JEGKNAHI@Mail?$AA@ DB 'Mail', 00H		; `string'
CONST	ENDS
;	COMDAT ??_C@_0CO@FGOJBJPG@?$FL?$CFs?$FN?5Friend?5mail?5Send?5result?5?3?5?$CI@
CONST	SEGMENT
??_C@_0CO@FGOJBJPG@?$FL?$CFs?$FN?5Friend?5mail?5Send?5result?5?3?5?$CI@ DB '['
	DB	'%s] Friend mail Send result : (%d) guid:(%d)', 00H ; `string'
CONST	ENDS
;	COMDAT ??_C@_0CD@EFIPOPHK@JoinServer?5Send?5Mail?5result?5?3?5?$CI?$CF@
CONST	SEGMENT
??_C@_0CD@EFIPOPHK@JoinServer?5Send?5Mail?5result?5?3?5?$CI?$CF@ DB 'Join'
	DB	'Server Send Mail result : (%d)', 00H	; `string'
CONST	ENDS
;	COMDAT ??_C@_06EBHHHLPK@webzen?$AA@
CONST	SEGMENT
??_C@_06EBHHHLPK@webzen?$AA@ DB 'webzen', 00H		; `string'
CONST	ENDS
;	COMDAT ??_C@_0DF@HMMPGHMB@?$FL?$CFs?$FN?$FL?$CFs?$FN?5?$CI?$CFs?$CJ?5Pay?5Money?$CIIn?5Inven@
CONST	SEGMENT
??_C@_0DF@HMMPGHMB@?$FL?$CFs?$FN?$FL?$CFs?$FN?5?$CI?$CFs?$CJ?5Pay?5Money?$CIIn?5Inven@ DB '['
	DB	'%s][%s] (%s) Pay Money(In Inventory) : %d - %d = %d', 00H ; `string'
CONST	ENDS
;	COMDAT ??_C@_0CC@MFFMGDDE@JoinServer?5mail?5send?5?$CFs?5?$CISize?3?$CFd@
CONST	SEGMENT
??_C@_0CC@MFFMGDDE@JoinServer?5mail?5send?5?$CFs?5?$CISize?3?$CFd@ DB 'Jo'
	DB	'inServer mail send %s (Size:%d)', 00H	; `string'
CONST	ENDS
;	COMDAT ??_C@_0CD@HIFGHJCH@?$FL?$CFs?$FN?5Friend?5mail?5send?5?$CFs?5?$CISize?3?$CF@
CONST	SEGMENT
??_C@_0CD@HIFGHJCH@?$FL?$CFs?$FN?5Friend?5mail?5send?5?$CFs?5?$CISize?3?$CF@ DB '['
	DB	'%s] Friend mail send %s (Size:%d)', 00H	; `string'
CONST	ENDS
;	COMDAT ??_C@_0CN@LPLKDCJE@?$FL?$CFs?$FN?5Chatroom?5create?5result?5?$CI?$CFd?$CJ@
CONST	SEGMENT
??_C@_0CN@LPLKDCJE@?$FL?$CFs?$FN?5Chatroom?5create?5result?5?$CI?$CFd?$CJ@ DB '['
	DB	'%s] Chatroom create result (%d) ticket:(%d)', 00H ; `string'
CONST	ENDS
;	COMDAT ??_C@_0BM@JEKCBGDH@error?9L2?5?3?5Index?5?$CFs?5?$CFd?5?$CI?$CFs?$CJ?$AA@
CONST	SEGMENT
??_C@_0BM@JEKCBGDH@error?9L2?5?3?5Index?5?$CFs?5?$CFd?5?$CI?$CFs?$CJ?$AA@ DB 'e'
	DB	'rror-L2 : Index %s %d (%s)', 00H		; `string'
CONST	ENDS
;	COMDAT ??_C@_0CC@HAGNMCFJ@?$FL?$CFs?$FN?5Chatroom?5create?5request?5?$FL?$CFs@
CONST	SEGMENT
??_C@_0CC@HAGNMCFJ@?$FL?$CFs?$FN?5Chatroom?5create?5request?5?$FL?$CFs@ DB '['
	DB	'%s] Chatroom create request [%s]', 00H	; `string'
CONST	ENDS
;	COMDAT ??_C@_0CB@NCMBHLMH@?$FL?$CFs?$FN?5Friend?5del?5result?5?$CI?$CFd?$CJ?5?$FL?$CFs?$FN@
CONST	SEGMENT
??_C@_0CB@NCMBHLMH@?$FL?$CFs?$FN?5Friend?5del?5result?5?$CI?$CFd?$CJ?5?$FL?$CFs?$FN@ DB '['
	DB	'%s] Friend del result (%d) [%s]', 00H	; `string'
CONST	ENDS
;	COMDAT ??_C@_0BN@HLFBKLAE@?$FL?$CFs?$FN?5Friend?5del?5request?5?$FL?$CFs?$FN?$AA@
CONST	SEGMENT
??_C@_0BN@HLFBKLAE@?$FL?$CFs?$FN?5Friend?5del?5request?5?$FL?$CFs?$FN?$AA@ DB '['
	DB	'%s] Friend del request [%s]', 00H		; `string'
CONST	ENDS
;	COMDAT ??_C@_0CF@CCKIBLLA@?$FL?$CFs?$FN?5WaitFriend?5add?5result?5?$CI?$CFd?$CJ?5@
CONST	SEGMENT
??_C@_0CF@CCKIBLLA@?$FL?$CFs?$FN?5WaitFriend?5add?5result?5?$CI?$CFd?$CJ?5@ DB '['
	DB	'%s] WaitFriend add result (%d) [%s]', 00H	; `string'
CONST	ENDS
;	COMDAT ??_C@_0CB@IIBIOFAA@?$FL?$CFs?$FN?5WaitFriend?5add?5request?5?$FL?$CFs?$FN@
CONST	SEGMENT
??_C@_0CB@IIBIOFAA@?$FL?$CFs?$FN?5WaitFriend?5add?5request?5?$FL?$CFs?$FN@ DB '['
	DB	'%s] WaitFriend add request [%s]', 00H	; `string'
CONST	ENDS
;	COMDAT ??_C@_0DB@NPDFCIKD@?$FL?$CFs?$FN?5Friend?5add?5result?5?3?5?$CI?$CFd?$CJ?5fr@
CONST	SEGMENT
??_C@_0DB@NPDFCIKD@?$FL?$CFs?$FN?5Friend?5add?5result?5?3?5?$CI?$CFd?$CJ?5fr@ DB '['
	DB	'%s] Friend add result : (%d) friend Name : (%s)', 00H ; `string'
CONST	ENDS
;	COMDAT ??_C@_0CG@JNIACLCP@error?9L3?5?3?5?$FL?$CFs?$FN?5Friend?5add?5?3?5Not@
CONST	SEGMENT
??_C@_0CG@JNIACLCP@error?9L3?5?3?5?$FL?$CFs?$FN?5Friend?5add?5?3?5Not@ DB 'e'
	DB	'rror-L3 : [%s] Friend add : Not self', 00H	; `string'
CONST	ENDS
;	COMDAT ??_C@_0CD@OOGOJAIC@?$FL?$CFs?$FN?5Friend?5add?5request?5Name?3?5?$FL?$CF@
CONST	SEGMENT
??_C@_0CD@OOGOJAIC@?$FL?$CFs?$FN?5Friend?5add?5request?5Name?3?5?$FL?$CF@ DB '['
	DB	'%s] Friend add request Name: [%s]', 00H	; `string'
CONST	ENDS
;	COMDAT ??_C@_0BH@OEEJLGGK@?$FL?$CFs?$FN?5Friend?5State?5?$CI?$CFd?$CJ?$AA@
CONST	SEGMENT
??_C@_0BH@OEEJLGGK@?$FL?$CFs?$FN?5Friend?5State?5?$CI?$CFd?$CJ?$AA@ DB '['
	DB	'%s] Friend State (%d)', 00H			; `string'
CONST	ENDS
;	COMDAT ??_C@_0BK@HLHJLCCE@?$FL?$CFs?$FN?5WaitFriend?5List?5?$FL?$CFs?$FN?$AA@
CONST	SEGMENT
??_C@_0BK@HLHJLCCE@?$FL?$CFs?$FN?5WaitFriend?5List?5?$FL?$CFs?$FN?$AA@ DB '['
	DB	'%s] WaitFriend List [%s]', 00H		; `string'
CONST	ENDS
;	COMDAT ??_C@_0BN@DOMMEPOB@error?9L2?5?3?5?$CI?$CFs?$CJ?5Index?5?$CFs?5?$CFd?5?$AA@
CONST	SEGMENT
??_C@_0BN@DOMMEPOB@error?9L2?5?3?5?$CI?$CFs?$CJ?5Index?5?$CFs?5?$CFd?5?$AA@ DB 'e'
	DB	'rror-L2 : (%s) Index %s %d ', 00H		; `string'
CONST	ENDS
;	COMDAT ??_C@_0CB@HGMGGPGK@?$FL?$CFs?$FN?5Friend?5List?5Count?5?$CI?$CFd?$CJ?5Send@
CONST	SEGMENT
??_C@_0CB@HGMGGPGK@?$FL?$CFs?$FN?5Friend?5List?5Count?5?$CI?$CFd?$CJ?5Send@ DB '['
	DB	'%s] Friend List Count (%d) Send', 00H	; `string'
CONST	ENDS
;	COMDAT ??_C@_0BJ@BDFPCOJL@?$FL?$CFs?$FN?5Friend?5List?5Request?$AA@
CONST	SEGMENT
??_C@_0BJ@BDFPCOJL@?$FL?$CFs?$FN?5Friend?5List?5Request?$AA@ DB '[%s] Fri'
	DB	'end List Request', 00H			; `string'
CONST	ENDS
;	COMDAT ??_C@_0CJ@EJJNCKNG@error?9L3?5?3?5?$FL?$CFs?$FN?$FL?$CFs?$FN?5FriendServer@
CONST	SEGMENT
??_C@_0CJ@EJJNCKNG@error?9L3?5?3?5?$FL?$CFs?$FN?$FL?$CFs?$FN?5FriendServer@ DB 'e'
	DB	'rror-L3 : [%s][%s] FriendServer Offline', 00H ; `string'
CONST	ENDS
;	COMDAT ??_C@_0DB@ELGELCGP@error?9L3?5?3?5?$FL?$CFs?$FN?$FL?$CFs?$FN?5FriendServer@
CONST	SEGMENT
??_C@_0DB@ELGELCGP@error?9L3?5?3?5?$FL?$CFs?$FN?$FL?$CFs?$FN?5FriendServer@ DB 'e'
	DB	'rror-L3 : [%s][%s] FriendServer Online Request ', 00H ; `string'
CONST	ENDS
;	COMDAT ??_C@_0BH@LCDOHCGD@error?9L2?5?3?5Index?5?$CFs?5?$CFd?$AA@
CONST	SEGMENT
??_C@_0BH@LCDOHCGD@error?9L2?5?3?5Index?5?$CFs?5?$CFd?$AA@ DB 'error-L2 :'
	DB	' Index %s %d', 00H				; `string'
CONST	ENDS
;	COMDAT ??_C@_0BA@FCCBMCDG@EDSProtocol?4cpp?$AA@
CONST	SEGMENT
??_C@_0BA@FCCBMCDG@EDSProtocol?4cpp?$AA@ DB 'EDSProtocol.cpp', 00H ; `string'
CONST	ENDS
;	COMDAT ??_C@_0FE@MHBNIMHI@?$FLGS?$FN?$FLU?4System?$FN?$FLUnion?$FN?$FLKickOut?$FN?5?$CI@
CONST	SEGMENT
??_C@_0FE@MHBNIMHI@?$FLGS?$FN?$FLU?4System?$FN?$FLUnion?$FN?$FLKickOut?$FN?5?$CI@ DB '['
	DB	'GS][U.System][Union][KickOut] ( Union Master Guild: %s ), (Un'
	DB	'ion Member Guild: %s)', 00H			; `string'
CONST	ENDS
;	COMDAT ??_C@_0FG@CCGCMLDE@?$FLU?4System?$FN?$FLUnion?$FN?$FLAuto?5BreakOff?$FN@
CONST	SEGMENT
??_C@_0FG@CCGCMLDE@?$FLU?4System?$FN?$FLUnion?$FN?$FLAuto?5BreakOff?$FN@ DB '['
	DB	'U.System][Union][Auto BreakOff] ( Union Master Guild: %s ), ('
	DB	'Union Member Guild: %s)', 00H		; `string'
CONST	ENDS
;	COMDAT ??_C@_0CO@FKCLICLC@?$FLU?4System?$FN?$FLRival?$FN?$FLBreakOff?$FN?5?$CI?5?5?$CF@
CONST	SEGMENT
??_C@_0CO@FKCLICLC@?$FLU?4System?$FN?$FLRival?$FN?$FLBreakOff?$FN?5?$CI?5?5?$CF@ DB '['
	DB	'U.System][Rival][BreakOff] (  %s ) vs ( %s )', 00H ; `string'
CONST	ENDS
;	COMDAT ??_C@_0FF@IACINBOG@?$FLGS?$FN?$FLU?4System?$FN?$FLUnion?$FN?$FLBreakOff?$FN?5@
CONST	SEGMENT
??_C@_0FF@IACINBOG@?$FLGS?$FN?$FLU?4System?$FN?$FLUnion?$FN?$FLBreakOff?$FN?5@ DB '['
	DB	'GS][U.System][Union][BreakOff] ( Union Master Guild: %s ), (U'
	DB	'nion Member Guild: %s)', 00H		; `string'
CONST	ENDS
;	COMDAT ??_C@_0EA@EGALHNLI@?$FLGS?$FN?$FLU?4System?$FN?$FLUnion?$FN?$FLBreakOff?$FN?5@
CONST	SEGMENT
??_C@_0EA@EGALHNLI@?$FLGS?$FN?$FLU?4System?$FN?$FLUnion?$FN?$FLBreakOff?$FN?5@ DB '['
	DB	'GS][U.System][Union][BreakOff] Request Union Member Guild: %s'
	DB	')', 00H					; `string'
CONST	ENDS
;	COMDAT ??_C@_0CK@CDNGEFAB@?$FLU?4System?$FN?$FLRival?$FN?$FLJoin?$FN?5?$CI?5?5?$CFs?5?$CJ?5@
CONST	SEGMENT
??_C@_0CK@CDNGEFAB@?$FLU?4System?$FN?$FLRival?$FN?$FLJoin?$FN?5?$CI?5?5?$CFs?5?$CJ?5@ DB '['
	DB	'U.System][Rival][Join] (  %s ) vs ( %s )', 00H ; `string'
CONST	ENDS
;	COMDAT ??_C@_0EN@PFEKLNHO@?$FLU?4System?$FN?$FLUnion?$FN?$FLJoin?$FN?5?$CI?5Union?5@
CONST	SEGMENT
??_C@_0EN@PFEKLNHO@?$FLU?4System?$FN?$FLUnion?$FN?$FLJoin?$FN?5?$CI?5Union?5@ DB '['
	DB	'U.System][Union][Join] ( Union Master Guild: %s ), (Union Mem'
	DB	'ber Guild: %s)', 00H			; `string'
CONST	ENDS
;	COMDAT ??_C@_0FA@EEENHOBM@?$FLU?4System?$FN?$FLGuild?5Status?$FN?$FLAssign?$FN@
CONST	SEGMENT
??_C@_0FA@EEENHOBM@?$FLU?4System?$FN?$FLGuild?5Status?$FN?$FLAssign?$FN@ DB '['
	DB	'U.System][Guild Status][Assign] Guild : ( %s ) Member : ( %s '
	DB	') Status : ( %d )', 00H			; `string'
CONST	ENDS
;	COMDAT ??_C@_0O@BNCDNIJM@?$CF8s?5?$FL?$CFd?5?1?5?$CFd?$FN?$AA@
CONST	SEGMENT
??_C@_0O@BNCDNIJM@?$CF8s?5?$FL?$CFd?5?1?5?$CFd?$FN?$AA@ DB '%8s [%d / %d]'
	DB	00H						; `string'
CONST	ENDS
;	COMDAT ??_C@_01FHEEJDEE@A?$AA@
CONST	SEGMENT
??_C@_01FHEEJDEE@A?$AA@ DB 'A', 00H			; `string'
CONST	ENDS
;	COMDAT ??_C@_0DK@MKLBBGMP@?$FLU?4System?$FN?$FLGuild?5Status?$FN?$FLInfo?$FN?5G@
CONST	SEGMENT
??_C@_0DK@MKLBBGMP@?$FLU?4System?$FN?$FLGuild?5Status?$FN?$FLInfo?$FN?5G@ DB '['
	DB	'U.System][Guild Status][Info] Guild : %s / [%s][%s] / %d', 00H ; `string'
CONST	ENDS
;	COMDAT ??_C@_0DE@PMHJKKOP@?$FLU?4System?$FN?5Guild?5is?5Created?5?9?5Gu@
CONST	SEGMENT
??_C@_0DE@PMHJKKOP@?$FLU?4System?$FN?5Guild?5is?5Created?5?9?5Gu@ DB '[U.'
	DB	'System] Guild is Created - Guild : %s / [%s][%s]', 00H ; `string'
CONST	ENDS
;	COMDAT ??_C@_0BL@MLPIPIDH@ExDB?5Server?5Login?5Fail?3?5?$CFd?$AA@
CONST	SEGMENT
??_C@_0BL@MLPIPIDH@ExDB?5Server?5Login?5Fail?3?5?$CFd?$AA@ DB 'ExDB Serve'
	DB	'r Login Fail: %d', 00H			; `string'
CONST	ENDS
;	COMDAT xdata$x
xdata$x	SEGMENT
__ehfuncinfo$??_EOBJECTSTRUCT@@QAEPAXI@Z DD 019930522H
	DD	00H
	DD	00H
	DD	2 DUP(00H)
	DD	2 DUP(00H)
	DD	00H
	DD	05H
xdata$x	ENDS
; Function compile flags: /Ogtp
; File c:\users\michel\desktop\source\gameserver\source\edsprotocol.cpp
;	COMDAT ?CheckSymbol@@YAHPAD@Z
_TEXT	SEGMENT
_szString$ = 8						; size = 4
?CheckSymbol@@YAHPAD@Z PROC				; CheckSymbol, COMDAT

; 991  : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	53		 push	 ebx

; 992  : 	if(szString == NULL)

  00004	8b 5d 08	 mov	 ebx, DWORD PTR _szString$[ebp]
  00007	85 db		 test	 ebx, ebx
  00009	75 06		 jne	 SHORT $LN5@CheckSymbo

; 993  : 		return TRUE;

  0000b	8d 43 01	 lea	 eax, DWORD PTR [ebx+1]
  0000e	5b		 pop	 ebx

; 1003 : }

  0000f	5d		 pop	 ebp
  00010	c3		 ret	 0
$LN5@CheckSymbo:
  00011	57		 push	 edi

; 994  : 
; 995  : 	int len = strlen(szString);

  00012	8b fb		 mov	 edi, ebx
  00014	8d 4f 01	 lea	 ecx, DWORD PTR [edi+1]
$LL13@CheckSymbo:
  00017	8a 07		 mov	 al, BYTE PTR [edi]
  00019	47		 inc	 edi
  0001a	84 c0		 test	 al, al
  0001c	75 f9		 jne	 SHORT $LL13@CheckSymbo
  0001e	56		 push	 esi
  0001f	2b f9		 sub	 edi, ecx

; 996  : 
; 997  : 	for(int i = 0; i < len;i++)

  00021	33 f6		 xor	 esi, esi
  00023	85 ff		 test	 edi, edi
  00025	7e 1f		 jle	 SHORT $LN3@CheckSymbo
  00027	66 0f 1f 84 00
	00 00 00 00	 npad	 9
$LL4@CheckSymbo:

; 998  : 	{
; 999  : 		if(isalnum(szString[i]) == FALSE)

  00030	0f be 04 1e	 movsx	 eax, BYTE PTR [esi+ebx]
  00034	50		 push	 eax
  00035	e8 00 00 00 00	 call	 _isalnum
  0003a	83 c4 04	 add	 esp, 4
  0003d	85 c0		 test	 eax, eax
  0003f	74 0c		 je	 SHORT $LN9@CheckSymbo

; 996  : 
; 997  : 	for(int i = 0; i < len;i++)

  00041	46		 inc	 esi
  00042	3b f7		 cmp	 esi, edi
  00044	7c ea		 jl	 SHORT $LL4@CheckSymbo
$LN3@CheckSymbo:
  00046	5e		 pop	 esi
  00047	5f		 pop	 edi

; 1001 : 	}
; 1002 : return FALSE;

  00048	33 c0		 xor	 eax, eax
  0004a	5b		 pop	 ebx

; 1003 : }

  0004b	5d		 pop	 ebp
  0004c	c3		 ret	 0
$LN9@CheckSymbo:
  0004d	5e		 pop	 esi
  0004e	5f		 pop	 edi

; 1000 : 			return TRUE;

  0004f	b8 01 00 00 00	 mov	 eax, 1
  00054	5b		 pop	 ebx

; 1003 : }

  00055	5d		 pop	 ebp
  00056	c3		 ret	 0
?CheckSymbol@@YAHPAD@Z ENDP				; CheckSymbol
_TEXT	ENDS
; Function compile flags: /Ogtp
; File c:\users\michel\desktop\source\gameserver\source\edsprotocol.cpp
;	COMDAT ?GDGuildUpdateRecv@@YAXPAE@Z
_TEXT	SEGMENT
_lpMsg$ = 8						; size = 4
?GDGuildUpdateRecv@@YAXPAE@Z PROC			; GDGuildUpdateRecv, COMDAT

; 723  : 	return;	// NO MAcro
; 724  : }

  00000	c3		 ret	 0
?GDGuildUpdateRecv@@YAXPAE@Z ENDP			; GDGuildUpdateRecv
_TEXT	ENDS
; Function compile flags: /Ogtp
; File c:\users\michel\desktop\source\gameserver\source\edsprotocol.cpp
;	COMDAT ?GDGuildUpdate@@YAXPAD0QAEHH@Z
_TEXT	SEGMENT
_pMsg$ = -68						; size = 64
__$ArrayPad$ = -4					; size = 4
_Name$ = 8						; size = 4
_Master$ = 12						; size = 4
_Mark$ = 16						; size = 4
_score$ = 20						; size = 4
_count$ = 24						; size = 4
?GDGuildUpdate@@YAXPAD0QAEHH@Z PROC			; GDGuildUpdate, COMDAT

; 705  : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	83 ec 44	 sub	 esp, 68			; 00000044H
  00006	a1 00 00 00 00	 mov	 eax, DWORD PTR ___security_cookie
  0000b	33 c5		 xor	 eax, ebp
  0000d	89 45 fc	 mov	 DWORD PTR __$ArrayPad$[ebp], eax
  00010	8b 4d 08	 mov	 ecx, DWORD PTR _Name$[ebp]
  00013	8b 55 10	 mov	 edx, DWORD PTR _Mark$[ebp]
  00016	56		 push	 esi
  00017	8b 75 0c	 mov	 esi, DWORD PTR _Master$[ebp]

; 706  : 	SDHP_GUILDUPDATE pMsg;
; 707  : 
; 708  : 	pMsg.h.c = 0xC1;
; 709  : 	pMsg.h.headcode = 0x34;
; 710  : 	pMsg.h.size = sizeof(pMsg);
; 711  : 	memcpy(pMsg.GuildName, Name, MAX_GUILD_LEN);

  0001a	8b 01		 mov	 eax, DWORD PTR [ecx]

; 712  : 	memcpy(pMsg.Mark, Mark, sizeof(pMsg.Mark));

  0001c	0f 10 02	 movups	 xmm0, XMMWORD PTR [edx]
  0001f	89 45 bf	 mov	 DWORD PTR _pMsg$[ebp+3], eax
  00022	8b 41 04	 mov	 eax, DWORD PTR [ecx+4]

; 713  : 	memcpy(pMsg.Master, Master, MAX_ACCOUNT_LEN);
; 714  : 	pMsg.Score = score;
; 715  : 	pMsg.Count = count;
; 716  : 
; 717  : 	wsExDbCli.DataSend((char*)&pMsg, pMsg.h.size);

  00025	b9 00 00 00 00	 mov	 ecx, OFFSET ?wsExDbCli@@3VwsJoinServerCli@@A ; wsExDbCli
  0002a	89 45 c3	 mov	 DWORD PTR _pMsg$[ebp+7], eax
  0002d	66 8b 46 08	 mov	 ax, WORD PTR [esi+8]
  00031	66 89 45 d0	 mov	 WORD PTR _pMsg$[ebp+20], ax
  00035	8b 45 14	 mov	 eax, DWORD PTR _score$[ebp]
  00038	0f 11 45 d3	 movups	 XMMWORD PTR _pMsg$[ebp+23], xmm0
  0003c	89 45 f4	 mov	 DWORD PTR _pMsg$[ebp+56], eax
  0003f	0f 10 42 10	 movups	 xmm0, XMMWORD PTR [edx+16]
  00043	8a 45 18	 mov	 al, BYTE PTR _count$[ebp]
  00046	88 45 f8	 mov	 BYTE PTR _pMsg$[ebp+60], al
  00049	8d 45 bc	 lea	 eax, DWORD PTR _pMsg$[ebp]
  0004c	0f 11 45 e3	 movups	 XMMWORD PTR _pMsg$[ebp+39], xmm0
  00050	6a 40		 push	 64			; 00000040H
  00052	f3 0f 7e 06	 movq	 xmm0, QWORD PTR [esi]
  00056	50		 push	 eax
  00057	66 c7 45 bc c1
	40		 mov	 WORD PTR _pMsg$[ebp], 16577 ; 000040c1H
  0005d	c6 45 be 34	 mov	 BYTE PTR _pMsg$[ebp+2], 52 ; 00000034H
  00061	66 0f d6 45 c8	 movq	 QWORD PTR _pMsg$[ebp+12], xmm0
  00066	e8 00 00 00 00	 call	 ?DataSend@wsJoinServerCli@@QAEHPADH@Z ; wsJoinServerCli::DataSend

; 718  : }

  0006b	8b 4d fc	 mov	 ecx, DWORD PTR __$ArrayPad$[ebp]
  0006e	33 cd		 xor	 ecx, ebp
  00070	5e		 pop	 esi
  00071	e8 00 00 00 00	 call	 @__security_check_cookie@4
  00076	8b e5		 mov	 esp, ebp
  00078	5d		 pop	 ebp
  00079	c3		 ret	 0
?GDGuildUpdate@@YAXPAD0QAEHH@Z ENDP			; GDGuildUpdate
_TEXT	ENDS
; Function compile flags: /Ogtp
; File c:\users\michel\desktop\source\gameserver\common\winutil.h
;	COMDAT ?GetLength@char_ID@@QAEHXZ
_TEXT	SEGMENT
?GetLength@char_ID@@QAEHXZ PROC				; char_ID::GetLength, COMDAT
; _this$ = ecx

; 60   : 		return strlen(this->Name);

  00000	8d 51 01	 lea	 edx, DWORD PTR [ecx+1]
$LL3@GetLength:
  00003	8a 01		 mov	 al, BYTE PTR [ecx]
  00005	41		 inc	 ecx
  00006	84 c0		 test	 al, al
  00008	75 f9		 jne	 SHORT $LL3@GetLength
  0000a	2b ca		 sub	 ecx, edx
  0000c	8b c1		 mov	 eax, ecx

; 61   : 	}	// line : 65

  0000e	c3		 ret	 0
?GetLength@char_ID@@QAEHXZ ENDP				; char_ID::GetLength
_TEXT	ENDS
; Function compile flags: /Ogtp
; File c:\users\michel\desktop\source\gameserver\common\winutil.h
;	COMDAT ?GetBuffer@char_ID@@QAEPADXZ
_TEXT	SEGMENT
?GetBuffer@char_ID@@QAEPADXZ PROC			; char_ID::GetBuffer, COMDAT
; _this$ = ecx

; 55   : 		return this->Name;

  00000	8b c1		 mov	 eax, ecx

; 56   : 	}	// line : 54

  00002	c3		 ret	 0
?GetBuffer@char_ID@@QAEPADXZ ENDP			; char_ID::GetBuffer
_TEXT	ENDS
; Function compile flags: /Ogtp
; File c:\users\michel\desktop\source\gameserver\common\winutil.h
;	COMDAT ??0char_ID@@QAE@PAD@Z
_TEXT	SEGMENT
_szName$ = 8						; size = 4
??0char_ID@@QAE@PAD@Z PROC				; char_ID::char_ID, COMDAT
; _this$ = ecx

; 43   : 	char_ID(LPSTR szName)	// line : 44

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp

; 44   : 	{
; 45   : 		memset(this->Name, 0, sizeof(this->Name));
; 46   : 
; 47   : 		if ( szName != NULL )

  00003	8b 45 08	 mov	 eax, DWORD PTR _szName$[ebp]
  00006	0f 57 c0	 xorps	 xmm0, xmm0
  00009	66 0f d6 01	 movq	 QWORD PTR [ecx], xmm0
  0000d	66 c7 41 08 00
	00		 mov	 WORD PTR [ecx+8], 0
  00013	c6 41 0a 00	 mov	 BYTE PTR [ecx+10], 0
  00017	85 c0		 test	 eax, eax
  00019	74 10		 je	 SHORT $LN4@char_ID

; 48   : 		{
; 49   : 			memcpy(this->Name, szName, MAX_ACCOUNT_LEN);

  0001b	f3 0f 7e 00	 movq	 xmm0, QWORD PTR [eax]
  0001f	66 0f d6 01	 movq	 QWORD PTR [ecx], xmm0
  00023	66 8b 40 08	 mov	 ax, WORD PTR [eax+8]
  00027	66 89 41 08	 mov	 WORD PTR [ecx+8], ax
$LN4@char_ID:

; 50   : 		}
; 51   : 	}	// line : 49

  0002b	8b c1		 mov	 eax, ecx
  0002d	5d		 pop	 ebp
  0002e	c2 04 00	 ret	 4
??0char_ID@@QAE@PAD@Z ENDP				; char_ID::char_ID
_TEXT	ENDS
; Function compile flags: /Ogtp
; File c:\users\michel\desktop\source\gameserver\source\edsprotocol.cpp
; File c:\users\michel\desktop\source\gameserver\common\winutil.h
; File c:\users\michel\desktop\source\gameserver\source\edsprotocol.cpp
; File c:\users\michel\desktop\source\gameserver\common\winutil.h
; File c:\users\michel\desktop\source\gameserver\source\edsprotocol.cpp
; File c:\users\michel\desktop\source\gameserver\include\prodef.h
; File c:\users\michel\desktop\source\gameserver\source\edsprotocol.cpp
;	COMDAT ?FriendRoomInvitationRecv@@YAXPAUFHP_FRIEND_INVITATION_RET@@@Z
_TEXT	SEGMENT
_pMsg$ = -24						; size = 8
_Name$ = -16						; size = 11
__$ArrayPad$ = -4					; size = 4
_lpMsg$ = 8						; size = 4
?FriendRoomInvitationRecv@@YAXPAUFHP_FRIEND_INVITATION_RET@@@Z PROC ; FriendRoomInvitationRecv, COMDAT

; 3118 : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	83 ec 18	 sub	 esp, 24			; 00000018H
  00006	a1 00 00 00 00	 mov	 eax, DWORD PTR ___security_cookie
  0000b	33 c5		 xor	 eax, ebp
  0000d	89 45 fc	 mov	 DWORD PTR __$ArrayPad$[ebp], eax
  00010	56		 push	 esi
  00011	8b 75 08	 mov	 esi, DWORD PTR _lpMsg$[ebp]
  00014	0f 57 c0	 xorps	 xmm0, xmm0
; File c:\users\michel\desktop\source\gameserver\common\winutil.h

; 45   : 		memset(this->Name, 0, sizeof(this->Name));

  00017	66 0f d6 45 f0	 movq	 QWORD PTR _Name$[ebp], xmm0
  0001c	66 c7 45 f8 00
	00		 mov	 WORD PTR _Name$[ebp+8], 0
  00022	c6 45 fa 00	 mov	 BYTE PTR _Name$[ebp+10], 0
; File c:\users\michel\desktop\source\gameserver\source\edsprotocol.cpp

; 3119 : 	char_ID Name(lpMsg->Name);

  00026	8d 46 06	 lea	 eax, DWORD PTR [esi+6]
; File c:\users\michel\desktop\source\gameserver\common\winutil.h

; 47   : 		if ( szName != NULL )

  00029	85 c0		 test	 eax, eax
  0002b	74 11		 je	 SHORT $LN5@FriendRoom

; 48   : 		{
; 49   : 			memcpy(this->Name, szName, MAX_ACCOUNT_LEN);

  0002d	f3 0f 7e 00	 movq	 xmm0, QWORD PTR [eax]
  00031	66 8b 40 08	 mov	 ax, WORD PTR [eax+8]
  00035	66 0f d6 45 f0	 movq	 QWORD PTR _Name$[ebp], xmm0
  0003a	66 89 45 f8	 mov	 WORD PTR _Name$[ebp+8], ax
$LN5@FriendRoom:
; File c:\users\michel\desktop\source\gameserver\source\edsprotocol.cpp

; 3121 : 	if ( !gObjIsConnectedGP(lpMsg->Number, Name.GetBuffer()))

  0003e	8d 45 f0	 lea	 eax, DWORD PTR _Name$[ebp]
  00041	50		 push	 eax
  00042	0f bf 46 04	 movsx	 eax, WORD PTR [esi+4]
  00046	50		 push	 eax
  00047	e8 00 00 00 00	 call	 ?gObjIsConnectedGP@@YAHHPAD@Z ; gObjIsConnectedGP
  0004c	83 c4 08	 add	 esp, 8
  0004f	85 c0		 test	 eax, eax
  00051	75 27		 jne	 SHORT $LN2@FriendRoom

; 3122 : 	{
; 3123 : 		LogAddTD("error-L2 : Index %s %d", __FILE__, __LINE__);

  00053	68 33 0c 00 00	 push	 3123			; 00000c33H
  00058	68 00 00 00 00	 push	 OFFSET ??_C@_0BA@FCCBMCDG@EDSProtocol?4cpp?$AA@
  0005d	68 00 00 00 00	 push	 OFFSET ??_C@_0BH@LCDOHCGD@error?9L2?5?3?5Index?5?$CFs?5?$CFd?$AA@
  00062	ff 15 00 00 00
	00		 call	 DWORD PTR ?LogAddTD@@3P6AXPADZZA ; LogAddTD
  00068	83 c4 0c	 add	 esp, 12			; 0000000cH
  0006b	5e		 pop	 esi

; 3136 : 		Name.GetBuffer(), pMsg.Result);
; 3137 : }

  0006c	8b 4d fc	 mov	 ecx, DWORD PTR __$ArrayPad$[ebp]
  0006f	33 cd		 xor	 ecx, ebp
  00071	e8 00 00 00 00	 call	 @__security_check_cookie@4
  00076	8b e5		 mov	 esp, ebp
  00078	5d		 pop	 ebp
  00079	c3		 ret	 0
$LN2@FriendRoom:

; 3124 : 		return;
; 3125 : 	}
; 3126 : 
; 3127 : 	PMSG_ROOM_INVITATION_RESULT pMsg;
; 3128 : 
; 3129 : 	pMsg.h.set((LPBYTE)&pMsg, 0xCB, sizeof(pMsg));
; 3130 : 	pMsg.Result = lpMsg->Result;

  0007a	8a 46 03	 mov	 al, BYTE PTR [esi+3]
  0007d	88 45 eb	 mov	 BYTE PTR _pMsg$[ebp+3], al

; 3131 : 	pMsg.WindowGuid = lpMsg->WindowGuid;

  00080	8b 46 10	 mov	 eax, DWORD PTR [esi+16]
  00083	89 45 ec	 mov	 DWORD PTR _pMsg$[ebp+4], eax

; 3133 : 	DataSend(lpMsg->Number, (LPBYTE)&pMsg, sizeof(pMsg));

  00086	8d 45 e8	 lea	 eax, DWORD PTR _pMsg$[ebp]
  00089	6a 08		 push	 8
  0008b	50		 push	 eax
  0008c	0f bf 46 04	 movsx	 eax, WORD PTR [esi+4]
  00090	50		 push	 eax
; File c:\users\michel\desktop\source\gameserver\include\prodef.h

; 86   : 		lpBuf[0] = 0xC1;

  00091	66 c7 45 e8 c1
	08		 mov	 WORD PTR _pMsg$[ebp], 2241 ; 000008c1H

; 87   : 		lpBuf[1] = size;
; 88   : 		lpBuf[2] = head;

  00097	c6 45 ea cb	 mov	 BYTE PTR _pMsg$[ebp+2], 203 ; 000000cbH
; File c:\users\michel\desktop\source\gameserver\source\edsprotocol.cpp

; 3133 : 	DataSend(lpMsg->Number, (LPBYTE)&pMsg, sizeof(pMsg));

  0009b	e8 00 00 00 00	 call	 ?DataSend@@YAHHPAEK@Z	; DataSend

; 3134 : 
; 3135 : 	LogAdd("[%s] Friend Invitation result :%d",

  000a0	0f b6 45 eb	 movzx	 eax, BYTE PTR _pMsg$[ebp+3]
  000a4	50		 push	 eax
  000a5	8d 45 f0	 lea	 eax, DWORD PTR _Name$[ebp]
  000a8	50		 push	 eax
  000a9	68 00 00 00 00	 push	 OFFSET ??_C@_0CC@LIINHIPA@?$FL?$CFs?$FN?5Friend?5Invitation?5result?5?3?$CF@
  000ae	ff 15 00 00 00
	00		 call	 DWORD PTR ?LogAdd@@3P6AXPADZZA ; LogAdd

; 3136 : 		Name.GetBuffer(), pMsg.Result);
; 3137 : }

  000b4	8b 4d fc	 mov	 ecx, DWORD PTR __$ArrayPad$[ebp]
  000b7	83 c4 18	 add	 esp, 24			; 00000018H
  000ba	33 cd		 xor	 ecx, ebp
  000bc	5e		 pop	 esi
  000bd	e8 00 00 00 00	 call	 @__security_check_cookie@4
  000c2	8b e5		 mov	 esp, ebp
  000c4	5d		 pop	 ebp
  000c5	c3		 ret	 0
?FriendRoomInvitationRecv@@YAXPAUFHP_FRIEND_INVITATION_RET@@@Z ENDP ; FriendRoomInvitationRecv
_TEXT	ENDS
; Function compile flags: /Ogtp
; File c:\users\michel\desktop\source\gameserver\source\edsprotocol.cpp
; File c:\users\michel\desktop\source\gameserver\include\prodef.h
; File c:\users\michel\desktop\source\gameserver\source\edsprotocol.cpp
;	COMDAT ?FriendRoomInvitationReq@@YAXPAUPMSG_ROOM_INVITATION@@H@Z
_TEXT	SEGMENT
_pMsg$ = -36						; size = 32
__$ArrayPad$ = -4					; size = 4
_lpMsg$ = 8						; size = 4
_aIndex$ = 12						; size = 4
?FriendRoomInvitationReq@@YAXPAUPMSG_ROOM_INVITATION@@H@Z PROC ; FriendRoomInvitationReq, COMDAT

; 3083 : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	83 ec 24	 sub	 esp, 36			; 00000024H
  00006	a1 00 00 00 00	 mov	 eax, DWORD PTR ___security_cookie
  0000b	33 c5		 xor	 eax, ebp
  0000d	89 45 fc	 mov	 DWORD PTR __$ArrayPad$[ebp], eax
  00010	56		 push	 esi
  00011	8b 75 0c	 mov	 esi, DWORD PTR _aIndex$[ebp]
  00014	57		 push	 edi
  00015	8b 7d 08	 mov	 edi, DWORD PTR _lpMsg$[ebp]

; 3084 : 	if ( !gObjIsConnectedGP(aIndex))

  00018	56		 push	 esi
  00019	e8 00 00 00 00	 call	 ?gObjIsConnectedGP@@YAHH@Z ; gObjIsConnectedGP
  0001e	83 c4 04	 add	 esp, 4
  00021	85 c0		 test	 eax, eax
  00023	75 28		 jne	 SHORT $LN2@FriendRoom

; 3085 : 	{
; 3086 : 		LogAddTD("error-L2 : Index %s %d", __FILE__, __LINE__);

  00025	68 0e 0c 00 00	 push	 3086			; 00000c0eH
  0002a	68 00 00 00 00	 push	 OFFSET ??_C@_0BA@FCCBMCDG@EDSProtocol?4cpp?$AA@
  0002f	68 00 00 00 00	 push	 OFFSET ??_C@_0BH@LCDOHCGD@error?9L2?5?3?5Index?5?$CFs?5?$CFd?$AA@
  00034	ff 15 00 00 00
	00		 call	 DWORD PTR ?LogAddTD@@3P6AXPADZZA ; LogAddTD
  0003a	83 c4 0c	 add	 esp, 12			; 0000000cH
  0003d	5f		 pop	 edi
  0003e	5e		 pop	 esi

; 3102 : 		gObj[aIndex].Name, lpMsg->RoomNumber, lpMsg->WindowGuid);
; 3103 : }

  0003f	8b 4d fc	 mov	 ecx, DWORD PTR __$ArrayPad$[ebp]
  00042	33 cd		 xor	 ecx, ebp
  00044	e8 00 00 00 00	 call	 @__security_check_cookie@4
  00049	8b e5		 mov	 esp, ebp
  0004b	5d		 pop	 ebp
  0004c	c3		 ret	 0
$LN2@FriendRoom:

; 3087 : 		return;
; 3088 : 	}
; 3089 : 
; 3090 : 	FHP_FRIEND_INVITATION_REQ pMsg;
; 3091 : 
; 3092 : 	pMsg.h.set((LPBYTE)&pMsg, 0x74, sizeof(pMsg));
; 3093 : 	pMsg.Number = aIndex;
; 3094 : 	pMsg.RoomNumber = lpMsg->RoomNumber;

  0004d	0f b7 47 0e	 movzx	 eax, WORD PTR [edi+14]

; 3097 : 	memcpy(pMsg.Name, gObj[aIndex].Name, sizeof(pMsg.Name));
; 3098 : 
; 3099 : 	wsExDbCli.DataSend((PCHAR)&pMsg, pMsg.h.size);

  00051	b9 00 00 00 00	 mov	 ecx, OFFSET ?wsExDbCli@@3VwsJoinServerCli@@A ; wsExDbCli
  00056	f3 0f 7e 47 03	 movq	 xmm0, QWORD PTR [edi+3]
  0005b	66 89 45 f6	 mov	 WORD PTR _pMsg$[ebp+26], ax
  0005f	8b 47 10	 mov	 eax, DWORD PTR [edi+16]
  00062	89 45 f8	 mov	 DWORD PTR _pMsg$[ebp+28], eax
  00065	0f b7 47 0b	 movzx	 eax, WORD PTR [edi+11]
  00069	66 89 75 e0	 mov	 WORD PTR _pMsg$[ebp+4], si
  0006d	66 89 45 f4	 mov	 WORD PTR _pMsg$[ebp+24], ax
  00071	a1 00 00 00 00	 mov	 eax, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  00076	69 f6 40 27 00
	00		 imul	 esi, esi, 10048
; File c:\users\michel\desktop\source\gameserver\include\prodef.h

; 86   : 		lpBuf[0] = 0xC1;

  0007c	66 c7 45 dc c1
	20		 mov	 WORD PTR _pMsg$[ebp], 8385 ; 000020c1H

; 87   : 		lpBuf[1] = size;
; 88   : 		lpBuf[2] = head;

  00082	c6 45 de 74	 mov	 BYTE PTR _pMsg$[ebp+2], 116 ; 00000074H
; File c:\users\michel\desktop\source\gameserver\source\edsprotocol.cpp

; 3096 : 	memcpy(pMsg.FriendName, lpMsg->Name, sizeof(pMsg.FriendName));

  00086	66 0f d6 45 ec	 movq	 QWORD PTR _pMsg$[ebp+16], xmm0

; 3097 : 	memcpy(pMsg.Name, gObj[aIndex].Name, sizeof(pMsg.Name));
; 3098 : 
; 3099 : 	wsExDbCli.DataSend((PCHAR)&pMsg, pMsg.h.size);

  0008b	6a 20		 push	 32			; 00000020H
  0008d	f3 0f 7e 44 06
	5d		 movq	 xmm0, QWORD PTR [esi+eax+93]
  00093	66 0f d6 45 e2	 movq	 QWORD PTR _pMsg$[ebp+6], xmm0
  00098	0f b7 44 06 65	 movzx	 eax, WORD PTR [esi+eax+101]
  0009d	66 89 45 ea	 mov	 WORD PTR _pMsg$[ebp+14], ax
  000a1	8d 45 dc	 lea	 eax, DWORD PTR _pMsg$[ebp]
  000a4	50		 push	 eax
  000a5	e8 00 00 00 00	 call	 ?DataSend@wsJoinServerCli@@QAEHPADH@Z ; wsJoinServerCli::DataSend

; 3100 : 
; 3101 : 	LogAdd("[%s] Friend Invistation request room:%d winguid:%d",

  000aa	ff 77 10	 push	 DWORD PTR [edi+16]
  000ad	0f b7 47 0e	 movzx	 eax, WORD PTR [edi+14]
  000b1	50		 push	 eax
  000b2	a1 00 00 00 00	 mov	 eax, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  000b7	83 c0 5d	 add	 eax, 93			; 0000005dH
  000ba	03 c6		 add	 eax, esi
  000bc	50		 push	 eax
  000bd	68 00 00 00 00	 push	 OFFSET ??_C@_0DD@OCMMINHH@?$FL?$CFs?$FN?5Friend?5Invistation?5request?5@
  000c2	ff 15 00 00 00
	00		 call	 DWORD PTR ?LogAdd@@3P6AXPADZZA ; LogAdd

; 3102 : 		gObj[aIndex].Name, lpMsg->RoomNumber, lpMsg->WindowGuid);
; 3103 : }

  000c8	8b 4d fc	 mov	 ecx, DWORD PTR __$ArrayPad$[ebp]
  000cb	83 c4 10	 add	 esp, 16			; 00000010H
  000ce	33 cd		 xor	 ecx, ebp
  000d0	5f		 pop	 edi
  000d1	5e		 pop	 esi
  000d2	e8 00 00 00 00	 call	 @__security_check_cookie@4
  000d7	8b e5		 mov	 esp, ebp
  000d9	5d		 pop	 ebp
  000da	c3		 ret	 0
?FriendRoomInvitationReq@@YAXPAUPMSG_ROOM_INVITATION@@H@Z ENDP ; FriendRoomInvitationReq
_TEXT	ENDS
; Function compile flags: /Ogtp
; File c:\users\michel\desktop\source\gameserver\source\edsprotocol.cpp
; File c:\users\michel\desktop\source\gameserver\common\winutil.h
; File c:\users\michel\desktop\source\gameserver\source\edsprotocol.cpp
; File c:\users\michel\desktop\source\gameserver\common\winutil.h
; File c:\users\michel\desktop\source\gameserver\source\edsprotocol.cpp
; File c:\users\michel\desktop\source\gameserver\include\prodef.h
; File c:\users\michel\desktop\source\gameserver\source\edsprotocol.cpp
;	COMDAT ?FriendMemoDelResult@@YAXPAUFHP_FRIEND_MEMO_DEL_RESULT@@@Z
_TEXT	SEGMENT
_pMsg$ = -24						; size = 6
_Name$ = -16						; size = 11
__$ArrayPad$ = -4					; size = 4
_lpMsg$ = 8						; size = 4
?FriendMemoDelResult@@YAXPAUFHP_FRIEND_MEMO_DEL_RESULT@@@Z PROC ; FriendMemoDelResult, COMDAT

; 3048 : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	83 ec 18	 sub	 esp, 24			; 00000018H
  00006	a1 00 00 00 00	 mov	 eax, DWORD PTR ___security_cookie
  0000b	33 c5		 xor	 eax, ebp
  0000d	89 45 fc	 mov	 DWORD PTR __$ArrayPad$[ebp], eax
  00010	56		 push	 esi
  00011	8b 75 08	 mov	 esi, DWORD PTR _lpMsg$[ebp]
  00014	0f 57 c0	 xorps	 xmm0, xmm0
; File c:\users\michel\desktop\source\gameserver\common\winutil.h

; 45   : 		memset(this->Name, 0, sizeof(this->Name));

  00017	66 0f d6 45 f0	 movq	 QWORD PTR _Name$[ebp], xmm0
  0001c	66 c7 45 f8 00
	00		 mov	 WORD PTR _Name$[ebp+8], 0
  00022	c6 45 fa 00	 mov	 BYTE PTR _Name$[ebp+10], 0
; File c:\users\michel\desktop\source\gameserver\source\edsprotocol.cpp

; 3049 : 	char_ID Name(lpMsg->Name);

  00026	8d 46 08	 lea	 eax, DWORD PTR [esi+8]
; File c:\users\michel\desktop\source\gameserver\common\winutil.h

; 47   : 		if ( szName != NULL )

  00029	85 c0		 test	 eax, eax
  0002b	74 11		 je	 SHORT $LN5@FriendMemo

; 48   : 		{
; 49   : 			memcpy(this->Name, szName, MAX_ACCOUNT_LEN);

  0002d	f3 0f 7e 00	 movq	 xmm0, QWORD PTR [eax]
  00031	66 8b 40 08	 mov	 ax, WORD PTR [eax+8]
  00035	66 0f d6 45 f0	 movq	 QWORD PTR _Name$[ebp], xmm0
  0003a	66 89 45 f8	 mov	 WORD PTR _Name$[ebp+8], ax
$LN5@FriendMemo:
; File c:\users\michel\desktop\source\gameserver\source\edsprotocol.cpp

; 3051 : 	if ( !gObjIsConnectedGP(lpMsg->Number, Name.GetBuffer()))

  0003e	8d 45 f0	 lea	 eax, DWORD PTR _Name$[ebp]
  00041	50		 push	 eax
  00042	0f bf 46 06	 movsx	 eax, WORD PTR [esi+6]
  00046	50		 push	 eax
  00047	e8 00 00 00 00	 call	 ?gObjIsConnectedGP@@YAHHPAD@Z ; gObjIsConnectedGP
  0004c	83 c4 08	 add	 esp, 8
  0004f	85 c0		 test	 eax, eax
  00051	75 27		 jne	 SHORT $LN2@FriendMemo

; 3052 : 	{
; 3053 : 		LogAddTD("error-L2 : Index %s %d", __FILE__, __LINE__);

  00053	68 ed 0b 00 00	 push	 3053			; 00000bedH
  00058	68 00 00 00 00	 push	 OFFSET ??_C@_0BA@FCCBMCDG@EDSProtocol?4cpp?$AA@
  0005d	68 00 00 00 00	 push	 OFFSET ??_C@_0BH@LCDOHCGD@error?9L2?5?3?5Index?5?$CFs?5?$CFd?$AA@
  00062	ff 15 00 00 00
	00		 call	 DWORD PTR ?LogAddTD@@3P6AXPADZZA ; LogAddTD
  00068	83 c4 0c	 add	 esp, 12			; 0000000cH
  0006b	5e		 pop	 esi

; 3066 : 		Name.GetBuffer(), lpMsg->Result, lpMsg->MemoIndex);
; 3067 : }

  0006c	8b 4d fc	 mov	 ecx, DWORD PTR __$ArrayPad$[ebp]
  0006f	33 cd		 xor	 ecx, ebp
  00071	e8 00 00 00 00	 call	 @__security_check_cookie@4
  00076	8b e5		 mov	 esp, ebp
  00078	5d		 pop	 ebp
  00079	c3		 ret	 0
$LN2@FriendMemo:

; 3054 : 		return;
; 3055 : 	}
; 3056 : 
; 3057 : 	PMSG_FRIEND_MEMO_DEL_RESULT pMsg;
; 3058 : 
; 3059 : 	pMsg.h.set((LPBYTE)&pMsg, 0xC8, sizeof(pMsg));
; 3060 : 	pMsg.MemoIndex = lpMsg->MemoIndex;

  0007a	66 8b 46 04	 mov	 ax, WORD PTR [esi+4]
  0007e	66 89 45 ec	 mov	 WORD PTR _pMsg$[ebp+4], ax

; 3061 : 	pMsg.Result = lpMsg->Result;

  00082	8a 46 03	 mov	 al, BYTE PTR [esi+3]
  00085	88 45 eb	 mov	 BYTE PTR _pMsg$[ebp+3], al

; 3063 : 	DataSend(lpMsg->Number, (LPBYTE)&pMsg, sizeof(pMsg));

  00088	8d 45 e8	 lea	 eax, DWORD PTR _pMsg$[ebp]
  0008b	6a 06		 push	 6
  0008d	50		 push	 eax
  0008e	0f bf 46 06	 movsx	 eax, WORD PTR [esi+6]
  00092	50		 push	 eax
; File c:\users\michel\desktop\source\gameserver\include\prodef.h

; 86   : 		lpBuf[0] = 0xC1;

  00093	66 c7 45 e8 c1
	06		 mov	 WORD PTR _pMsg$[ebp], 1729 ; 000006c1H

; 87   : 		lpBuf[1] = size;
; 88   : 		lpBuf[2] = head;

  00099	c6 45 ea c8	 mov	 BYTE PTR _pMsg$[ebp+2], 200 ; 000000c8H
; File c:\users\michel\desktop\source\gameserver\source\edsprotocol.cpp

; 3063 : 	DataSend(lpMsg->Number, (LPBYTE)&pMsg, sizeof(pMsg));

  0009d	e8 00 00 00 00	 call	 ?DataSend@@YAHHPAEK@Z	; DataSend

; 3064 : 
; 3065 : 	LogAdd("[%s] Friend mail delete request (%d) index:(%d)",

  000a2	0f b7 46 04	 movzx	 eax, WORD PTR [esi+4]
  000a6	50		 push	 eax
  000a7	0f b6 46 03	 movzx	 eax, BYTE PTR [esi+3]
  000ab	50		 push	 eax
  000ac	8d 45 f0	 lea	 eax, DWORD PTR _Name$[ebp]
  000af	50		 push	 eax
  000b0	68 00 00 00 00	 push	 OFFSET ??_C@_0DA@BCDIIKMO@?$FL?$CFs?$FN?5Friend?5mail?5delete?5request?5@
  000b5	ff 15 00 00 00
	00		 call	 DWORD PTR ?LogAdd@@3P6AXPADZZA ; LogAdd

; 3066 : 		Name.GetBuffer(), lpMsg->Result, lpMsg->MemoIndex);
; 3067 : }

  000bb	8b 4d fc	 mov	 ecx, DWORD PTR __$ArrayPad$[ebp]
  000be	83 c4 1c	 add	 esp, 28			; 0000001cH
  000c1	33 cd		 xor	 ecx, ebp
  000c3	5e		 pop	 esi
  000c4	e8 00 00 00 00	 call	 @__security_check_cookie@4
  000c9	8b e5		 mov	 esp, ebp
  000cb	5d		 pop	 ebp
  000cc	c3		 ret	 0
?FriendMemoDelResult@@YAXPAUFHP_FRIEND_MEMO_DEL_RESULT@@@Z ENDP ; FriendMemoDelResult
_TEXT	ENDS
; Function compile flags: /Ogtp
; File c:\users\michel\desktop\source\gameserver\source\edsprotocol.cpp
; File c:\users\michel\desktop\source\gameserver\include\prodef.h
; File c:\users\michel\desktop\source\gameserver\source\edsprotocol.cpp
;	COMDAT ?FriendMemoDelReq@@YAXPAUPMSG_FRIEND_MEMO_DEL_REQ@@H@Z
_TEXT	SEGMENT
_pMsg$ = -24						; size = 18
__$ArrayPad$ = -4					; size = 4
_lpMsg$ = 8						; size = 4
_aIndex$ = 12						; size = 4
?FriendMemoDelReq@@YAXPAUPMSG_FRIEND_MEMO_DEL_REQ@@H@Z PROC ; FriendMemoDelReq, COMDAT

; 3017 : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	83 ec 18	 sub	 esp, 24			; 00000018H
  00006	a1 00 00 00 00	 mov	 eax, DWORD PTR ___security_cookie
  0000b	33 c5		 xor	 eax, ebp
  0000d	89 45 fc	 mov	 DWORD PTR __$ArrayPad$[ebp], eax
  00010	56		 push	 esi
  00011	8b 75 0c	 mov	 esi, DWORD PTR _aIndex$[ebp]
  00014	57		 push	 edi
  00015	8b 7d 08	 mov	 edi, DWORD PTR _lpMsg$[ebp]

; 3018 : 	if ( !gObjIsConnectedGP(aIndex))

  00018	56		 push	 esi
  00019	e8 00 00 00 00	 call	 ?gObjIsConnectedGP@@YAHH@Z ; gObjIsConnectedGP
  0001e	83 c4 04	 add	 esp, 4
  00021	85 c0		 test	 eax, eax
  00023	75 28		 jne	 SHORT $LN2@FriendMemo

; 3019 : 	{
; 3020 : 		LogAddTD("error-L2 : Index %s %d", __FILE__, __LINE__);

  00025	68 cc 0b 00 00	 push	 3020			; 00000bccH
  0002a	68 00 00 00 00	 push	 OFFSET ??_C@_0BA@FCCBMCDG@EDSProtocol?4cpp?$AA@
  0002f	68 00 00 00 00	 push	 OFFSET ??_C@_0BH@LCDOHCGD@error?9L2?5?3?5Index?5?$CFs?5?$CFd?$AA@
  00034	ff 15 00 00 00
	00		 call	 DWORD PTR ?LogAddTD@@3P6AXPADZZA ; LogAddTD

; 3032 : 
; 3033 : 	LogAdd("[%s] Friend mail delete request Index:(%d)",

  0003a	83 c4 0c	 add	 esp, 12			; 0000000cH
  0003d	5f		 pop	 edi
  0003e	5e		 pop	 esi

; 3034 : 		gObj[aIndex].Name, lpMsg->MemoIndex);
; 3035 : }

  0003f	8b 4d fc	 mov	 ecx, DWORD PTR __$ArrayPad$[ebp]
  00042	33 cd		 xor	 ecx, ebp
  00044	e8 00 00 00 00	 call	 @__security_check_cookie@4
  00049	8b e5		 mov	 esp, ebp
  0004b	5d		 pop	 ebp
  0004c	c3		 ret	 0
$LN2@FriendMemo:

; 3021 : 		return;
; 3022 : 	}
; 3023 : 
; 3024 : 	FHP_FRIEND_MEMO_DEL_REQ pMsg;
; 3025 : 
; 3026 : 	pMsg.h.set((LPBYTE)&pMsg, 0x73, sizeof(pMsg));
; 3027 : 	pMsg.MemoIndex = lpMsg->MemoIndex;

  0004d	0f b7 47 04	 movzx	 eax, WORD PTR [edi+4]

; 3031 : 	wsExDbCli.DataSend((PCHAR)&pMsg, pMsg.h.size);

  00051	b9 00 00 00 00	 mov	 ecx, OFFSET ?wsExDbCli@@3VwsJoinServerCli@@A ; wsExDbCli
  00056	66 89 75 ec	 mov	 WORD PTR _pMsg$[ebp+4], si
  0005a	66 89 45 ee	 mov	 WORD PTR _pMsg$[ebp+6], ax
  0005e	a1 00 00 00 00	 mov	 eax, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  00063	69 f6 40 27 00
	00		 imul	 esi, esi, 10048
; File c:\users\michel\desktop\source\gameserver\include\prodef.h

; 86   : 		lpBuf[0] = 0xC1;

  00069	66 c7 45 e8 c1
	12		 mov	 WORD PTR _pMsg$[ebp], 4801 ; 000012c1H

; 87   : 		lpBuf[1] = size;
; 88   : 		lpBuf[2] = head;

  0006f	c6 45 ea 73	 mov	 BYTE PTR _pMsg$[ebp+2], 115 ; 00000073H
; File c:\users\michel\desktop\source\gameserver\source\edsprotocol.cpp

; 3031 : 	wsExDbCli.DataSend((PCHAR)&pMsg, pMsg.h.size);

  00073	6a 12		 push	 18			; 00000012H
  00075	f3 0f 7e 44 06
	5d		 movq	 xmm0, QWORD PTR [esi+eax+93]
  0007b	66 0f d6 45 f0	 movq	 QWORD PTR _pMsg$[ebp+8], xmm0
  00080	0f b7 44 06 65	 movzx	 eax, WORD PTR [esi+eax+101]
  00085	66 89 45 f8	 mov	 WORD PTR _pMsg$[ebp+16], ax
  00089	8d 45 e8	 lea	 eax, DWORD PTR _pMsg$[ebp]
  0008c	50		 push	 eax
  0008d	e8 00 00 00 00	 call	 ?DataSend@wsJoinServerCli@@QAEHPADH@Z ; wsJoinServerCli::DataSend

; 3032 : 
; 3033 : 	LogAdd("[%s] Friend mail delete request Index:(%d)",

  00092	0f b7 47 04	 movzx	 eax, WORD PTR [edi+4]
  00096	50		 push	 eax
  00097	a1 00 00 00 00	 mov	 eax, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  0009c	83 c0 5d	 add	 eax, 93			; 0000005dH
  0009f	03 c6		 add	 eax, esi
  000a1	50		 push	 eax
  000a2	68 00 00 00 00	 push	 OFFSET ??_C@_0CL@CONIHEEP@?$FL?$CFs?$FN?5Friend?5mail?5delete?5request?5@
  000a7	ff 15 00 00 00
	00		 call	 DWORD PTR ?LogAdd@@3P6AXPADZZA ; LogAdd

; 3034 : 		gObj[aIndex].Name, lpMsg->MemoIndex);
; 3035 : }

  000ad	8b 4d fc	 mov	 ecx, DWORD PTR __$ArrayPad$[ebp]
  000b0	83 c4 0c	 add	 esp, 12			; 0000000cH
  000b3	33 cd		 xor	 ecx, ebp
  000b5	5f		 pop	 edi
  000b6	5e		 pop	 esi
  000b7	e8 00 00 00 00	 call	 @__security_check_cookie@4
  000bc	8b e5		 mov	 esp, ebp
  000be	5d		 pop	 ebp
  000bf	c3		 ret	 0
?FriendMemoDelReq@@YAXPAUPMSG_FRIEND_MEMO_DEL_REQ@@H@Z ENDP ; FriendMemoDelReq
_TEXT	ENDS
; Function compile flags: /Ogtp
; File c:\users\michel\desktop\source\gameserver\source\edsprotocol.cpp
; File c:\users\michel\desktop\source\gameserver\common\winutil.h
; File c:\users\michel\desktop\source\gameserver\source\edsprotocol.cpp
; File c:\users\michel\desktop\source\gameserver\common\winutil.h
; File c:\users\michel\desktop\source\gameserver\source\edsprotocol.cpp
; File c:\users\michel\desktop\source\gameserver\include\prodef.h
; File c:\users\michel\desktop\source\gameserver\source\edsprotocol.cpp
; File c:\users\michel\desktop\source\gameserver\include\prodef.h
; File c:\users\michel\desktop\source\gameserver\source\edsprotocol.cpp
;	COMDAT ?FriendMemoRead@@YAXPAUFHP_FRIEND_MEMO_RECV@@@Z
_TEXT	SEGMENT
_pMsg$ = -1044						; size = 1028
_Name$ = -16						; size = 11
__$ArrayPad$ = -4					; size = 4
_lpMsg$ = 8						; size = 4
?FriendMemoRead@@YAXPAUFHP_FRIEND_MEMO_RECV@@@Z PROC	; FriendMemoRead, COMDAT

; 2970 : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	81 ec 14 04 00
	00		 sub	 esp, 1044		; 00000414H
  00009	a1 00 00 00 00	 mov	 eax, DWORD PTR ___security_cookie
  0000e	33 c5		 xor	 eax, ebp
  00010	89 45 fc	 mov	 DWORD PTR __$ArrayPad$[ebp], eax
  00013	56		 push	 esi
  00014	8b 75 08	 mov	 esi, DWORD PTR _lpMsg$[ebp]
  00017	0f 57 c0	 xorps	 xmm0, xmm0
; File c:\users\michel\desktop\source\gameserver\common\winutil.h

; 45   : 		memset(this->Name, 0, sizeof(this->Name));

  0001a	66 0f d6 45 f0	 movq	 QWORD PTR _Name$[ebp], xmm0
  0001f	66 c7 45 f8 00
	00		 mov	 WORD PTR _Name$[ebp+8], 0
  00025	c6 45 fa 00	 mov	 BYTE PTR _Name$[ebp+10], 0
; File c:\users\michel\desktop\source\gameserver\source\edsprotocol.cpp

; 2971 : 	char_ID Name(lpMsg->Name);

  00029	8d 46 06	 lea	 eax, DWORD PTR [esi+6]
; File c:\users\michel\desktop\source\gameserver\common\winutil.h

; 47   : 		if ( szName != NULL )

  0002c	85 c0		 test	 eax, eax
  0002e	74 11		 je	 SHORT $LN6@FriendMemo

; 48   : 		{
; 49   : 			memcpy(this->Name, szName, MAX_ACCOUNT_LEN);

  00030	f3 0f 7e 00	 movq	 xmm0, QWORD PTR [eax]
  00034	66 8b 40 08	 mov	 ax, WORD PTR [eax+8]
  00038	66 0f d6 45 f0	 movq	 QWORD PTR _Name$[ebp], xmm0
  0003d	66 89 45 f8	 mov	 WORD PTR _Name$[ebp+8], ax
$LN6@FriendMemo:
; File c:\users\michel\desktop\source\gameserver\source\edsprotocol.cpp

; 2973 : 	if ( !gObjIsConnectedGP(lpMsg->Number, Name.GetBuffer()))

  00041	8d 45 f0	 lea	 eax, DWORD PTR _Name$[ebp]
  00044	50		 push	 eax
  00045	0f bf 46 04	 movsx	 eax, WORD PTR [esi+4]
  00049	50		 push	 eax
  0004a	e8 00 00 00 00	 call	 ?gObjIsConnectedGP@@YAHHPAD@Z ; gObjIsConnectedGP
  0004f	83 c4 08	 add	 esp, 8
  00052	85 c0		 test	 eax, eax
  00054	75 27		 jne	 SHORT $LN2@FriendMemo

; 2974 : 	{
; 2975 : 		LogAddTD("error-L2 : Index %s %d", __FILE__, __LINE__);

  00056	68 9f 0b 00 00	 push	 2975			; 00000b9fH
  0005b	68 00 00 00 00	 push	 OFFSET ??_C@_0BA@FCCBMCDG@EDSProtocol?4cpp?$AA@
  00060	68 00 00 00 00	 push	 OFFSET ??_C@_0BH@LCDOHCGD@error?9L2?5?3?5Index?5?$CFs?5?$CFd?$AA@
  00065	ff 15 00 00 00
	00		 call	 DWORD PTR ?LogAddTD@@3P6AXPADZZA ; LogAddTD
  0006b	83 c4 0c	 add	 esp, 12			; 0000000cH
  0006e	5e		 pop	 esi

; 3002 : 		gObj[lpMsg->Number].Name, lpMsg->MemoIndex);
; 3003 : }

  0006f	8b 4d fc	 mov	 ecx, DWORD PTR __$ArrayPad$[ebp]
  00072	33 cd		 xor	 ecx, ebp
  00074	e8 00 00 00 00	 call	 @__security_check_cookie@4
  00079	8b e5		 mov	 esp, ebp
  0007b	5d		 pop	 ebp
  0007c	c3		 ret	 0
$LN2@FriendMemo:

; 2976 : 		return;
; 2977 : 	}
; 2978 : 
; 2979 : 	PMSG_FRIEND_READ_MEMO pMsg;
; 2980 : 
; 2981 : 	int nsize = sizeof(pMsg)-1000;
; 2982 : 
; 2983 : 	if ( lpMsg->MemoSize > 1000 )

  0007d	0f b7 56 12	 movzx	 edx, WORD PTR [esi+18]
  00081	b8 e8 03 00 00	 mov	 eax, 1000		; 000003e8H
  00086	66 3b d0	 cmp	 dx, ax
  00089	7e 27		 jle	 SHORT $LN3@FriendMemo

; 2984 : 	{
; 2985 : 		LogAddTD("error-L2 : Friend Memo Max %s %d", __FILE__, __LINE__);

  0008b	68 a9 0b 00 00	 push	 2985			; 00000ba9H
  00090	68 00 00 00 00	 push	 OFFSET ??_C@_0BA@FCCBMCDG@EDSProtocol?4cpp?$AA@
  00095	68 00 00 00 00	 push	 OFFSET ??_C@_0CB@LDOIFNPP@error?9L2?5?3?5Friend?5Memo?5Max?5?$CFs?5?$CFd@
  0009a	ff 15 00 00 00
	00		 call	 DWORD PTR ?LogAddTD@@3P6AXPADZZA ; LogAddTD
  000a0	83 c4 0c	 add	 esp, 12			; 0000000cH
  000a3	5e		 pop	 esi

; 3002 : 		gObj[lpMsg->Number].Name, lpMsg->MemoIndex);
; 3003 : }

  000a4	8b 4d fc	 mov	 ecx, DWORD PTR __$ArrayPad$[ebp]
  000a7	33 cd		 xor	 ecx, ebp
  000a9	e8 00 00 00 00	 call	 @__security_check_cookie@4
  000ae	8b e5		 mov	 esp, ebp
  000b0	5d		 pop	 ebp
  000b1	c3		 ret	 0
$LN3@FriendMemo:

; 2996 : 	memcpy(pMsg.Photo, lpMsg->Photo,sizeof(pMsg.Photo));

  000b2	0f 10 46 14	 movups	 xmm0, XMMWORD PTR [esi+20]
  000b6	0f bf ca	 movsx	 ecx, dx
  000b9	53		 push	 ebx

; 2997 : 	memcpy(pMsg.Memo, lpMsg->Memo, lpMsg->MemoSize);

  000ba	51		 push	 ecx
; File c:\users\michel\desktop\source\gameserver\include\prodef.h

; 119  : 		lpBuf[0] = 0xC4;

  000bb	c6 85 ec fb ff
	ff c4		 mov	 BYTE PTR _pMsg$[ebp], 196 ; 000000c4H
; File c:\users\michel\desktop\source\gameserver\source\edsprotocol.cpp

; 2989 : 	nsize += lpMsg->MemoSize;

  000c2	8d 59 1c	 lea	 ebx, DWORD PTR [ecx+28]
; File c:\users\michel\desktop\source\gameserver\include\prodef.h

; 122  : 		lpBuf[3] = head;

  000c5	c6 85 ef fb ff
	ff c7		 mov	 BYTE PTR _pMsg$[ebp+3], 199 ; 000000c7H
  000cc	8b c3		 mov	 eax, ebx
  000ce	88 9d ee fb ff
	ff		 mov	 BYTE PTR _pMsg$[ebp+2], bl
  000d4	c1 e8 08	 shr	 eax, 8
  000d7	88 85 ed fb ff
	ff		 mov	 BYTE PTR _pMsg$[ebp+1], al
; File c:\users\michel\desktop\source\gameserver\source\edsprotocol.cpp

; 2992 : 	pMsg.MemoIndex = lpMsg->MemoIndex;

  000dd	0f b7 46 10	 movzx	 eax, WORD PTR [esi+16]
  000e1	66 89 85 f0 fb
	ff ff		 mov	 WORD PTR _pMsg$[ebp+4], ax

; 2993 : 	pMsg.MemoSize = lpMsg->MemoSize;
; 2994 : 	pMsg.Dir = lpMsg->Dir;

  000e8	0f b6 46 26	 movzx	 eax, BYTE PTR [esi+38]
  000ec	88 85 06 fc ff
	ff		 mov	 BYTE PTR _pMsg$[ebp+26], al

; 2995 : 	pMsg.Action = lpMsg->Action;

  000f2	0f b6 46 27	 movzx	 eax, BYTE PTR [esi+39]
  000f6	88 85 07 fc ff
	ff		 mov	 BYTE PTR _pMsg$[ebp+27], al

; 2996 : 	memcpy(pMsg.Photo, lpMsg->Photo,sizeof(pMsg.Photo));

  000fc	0f b7 46 24	 movzx	 eax, WORD PTR [esi+36]
  00100	66 89 85 04 fc
	ff ff		 mov	 WORD PTR _pMsg$[ebp+24], ax

; 2997 : 	memcpy(pMsg.Memo, lpMsg->Memo, lpMsg->MemoSize);

  00107	8d 46 28	 lea	 eax, DWORD PTR [esi+40]
  0010a	50		 push	 eax
  0010b	8d 85 08 fc ff
	ff		 lea	 eax, DWORD PTR _pMsg$[ebp+28]
  00111	66 89 95 f2 fb
	ff ff		 mov	 WORD PTR _pMsg$[ebp+6], dx
  00118	50		 push	 eax
  00119	0f 11 85 f4 fb
	ff ff		 movups	 XMMWORD PTR _pMsg$[ebp+8], xmm0
  00120	e8 00 00 00 00	 call	 _memcpy

; 2998 : 
; 2999 : 	DataSend(lpMsg->Number, (LPBYTE)&pMsg, nsize);

  00125	53		 push	 ebx
  00126	8d 85 ec fb ff
	ff		 lea	 eax, DWORD PTR _pMsg$[ebp]
  0012c	50		 push	 eax
  0012d	0f bf 46 04	 movsx	 eax, WORD PTR [esi+4]
  00131	50		 push	 eax
  00132	e8 00 00 00 00	 call	 ?DataSend@@YAHHPAEK@Z	; DataSend

; 3000 : 
; 3001 : 	LogAdd("[%s] Friend Mail read (%d)",

  00137	0f b7 46 10	 movzx	 eax, WORD PTR [esi+16]
  0013b	50		 push	 eax
  0013c	0f bf 46 04	 movsx	 eax, WORD PTR [esi+4]
  00140	69 c8 40 27 00
	00		 imul	 ecx, eax, 10048
  00146	a1 00 00 00 00	 mov	 eax, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  0014b	83 c0 5d	 add	 eax, 93			; 0000005dH
  0014e	03 c1		 add	 eax, ecx
  00150	50		 push	 eax
  00151	68 00 00 00 00	 push	 OFFSET ??_C@_0BL@NKLNIHDF@?$FL?$CFs?$FN?5Friend?5Mail?5read?5?$CI?$CFd?$CJ?$AA@
  00156	ff 15 00 00 00
	00		 call	 DWORD PTR ?LogAdd@@3P6AXPADZZA ; LogAdd

; 3002 : 		gObj[lpMsg->Number].Name, lpMsg->MemoIndex);
; 3003 : }

  0015c	8b 4d fc	 mov	 ecx, DWORD PTR __$ArrayPad$[ebp]
  0015f	83 c4 24	 add	 esp, 36			; 00000024H
  00162	33 cd		 xor	 ecx, ebp
  00164	5b		 pop	 ebx
  00165	5e		 pop	 esi
  00166	e8 00 00 00 00	 call	 @__security_check_cookie@4
  0016b	8b e5		 mov	 esp, ebp
  0016d	5d		 pop	 ebp
  0016e	c3		 ret	 0
?FriendMemoRead@@YAXPAUFHP_FRIEND_MEMO_RECV@@@Z ENDP	; FriendMemoRead
_TEXT	ENDS
; Function compile flags: /Ogtp
; File c:\users\michel\desktop\source\gameserver\source\edsprotocol.cpp
; File c:\users\michel\desktop\source\gameserver\include\prodef.h
; File c:\users\michel\desktop\source\gameserver\source\edsprotocol.cpp
;	COMDAT ?FriendMemoReadReq@@YAXPAUPMSG_FRIEND_READ_MEMO_REQ@@H@Z
_TEXT	SEGMENT
_pMsg$ = -24						; size = 18
__$ArrayPad$ = -4					; size = 4
_lpMsg$ = 8						; size = 4
_aIndex$ = 12						; size = 4
?FriendMemoReadReq@@YAXPAUPMSG_FRIEND_READ_MEMO_REQ@@H@Z PROC ; FriendMemoReadReq, COMDAT

; 2934 : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	83 ec 18	 sub	 esp, 24			; 00000018H
  00006	a1 00 00 00 00	 mov	 eax, DWORD PTR ___security_cookie
  0000b	33 c5		 xor	 eax, ebp
  0000d	89 45 fc	 mov	 DWORD PTR __$ArrayPad$[ebp], eax
  00010	56		 push	 esi
  00011	8b 75 0c	 mov	 esi, DWORD PTR _aIndex$[ebp]
  00014	57		 push	 edi
  00015	8b 7d 08	 mov	 edi, DWORD PTR _lpMsg$[ebp]

; 2935 : 	if ( !gObjIsConnectedGP(aIndex))

  00018	56		 push	 esi
  00019	e8 00 00 00 00	 call	 ?gObjIsConnectedGP@@YAHH@Z ; gObjIsConnectedGP
  0001e	83 c4 04	 add	 esp, 4
  00021	85 c0		 test	 eax, eax
  00023	75 28		 jne	 SHORT $LN2@FriendMemo

; 2936 : 	{
; 2937 : 		LogAddTD("error-L2 : Index %s %d", __FILE__, __LINE__);

  00025	68 79 0b 00 00	 push	 2937			; 00000b79H
  0002a	68 00 00 00 00	 push	 OFFSET ??_C@_0BA@FCCBMCDG@EDSProtocol?4cpp?$AA@
  0002f	68 00 00 00 00	 push	 OFFSET ??_C@_0BH@LCDOHCGD@error?9L2?5?3?5Index?5?$CFs?5?$CFd?$AA@
  00034	ff 15 00 00 00
	00		 call	 DWORD PTR ?LogAddTD@@3P6AXPADZZA ; LogAddTD

; 2949 : 
; 2950 : 	LogAdd("[%s] Friend Mail read Index:%d", 

  0003a	83 c4 0c	 add	 esp, 12			; 0000000cH
  0003d	5f		 pop	 edi
  0003e	5e		 pop	 esi

; 2951 : 		gObj[aIndex].Name, lpMsg->MemoIndex);
; 2952 : 
; 2953 : }

  0003f	8b 4d fc	 mov	 ecx, DWORD PTR __$ArrayPad$[ebp]
  00042	33 cd		 xor	 ecx, ebp
  00044	e8 00 00 00 00	 call	 @__security_check_cookie@4
  00049	8b e5		 mov	 esp, ebp
  0004b	5d		 pop	 ebp
  0004c	c3		 ret	 0
$LN2@FriendMemo:

; 2938 : 		return;
; 2939 : 	}
; 2940 : 
; 2941 : 	FHP_FRIEND_MEMO_RECV_REQ pMsg;
; 2942 : 
; 2943 : 	pMsg.h.set((LPBYTE)&pMsg, 0x72, sizeof(pMsg));
; 2944 : 	pMsg.MemoIndex = lpMsg->MemoIndex;

  0004d	0f b7 47 04	 movzx	 eax, WORD PTR [edi+4]

; 2948 : 	wsExDbCli.DataSend((PCHAR)&pMsg, pMsg.h.size);

  00051	b9 00 00 00 00	 mov	 ecx, OFFSET ?wsExDbCli@@3VwsJoinServerCli@@A ; wsExDbCli
  00056	66 89 75 ec	 mov	 WORD PTR _pMsg$[ebp+4], si
  0005a	66 89 45 ee	 mov	 WORD PTR _pMsg$[ebp+6], ax
  0005e	a1 00 00 00 00	 mov	 eax, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  00063	69 f6 40 27 00
	00		 imul	 esi, esi, 10048
; File c:\users\michel\desktop\source\gameserver\include\prodef.h

; 86   : 		lpBuf[0] = 0xC1;

  00069	66 c7 45 e8 c1
	12		 mov	 WORD PTR _pMsg$[ebp], 4801 ; 000012c1H

; 87   : 		lpBuf[1] = size;
; 88   : 		lpBuf[2] = head;

  0006f	c6 45 ea 72	 mov	 BYTE PTR _pMsg$[ebp+2], 114 ; 00000072H
; File c:\users\michel\desktop\source\gameserver\source\edsprotocol.cpp

; 2948 : 	wsExDbCli.DataSend((PCHAR)&pMsg, pMsg.h.size);

  00073	6a 12		 push	 18			; 00000012H
  00075	f3 0f 7e 44 06
	5d		 movq	 xmm0, QWORD PTR [esi+eax+93]
  0007b	66 0f d6 45 f0	 movq	 QWORD PTR _pMsg$[ebp+8], xmm0
  00080	0f b7 44 06 65	 movzx	 eax, WORD PTR [esi+eax+101]
  00085	66 89 45 f8	 mov	 WORD PTR _pMsg$[ebp+16], ax
  00089	8d 45 e8	 lea	 eax, DWORD PTR _pMsg$[ebp]
  0008c	50		 push	 eax
  0008d	e8 00 00 00 00	 call	 ?DataSend@wsJoinServerCli@@QAEHPADH@Z ; wsJoinServerCli::DataSend

; 2949 : 
; 2950 : 	LogAdd("[%s] Friend Mail read Index:%d", 

  00092	0f b7 47 04	 movzx	 eax, WORD PTR [edi+4]
  00096	50		 push	 eax
  00097	a1 00 00 00 00	 mov	 eax, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  0009c	83 c0 5d	 add	 eax, 93			; 0000005dH
  0009f	03 c6		 add	 eax, esi
  000a1	50		 push	 eax
  000a2	68 00 00 00 00	 push	 OFFSET ??_C@_0BP@DKLEPGIB@?$FL?$CFs?$FN?5Friend?5Mail?5read?5Index?3?$CFd?$AA@
  000a7	ff 15 00 00 00
	00		 call	 DWORD PTR ?LogAdd@@3P6AXPADZZA ; LogAdd

; 2951 : 		gObj[aIndex].Name, lpMsg->MemoIndex);
; 2952 : 
; 2953 : }

  000ad	8b 4d fc	 mov	 ecx, DWORD PTR __$ArrayPad$[ebp]
  000b0	83 c4 0c	 add	 esp, 12			; 0000000cH
  000b3	33 cd		 xor	 ecx, ebp
  000b5	5f		 pop	 edi
  000b6	5e		 pop	 esi
  000b7	e8 00 00 00 00	 call	 @__security_check_cookie@4
  000bc	8b e5		 mov	 esp, ebp
  000be	5d		 pop	 ebp
  000bf	c3		 ret	 0
?FriendMemoReadReq@@YAXPAUPMSG_FRIEND_READ_MEMO_REQ@@H@Z ENDP ; FriendMemoReadReq
_TEXT	ENDS
; Function compile flags: /Ogtp
; File c:\users\michel\desktop\source\gameserver\source\edsprotocol.cpp
; File c:\users\michel\desktop\source\gameserver\common\winutil.h
; File c:\users\michel\desktop\source\gameserver\source\edsprotocol.cpp
; File c:\users\michel\desktop\source\gameserver\common\winutil.h
; File c:\users\michel\desktop\source\gameserver\source\edsprotocol.cpp
; File c:\users\michel\desktop\source\gameserver\common\winutil.h
; File c:\users\michel\desktop\source\gameserver\source\edsprotocol.cpp
; File c:\users\michel\desktop\source\gameserver\include\prodef.h
; File c:\users\michel\desktop\source\gameserver\source\edsprotocol.cpp
;	COMDAT ?FriendMemoList@@YAXPAUFHP_FRIEND_MEMO_LIST@@@Z
_TEXT	SEGMENT
_pMsg$ = -204						; size = 108
_SendName$ = -96					; size = 11
_RecvName$ = -84					; size = 11
_subject$ = -72						; size = 33
_date$ = -36						; size = 31
__$ArrayPad$ = -4					; size = 4
_lpMsg$ = 8						; size = 4
?FriendMemoList@@YAXPAUFHP_FRIEND_MEMO_LIST@@@Z PROC	; FriendMemoList, COMDAT

; 2889 : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	81 ec cc 00 00
	00		 sub	 esp, 204		; 000000ccH
  00009	a1 00 00 00 00	 mov	 eax, DWORD PTR ___security_cookie
  0000e	33 c5		 xor	 eax, ebp
  00010	89 45 fc	 mov	 DWORD PTR __$ArrayPad$[ebp], eax
  00013	53		 push	 ebx
  00014	57		 push	 edi
  00015	8b 7d 08	 mov	 edi, DWORD PTR _lpMsg$[ebp]
  00018	0f 57 c0	 xorps	 xmm0, xmm0
; File c:\users\michel\desktop\source\gameserver\common\winutil.h

; 45   : 		memset(this->Name, 0, sizeof(this->Name));

  0001b	66 0f d6 45 a0	 movq	 QWORD PTR _SendName$[ebp], xmm0
  00020	66 c7 45 a8 00
	00		 mov	 WORD PTR _SendName$[ebp+8], 0
  00026	c6 45 aa 00	 mov	 BYTE PTR _SendName$[ebp+10], 0
; File c:\users\michel\desktop\source\gameserver\source\edsprotocol.cpp

; 2890 : 	char_ID SendName(lpMsg->SendName);

  0002a	8d 5f 08	 lea	 ebx, DWORD PTR [edi+8]
; File c:\users\michel\desktop\source\gameserver\common\winutil.h

; 47   : 		if ( szName != NULL )

  0002d	85 db		 test	 ebx, ebx
  0002f	74 11		 je	 SHORT $LN5@FriendMemo

; 48   : 		{
; 49   : 			memcpy(this->Name, szName, MAX_ACCOUNT_LEN);

  00031	f3 0f 7e 03	 movq	 xmm0, QWORD PTR [ebx]
  00035	66 8b 43 08	 mov	 ax, WORD PTR [ebx+8]
  00039	66 0f d6 45 a0	 movq	 QWORD PTR _SendName$[ebp], xmm0
  0003e	66 89 45 a8	 mov	 WORD PTR _SendName$[ebp+8], ax
$LN5@FriendMemo:
; File c:\users\michel\desktop\source\gameserver\source\edsprotocol.cpp

; 2891 : 	char_ID RecvName(lpMsg->RecvName);

  00042	8d 47 12	 lea	 eax, DWORD PTR [edi+18]
; File c:\users\michel\desktop\source\gameserver\common\winutil.h

; 45   : 		memset(this->Name, 0, sizeof(this->Name));

  00045	66 c7 45 b4 00
	00		 mov	 WORD PTR _RecvName$[ebp+8], 0
  0004b	c6 45 b6 00	 mov	 BYTE PTR _RecvName$[ebp+10], 0
  0004f	0f 57 c0	 xorps	 xmm0, xmm0
  00052	66 0f d6 45 ac	 movq	 QWORD PTR _RecvName$[ebp], xmm0

; 47   : 		if ( szName != NULL )

  00057	85 c0		 test	 eax, eax
  00059	74 11		 je	 SHORT $LN8@FriendMemo

; 48   : 		{
; 49   : 			memcpy(this->Name, szName, MAX_ACCOUNT_LEN);

  0005b	f3 0f 7e 00	 movq	 xmm0, QWORD PTR [eax]
  0005f	66 8b 40 08	 mov	 ax, WORD PTR [eax+8]
  00063	66 0f d6 45 ac	 movq	 QWORD PTR _RecvName$[ebp], xmm0
  00068	66 89 45 b4	 mov	 WORD PTR _RecvName$[ebp+8], ax
$LN8@FriendMemo:
; File c:\users\michel\desktop\source\gameserver\source\edsprotocol.cpp

; 2893 : 	if ( !gObjIsConnectedGP(lpMsg->Number, RecvName.GetBuffer()))

  0006c	8d 45 ac	 lea	 eax, DWORD PTR _RecvName$[ebp]
  0006f	50		 push	 eax
  00070	0f b7 47 04	 movzx	 eax, WORD PTR [edi+4]
  00074	50		 push	 eax
  00075	e8 00 00 00 00	 call	 ?gObjIsConnectedGP@@YAHHPAD@Z ; gObjIsConnectedGP
  0007a	83 c4 08	 add	 esp, 8
  0007d	85 c0		 test	 eax, eax
  0007f	75 28		 jne	 SHORT $LN2@FriendMemo

; 2894 : 	{
; 2895 : 		LogAddTD("error-L2 : Index %s %d", __FILE__, __LINE__);

  00081	68 4f 0b 00 00	 push	 2895			; 00000b4fH
  00086	68 00 00 00 00	 push	 OFFSET ??_C@_0BA@FCCBMCDG@EDSProtocol?4cpp?$AA@
  0008b	68 00 00 00 00	 push	 OFFSET ??_C@_0BH@LCDOHCGD@error?9L2?5?3?5Index?5?$CFs?5?$CFd?$AA@
  00090	ff 15 00 00 00
	00		 call	 DWORD PTR ?LogAddTD@@3P6AXPADZZA ; LogAddTD
  00096	83 c4 0c	 add	 esp, 12			; 0000000cH
  00099	5f		 pop	 edi
  0009a	5b		 pop	 ebx

; 2919 : 		SendName.GetBuffer(), memoindex, date, RecvName.GetBuffer(), subject);
; 2920 : }

  0009b	8b 4d fc	 mov	 ecx, DWORD PTR __$ArrayPad$[ebp]
  0009e	33 cd		 xor	 ecx, ebp
  000a0	e8 00 00 00 00	 call	 @__security_check_cookie@4
  000a5	8b e5		 mov	 esp, ebp
  000a7	5d		 pop	 ebp
  000a8	c3		 ret	 0
$LN2@FriendMemo:
  000a9	0f 57 c0	 xorps	 xmm0, xmm0

; 2896 : 		return;
; 2897 : 	}
; 2898 : 
; 2899 : 	int memoindex;
; 2900 : 	char subject[33]="";
; 2901 : 	char date[31]="";
; 2902 : 
; 2903 : 	memoindex = lpMsg->MemoIndex;
; 2904 : 	memcpy(subject, lpMsg->Subject, sizeof(lpMsg->Subject));
; 2905 : 	memcpy(date, lpMsg->Date, sizeof(lpMsg->Date));

  000ac	8b 47 34	 mov	 eax, DWORD PTR [edi+52]
  000af	0f 11 45 b9	 movups	 XMMWORD PTR _subject$[ebp+1], xmm0
  000b3	c7 45 f5 00 00
	00 00		 mov	 DWORD PTR _date$[ebp+25], 0
  000ba	0f 11 45 dd	 movups	 XMMWORD PTR _date$[ebp+1], xmm0
  000be	66 c7 45 f9 00
	00		 mov	 WORD PTR _date$[ebp+29], 0
  000c4	66 0f d6 45 ed	 movq	 QWORD PTR _date$[ebp+17], xmm0
  000c9	0f 11 45 c9	 movups	 XMMWORD PTR _subject$[ebp+17], xmm0
  000cd	89 45 f4	 mov	 DWORD PTR _date$[ebp+24], eax
  000d0	0f 10 47 3a	 movups	 xmm0, XMMWORD PTR [edi+58]
  000d4	0f b7 47 38	 movzx	 eax, WORD PTR [edi+56]
  000d8	66 89 45 f8	 mov	 WORD PTR _date$[ebp+28], ax

; 2906 : 
; 2907 : 	PMSG_FRIEND_MEMO_LIST pMsg;
; 2908 : 
; 2909 : 	pMsg.h.setE((LPBYTE)&pMsg, 0xC6, sizeof(pMsg));
; 2910 : 	memcpy(pMsg.Date, lpMsg->Date, sizeof(pMsg.Date));

  000dc	8b 47 34	 mov	 eax, DWORD PTR [edi+52]
  000df	0f 11 45 b8	 movups	 XMMWORD PTR _subject$[ebp], xmm0
  000e3	89 85 5c ff ff
	ff		 mov	 DWORD PTR _pMsg$[ebp+40], eax
  000e9	0f 10 47 4a	 movups	 xmm0, XMMWORD PTR [edi+74]
  000ed	0f b7 47 38	 movzx	 eax, WORD PTR [edi+56]
  000f1	66 89 85 60 ff
	ff ff		 mov	 WORD PTR _pMsg$[ebp+44], ax

; 2911 : 	memcpy(pMsg.Name, lpMsg->SendName, sizeof(pMsg.Name));

  000f8	0f b7 43 08	 movzx	 eax, WORD PTR [ebx+8]
  000fc	0f 11 45 c8	 movups	 XMMWORD PTR _subject$[ebp+16], xmm0
  00100	66 89 85 42 ff
	ff ff		 mov	 WORD PTR _pMsg$[ebp+14], ax
  00107	0f 10 47 1c	 movups	 xmm0, XMMWORD PTR [edi+28]

; 2912 : 	memcpy(pMsg.Subject, lpMsg->Subject, sizeof(pMsg.Subject));

  0010b	8b 47 72	 mov	 eax, DWORD PTR [edi+114]
  0010e	89 45 9a	 mov	 DWORD PTR _pMsg$[ebp+102], eax

; 2914 : 	pMsg.read = lpMsg->read;

  00111	8a 47 5a	 mov	 al, BYTE PTR [edi+90]
  00114	0f 11 45 dc	 movups	 XMMWORD PTR _date$[ebp], xmm0
  00118	56		 push	 esi
  00119	f3 0f 7e 47 2c	 movq	 xmm0, QWORD PTR [edi+44]
  0011e	66 0f d6 45 ec	 movq	 QWORD PTR _date$[ebp+16], xmm0
  00123	0f 10 47 1c	 movups	 xmm0, XMMWORD PTR [edi+28]
  00127	0f b7 77 06	 movzx	 esi, WORD PTR [edi+6]
  0012b	88 45 9e	 mov	 BYTE PTR _pMsg$[ebp+106], al

; 2915 : 
; 2916 : 	DataSend(lpMsg->Number, (LPBYTE)&pMsg, sizeof(pMsg));

  0012e	8d 85 34 ff ff
	ff		 lea	 eax, DWORD PTR _pMsg$[ebp]
  00134	0f 11 85 44 ff
	ff ff		 movups	 XMMWORD PTR _pMsg$[ebp+16], xmm0
  0013b	6a 6c		 push	 108			; 0000006cH
  0013d	f3 0f 7e 47 2c	 movq	 xmm0, QWORD PTR [edi+44]
  00142	66 0f d6 85 54
	ff ff ff	 movq	 QWORD PTR _pMsg$[ebp+32], xmm0
  0014a	f3 0f 7e 03	 movq	 xmm0, QWORD PTR [ebx]
  0014e	66 0f d6 85 3a
	ff ff ff	 movq	 QWORD PTR _pMsg$[ebp+6], xmm0
  00156	0f 10 47 3a	 movups	 xmm0, XMMWORD PTR [edi+58]
  0015a	50		 push	 eax
  0015b	0f b7 47 04	 movzx	 eax, WORD PTR [edi+4]
  0015f	0f 11 85 62 ff
	ff ff		 movups	 XMMWORD PTR _pMsg$[ebp+46], xmm0
  00166	50		 push	 eax
  00167	0f 10 47 4a	 movups	 xmm0, XMMWORD PTR [edi+74]
; File c:\users\michel\desktop\source\gameserver\include\prodef.h

; 93   : 		lpBuf[0] = 0xC3;

  0016b	66 c7 85 34 ff
	ff ff c3 6c	 mov	 WORD PTR _pMsg$[ebp], 27843 ; 00006cc3H

; 94   : 		lpBuf[1] = size;
; 95   : 		lpBuf[2] = head;

  00174	c6 85 36 ff ff
	ff c6		 mov	 BYTE PTR _pMsg$[ebp+2], 198 ; 000000c6H
; File c:\users\michel\desktop\source\gameserver\source\edsprotocol.cpp

; 2912 : 	memcpy(pMsg.Subject, lpMsg->Subject, sizeof(pMsg.Subject));

  0017b	0f 11 85 72 ff
	ff ff		 movups	 XMMWORD PTR _pMsg$[ebp+62], xmm0

; 2913 : 	pMsg.Number = memoindex;	// #warning maybe here and error Deathway

  00182	66 89 b5 38 ff
	ff ff		 mov	 WORD PTR _pMsg$[ebp+4], si
  00189	0f 10 47 5a	 movups	 xmm0, XMMWORD PTR [edi+90]
  0018d	0f 11 45 82	 movups	 XMMWORD PTR _pMsg$[ebp+78], xmm0
  00191	f3 0f 7e 47 6a	 movq	 xmm0, QWORD PTR [edi+106]
  00196	66 0f d6 45 92	 movq	 QWORD PTR _pMsg$[ebp+94], xmm0

; 2915 : 
; 2916 : 	DataSend(lpMsg->Number, (LPBYTE)&pMsg, sizeof(pMsg));

  0019b	e8 00 00 00 00	 call	 ?DataSend@@YAHHPAEK@Z	; DataSend

; 2917 : 	
; 2918 : 	LogAdd("[%s] Friend Mail list : (%d:%10s:%s:%s)",

  001a0	8d 45 b8	 lea	 eax, DWORD PTR _subject$[ebp]
  001a3	50		 push	 eax
  001a4	8d 45 ac	 lea	 eax, DWORD PTR _RecvName$[ebp]
  001a7	50		 push	 eax
  001a8	8d 45 dc	 lea	 eax, DWORD PTR _date$[ebp]
  001ab	50		 push	 eax
  001ac	56		 push	 esi
  001ad	8d 45 a0	 lea	 eax, DWORD PTR _SendName$[ebp]
  001b0	50		 push	 eax
  001b1	68 00 00 00 00	 push	 OFFSET ??_C@_0CI@INBOEHDN@?$FL?$CFs?$FN?5Friend?5Mail?5list?5?3?5?$CI?$CFd?3?$CF10s@
  001b6	ff 15 00 00 00
	00		 call	 DWORD PTR ?LogAdd@@3P6AXPADZZA ; LogAdd

; 2919 : 		SendName.GetBuffer(), memoindex, date, RecvName.GetBuffer(), subject);
; 2920 : }

  001bc	8b 4d fc	 mov	 ecx, DWORD PTR __$ArrayPad$[ebp]
  001bf	83 c4 24	 add	 esp, 36			; 00000024H
  001c2	33 cd		 xor	 ecx, ebp
  001c4	5e		 pop	 esi
  001c5	5f		 pop	 edi
  001c6	5b		 pop	 ebx
  001c7	e8 00 00 00 00	 call	 @__security_check_cookie@4
  001cc	8b e5		 mov	 esp, ebp
  001ce	5d		 pop	 ebp
  001cf	c3		 ret	 0
?FriendMemoList@@YAXPAUFHP_FRIEND_MEMO_LIST@@@Z ENDP	; FriendMemoList
_TEXT	ENDS
; Function compile flags: /Ogtp
; File c:\users\michel\desktop\source\gameserver\source\edsprotocol.cpp
; File c:\users\michel\desktop\source\gameserver\include\prodef.h
; File c:\users\michel\desktop\source\gameserver\source\edsprotocol.cpp
;	COMDAT ?FriendMemoListReq@@YAXH@Z
_TEXT	SEGMENT
_pMsg$ = -20						; size = 16
__$ArrayPad$ = -4					; size = 4
_aIndex$ = 8						; size = 4
?FriendMemoListReq@@YAXH@Z PROC				; FriendMemoListReq, COMDAT

; 2857 : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	83 ec 14	 sub	 esp, 20			; 00000014H
  00006	a1 00 00 00 00	 mov	 eax, DWORD PTR ___security_cookie
  0000b	33 c5		 xor	 eax, ebp
  0000d	89 45 fc	 mov	 DWORD PTR __$ArrayPad$[ebp], eax
  00010	56		 push	 esi
  00011	8b 75 08	 mov	 esi, DWORD PTR _aIndex$[ebp]

; 2858 : 	if ( !gObjIsConnectedGP(aIndex))

  00014	56		 push	 esi
  00015	e8 00 00 00 00	 call	 ?gObjIsConnectedGP@@YAHH@Z ; gObjIsConnectedGP
  0001a	83 c4 04	 add	 esp, 4
  0001d	85 c0		 test	 eax, eax
  0001f	75 27		 jne	 SHORT $LN2@FriendMemo

; 2859 : 	{
; 2860 : 		LogAddTD("error-L2 : Index %s %d", __FILE__, __LINE__);

  00021	68 2c 0b 00 00	 push	 2860			; 00000b2cH
  00026	68 00 00 00 00	 push	 OFFSET ??_C@_0BA@FCCBMCDG@EDSProtocol?4cpp?$AA@
  0002b	68 00 00 00 00	 push	 OFFSET ??_C@_0BH@LCDOHCGD@error?9L2?5?3?5Index?5?$CFs?5?$CFd?$AA@
  00030	ff 15 00 00 00
	00		 call	 DWORD PTR ?LogAddTD@@3P6AXPADZZA ; LogAddTD
  00036	83 c4 0c	 add	 esp, 12			; 0000000cH
  00039	5e		 pop	 esi

; 2873 : }

  0003a	8b 4d fc	 mov	 ecx, DWORD PTR __$ArrayPad$[ebp]
  0003d	33 cd		 xor	 ecx, ebp
  0003f	e8 00 00 00 00	 call	 @__security_check_cookie@4
  00044	8b e5		 mov	 esp, ebp
  00046	5d		 pop	 ebp
  00047	c3		 ret	 0
$LN2@FriendMemo:

; 2861 : 		return;
; 2862 : 	}
; 2863 : 
; 2864 : 	FHP_FRIEND_MEMO_LIST_REQ pMsg;
; 2865 : 
; 2866 : 	pMsg.h.set((LPBYTE)&pMsg, 0x71, sizeof(pMsg));
; 2867 : 	pMsg.Number = aIndex;
; 2868 : 	memcpy(pMsg.Name, gObj[aIndex].Name, sizeof(pMsg.Name));

  00048	a1 00 00 00 00	 mov	 eax, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj

; 2870 : 	wsExDbCli.DataSend((PCHAR)&pMsg, pMsg.h.size);

  0004d	b9 00 00 00 00	 mov	 ecx, OFFSET ?wsExDbCli@@3VwsJoinServerCli@@A ; wsExDbCli
  00052	66 89 75 f0	 mov	 WORD PTR _pMsg$[ebp+4], si
  00056	69 f6 40 27 00
	00		 imul	 esi, esi, 10048
; File c:\users\michel\desktop\source\gameserver\include\prodef.h

; 86   : 		lpBuf[0] = 0xC1;

  0005c	66 c7 45 ec c1
	10		 mov	 WORD PTR _pMsg$[ebp], 4289 ; 000010c1H

; 87   : 		lpBuf[1] = size;
; 88   : 		lpBuf[2] = head;

  00062	c6 45 ee 71	 mov	 BYTE PTR _pMsg$[ebp+2], 113 ; 00000071H
; File c:\users\michel\desktop\source\gameserver\source\edsprotocol.cpp

; 2870 : 	wsExDbCli.DataSend((PCHAR)&pMsg, pMsg.h.size);

  00066	6a 10		 push	 16			; 00000010H
  00068	f3 0f 7e 44 06
	5d		 movq	 xmm0, QWORD PTR [esi+eax+93]
  0006e	66 0f d6 45 f2	 movq	 QWORD PTR _pMsg$[ebp+6], xmm0
  00073	66 8b 44 06 65	 mov	 ax, WORD PTR [esi+eax+101]
  00078	66 89 45 fa	 mov	 WORD PTR _pMsg$[ebp+14], ax
  0007c	8d 45 ec	 lea	 eax, DWORD PTR _pMsg$[ebp]
  0007f	50		 push	 eax
  00080	e8 00 00 00 00	 call	 ?DataSend@wsJoinServerCli@@QAEHPADH@Z ; wsJoinServerCli::DataSend

; 2871 : 
; 2872 : 	LogAdd("[%s] Friend mail list request", gObj[aIndex].Name);

  00085	a1 00 00 00 00	 mov	 eax, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  0008a	83 c0 5d	 add	 eax, 93			; 0000005dH
  0008d	03 c6		 add	 eax, esi
  0008f	50		 push	 eax
  00090	68 00 00 00 00	 push	 OFFSET ??_C@_0BO@BLCCADHK@?$FL?$CFs?$FN?5Friend?5mail?5list?5request?$AA@
  00095	ff 15 00 00 00
	00		 call	 DWORD PTR ?LogAdd@@3P6AXPADZZA ; LogAdd

; 2873 : }

  0009b	8b 4d fc	 mov	 ecx, DWORD PTR __$ArrayPad$[ebp]
  0009e	83 c4 08	 add	 esp, 8
  000a1	33 cd		 xor	 ecx, ebp
  000a3	5e		 pop	 esi
  000a4	e8 00 00 00 00	 call	 @__security_check_cookie@4
  000a9	8b e5		 mov	 esp, ebp
  000ab	5d		 pop	 ebp
  000ac	c3		 ret	 0
?FriendMemoListReq@@YAXH@Z ENDP				; FriendMemoListReq
_TEXT	ENDS
; Function compile flags: /Ogtp
; File c:\users\michel\desktop\source\gameserver\source\edsprotocol.cpp
; File c:\users\michel\desktop\source\gameserver\common\winutil.h
; File c:\users\michel\desktop\source\gameserver\source\edsprotocol.cpp
; File c:\users\michel\desktop\source\gameserver\common\winutil.h
; File c:\users\michel\desktop\source\gameserver\source\edsprotocol.cpp
; File c:\users\michel\desktop\source\gameserver\include\prodef.h
; File c:\users\michel\desktop\source\gameserver\source\edsprotocol.cpp
;	COMDAT ?FriendMemoSendResult@@YAXPAUFHP_FRIEND_MEMO_SEND_RESULT@@@Z
_TEXT	SEGMENT
_pMsg$ = -24						; size = 8
_Name$ = -16						; size = 11
__$ArrayPad$ = -4					; size = 4
_lpMsg$ = 8						; size = 4
?FriendMemoSendResult@@YAXPAUFHP_FRIEND_MEMO_SEND_RESULT@@@Z PROC ; FriendMemoSendResult, COMDAT

; 2814 : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	83 ec 18	 sub	 esp, 24			; 00000018H
  00006	a1 00 00 00 00	 mov	 eax, DWORD PTR ___security_cookie
  0000b	33 c5		 xor	 eax, ebp
  0000d	89 45 fc	 mov	 DWORD PTR __$ArrayPad$[ebp], eax
  00010	56		 push	 esi
  00011	8b 75 08	 mov	 esi, DWORD PTR _lpMsg$[ebp]
  00014	0f 57 c0	 xorps	 xmm0, xmm0
; File c:\users\michel\desktop\source\gameserver\common\winutil.h

; 45   : 		memset(this->Name, 0, sizeof(this->Name));

  00017	66 0f d6 45 f0	 movq	 QWORD PTR _Name$[ebp], xmm0
  0001c	66 c7 45 f8 00
	00		 mov	 WORD PTR _Name$[ebp+8], 0
  00022	c6 45 fa 00	 mov	 BYTE PTR _Name$[ebp+10], 0
; File c:\users\michel\desktop\source\gameserver\source\edsprotocol.cpp

; 2815 : 	char_ID Name(lpMsg->Name);

  00026	8d 46 06	 lea	 eax, DWORD PTR [esi+6]
; File c:\users\michel\desktop\source\gameserver\common\winutil.h

; 47   : 		if ( szName != NULL )

  00029	85 c0		 test	 eax, eax
  0002b	74 11		 je	 SHORT $LN7@FriendMemo

; 48   : 		{
; 49   : 			memcpy(this->Name, szName, MAX_ACCOUNT_LEN);

  0002d	f3 0f 7e 00	 movq	 xmm0, QWORD PTR [eax]
  00031	66 8b 40 08	 mov	 ax, WORD PTR [eax+8]
  00035	66 0f d6 45 f0	 movq	 QWORD PTR _Name$[ebp], xmm0
  0003a	66 89 45 f8	 mov	 WORD PTR _Name$[ebp+8], ax
$LN7@FriendMemo:
; File c:\users\michel\desktop\source\gameserver\source\edsprotocol.cpp

; 2817 : 	if ( !strcmp(Name.GetBuffer(), "webzen"))	// #warning Deathway

  0003e	b9 00 00 00 00	 mov	 ecx, OFFSET ??_C@_06EBHHHLPK@webzen?$AA@
  00043	8d 45 f0	 lea	 eax, DWORD PTR _Name$[ebp]
$LL15@FriendMemo:
  00046	8a 10		 mov	 dl, BYTE PTR [eax]
  00048	3a 11		 cmp	 dl, BYTE PTR [ecx]
  0004a	75 1a		 jne	 SHORT $LN16@FriendMemo
  0004c	84 d2		 test	 dl, dl
  0004e	74 12		 je	 SHORT $LN17@FriendMemo
  00050	8a 50 01	 mov	 dl, BYTE PTR [eax+1]
  00053	3a 51 01	 cmp	 dl, BYTE PTR [ecx+1]
  00056	75 0e		 jne	 SHORT $LN16@FriendMemo
  00058	83 c0 02	 add	 eax, 2
  0005b	83 c1 02	 add	 ecx, 2
  0005e	84 d2		 test	 dl, dl
  00060	75 e4		 jne	 SHORT $LL15@FriendMemo
$LN17@FriendMemo:
  00062	33 c0		 xor	 eax, eax
  00064	eb 05		 jmp	 SHORT $LN18@FriendMemo
$LN16@FriendMemo:
  00066	1b c0		 sbb	 eax, eax
  00068	83 c8 01	 or	 eax, 1
$LN18@FriendMemo:
  0006b	85 c0		 test	 eax, eax
  0006d	75 22		 jne	 SHORT $LN2@FriendMemo

; 2818 : 	{
; 2819 : 		LogAdd("JoinServer Send Mail result : (%d)", lpMsg->Result);

  0006f	0f b6 46 10	 movzx	 eax, BYTE PTR [esi+16]
  00073	50		 push	 eax
  00074	68 00 00 00 00	 push	 OFFSET ??_C@_0CD@EFIPOPHK@JoinServer?5Send?5Mail?5result?5?3?5?$CI?$CF@
  00079	ff 15 00 00 00
	00		 call	 DWORD PTR ?LogAdd@@3P6AXPADZZA ; LogAdd
  0007f	83 c4 08	 add	 esp, 8
  00082	5e		 pop	 esi

; 2843 : 	}
; 2844 : }

  00083	8b 4d fc	 mov	 ecx, DWORD PTR __$ArrayPad$[ebp]
  00086	33 cd		 xor	 ecx, ebp
  00088	e8 00 00 00 00	 call	 @__security_check_cookie@4
  0008d	8b e5		 mov	 esp, ebp
  0008f	5d		 pop	 ebp
  00090	c3		 ret	 0
$LN2@FriendMemo:

; 2820 : 		return;
; 2821 : 	}
; 2822 : 
; 2823 : 	if ( !gObjIsConnectedGP(lpMsg->Number, Name.GetBuffer()))

  00091	8d 45 f0	 lea	 eax, DWORD PTR _Name$[ebp]
  00094	50		 push	 eax
  00095	0f bf 46 04	 movsx	 eax, WORD PTR [esi+4]
  00099	50		 push	 eax
  0009a	e8 00 00 00 00	 call	 ?gObjIsConnectedGP@@YAHHPAD@Z ; gObjIsConnectedGP
  0009f	83 c4 08	 add	 esp, 8
  000a2	85 c0		 test	 eax, eax
  000a4	75 27		 jne	 SHORT $LN3@FriendMemo

; 2824 : 	{
; 2825 : 		LogAddTD("error-L2 : Index %s %d", __FILE__, __LINE__);

  000a6	68 09 0b 00 00	 push	 2825			; 00000b09H
  000ab	68 00 00 00 00	 push	 OFFSET ??_C@_0BA@FCCBMCDG@EDSProtocol?4cpp?$AA@
  000b0	68 00 00 00 00	 push	 OFFSET ??_C@_0BH@LCDOHCGD@error?9L2?5?3?5Index?5?$CFs?5?$CFd?$AA@
  000b5	ff 15 00 00 00
	00		 call	 DWORD PTR ?LogAddTD@@3P6AXPADZZA ; LogAddTD

; 2841 : 	{
; 2842 : 		WithdrawUserMoney("Mail", &gObj[lpMsg->Number], 1000);

  000bb	83 c4 0c	 add	 esp, 12			; 0000000cH
  000be	5e		 pop	 esi

; 2843 : 	}
; 2844 : }

  000bf	8b 4d fc	 mov	 ecx, DWORD PTR __$ArrayPad$[ebp]
  000c2	33 cd		 xor	 ecx, ebp
  000c4	e8 00 00 00 00	 call	 @__security_check_cookie@4
  000c9	8b e5		 mov	 esp, ebp
  000cb	5d		 pop	 ebp
  000cc	c3		 ret	 0
$LN3@FriendMemo:

; 2826 : 		return;
; 2827 : 	}
; 2828 : 
; 2829 : 	PMSG_FRIEND_MEMO_RESULT pMsg;
; 2830 : 
; 2831 : 	pMsg.h.set((LPBYTE)&pMsg, 0xC5, sizeof(pMsg));
; 2832 : 	pMsg.Result = lpMsg->Result;

  000cd	8a 46 10	 mov	 al, BYTE PTR [esi+16]
  000d0	88 45 eb	 mov	 BYTE PTR _pMsg$[ebp+3], al

; 2833 : 	pMsg.WindowGuid = lpMsg->WindowGuid;

  000d3	8b 46 14	 mov	 eax, DWORD PTR [esi+20]
  000d6	89 45 ec	 mov	 DWORD PTR _pMsg$[ebp+4], eax

; 2835 : 	DataSend(lpMsg->Number, (LPBYTE)&pMsg, sizeof(pMsg));

  000d9	8d 45 e8	 lea	 eax, DWORD PTR _pMsg$[ebp]
  000dc	6a 08		 push	 8
  000de	50		 push	 eax
  000df	0f bf 46 04	 movsx	 eax, WORD PTR [esi+4]
  000e3	50		 push	 eax
; File c:\users\michel\desktop\source\gameserver\include\prodef.h

; 86   : 		lpBuf[0] = 0xC1;

  000e4	66 c7 45 e8 c1
	08		 mov	 WORD PTR _pMsg$[ebp], 2241 ; 000008c1H

; 87   : 		lpBuf[1] = size;
; 88   : 		lpBuf[2] = head;

  000ea	c6 45 ea c5	 mov	 BYTE PTR _pMsg$[ebp+2], 197 ; 000000c5H
; File c:\users\michel\desktop\source\gameserver\source\edsprotocol.cpp

; 2835 : 	DataSend(lpMsg->Number, (LPBYTE)&pMsg, sizeof(pMsg));

  000ee	e8 00 00 00 00	 call	 ?DataSend@@YAHHPAEK@Z	; DataSend

; 2836 : 
; 2837 : 	LogAdd("[%s] Friend mail Send result : (%d) guid:(%d)",

  000f3	ff 76 14	 push	 DWORD PTR [esi+20]
  000f6	0f b6 46 10	 movzx	 eax, BYTE PTR [esi+16]
  000fa	50		 push	 eax
  000fb	0f bf 46 04	 movsx	 eax, WORD PTR [esi+4]
  000ff	69 c8 40 27 00
	00		 imul	 ecx, eax, 10048
  00105	a1 00 00 00 00	 mov	 eax, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  0010a	83 c0 5d	 add	 eax, 93			; 0000005dH
  0010d	03 c1		 add	 eax, ecx
  0010f	50		 push	 eax
  00110	68 00 00 00 00	 push	 OFFSET ??_C@_0CO@FGOJBJPG@?$FL?$CFs?$FN?5Friend?5mail?5Send?5result?5?3?5?$CI@
  00115	ff 15 00 00 00
	00		 call	 DWORD PTR ?LogAdd@@3P6AXPADZZA ; LogAdd
  0011b	83 c4 1c	 add	 esp, 28			; 0000001cH

; 2838 : 		gObj[lpMsg->Number].Name, lpMsg->Result, lpMsg->WindowGuid);
; 2839 : 
; 2840 : 	if ( pMsg.Result == 1 )

  0011e	80 7d eb 01	 cmp	 BYTE PTR _pMsg$[ebp+3], 1
  00122	75 23		 jne	 SHORT $LN4@FriendMemo

; 2841 : 	{
; 2842 : 		WithdrawUserMoney("Mail", &gObj[lpMsg->Number], 1000);

  00124	0f bf 46 04	 movsx	 eax, WORD PTR [esi+4]
  00128	69 c0 40 27 00
	00		 imul	 eax, eax, 10048
  0012e	68 e8 03 00 00	 push	 1000			; 000003e8H
  00133	03 05 00 00 00
	00		 add	 eax, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  00139	50		 push	 eax
  0013a	68 00 00 00 00	 push	 OFFSET ??_C@_04JEGKNAHI@Mail?$AA@
  0013f	e8 00 00 00 00	 call	 ?WithdrawUserMoney@@YAHPADPAUOBJECTSTRUCT@@H@Z ; WithdrawUserMoney
  00144	83 c4 0c	 add	 esp, 12			; 0000000cH
$LN4@FriendMemo:

; 2843 : 	}
; 2844 : }

  00147	8b 4d fc	 mov	 ecx, DWORD PTR __$ArrayPad$[ebp]
  0014a	33 cd		 xor	 ecx, ebp
  0014c	5e		 pop	 esi
  0014d	e8 00 00 00 00	 call	 @__security_check_cookie@4
  00152	8b e5		 mov	 esp, ebp
  00154	5d		 pop	 ebp
  00155	c3		 ret	 0
?FriendMemoSendResult@@YAXPAUFHP_FRIEND_MEMO_SEND_RESULT@@@Z ENDP ; FriendMemoSendResult
_TEXT	ENDS
; Function compile flags: /Ogtp
; File c:\users\michel\desktop\source\gameserver\source\edsprotocol.cpp
;	COMDAT ?WithdrawUserMoney@@YAHPADPAUOBJECTSTRUCT@@H@Z
_TEXT	SEGMENT
_Type$ = 8						; size = 4
_lpObj$ = 12						; size = 4
_Withdraw_Money$ = 16					; size = 4
?WithdrawUserMoney@@YAHPADPAUOBJECTSTRUCT@@H@Z PROC	; WithdrawUserMoney, COMDAT

; 2784 : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	53		 push	 ebx
  00004	56		 push	 esi

; 2785 : 	int oldmoney;
; 2786 : 
; 2787 : 	if ( (lpObj->Money - Withdraw_Money) >= 0 )

  00005	8b 75 0c	 mov	 esi, DWORD PTR _lpObj$[ebp]
  00008	8b 9e cc 00 00
	00		 mov	 ebx, DWORD PTR [esi+204]
  0000e	8b c3		 mov	 eax, ebx
  00010	2b 45 10	 sub	 eax, DWORD PTR _Withdraw_Money$[ebp]
  00013	78 3a		 js	 SHORT $LN2@WithdrawUs

; 2788 : 	{
; 2789 : 		oldmoney = lpObj->Money;
; 2790 : 		lpObj->Money -= Withdraw_Money;
; 2791 : 
; 2792 : 		GCMoneySend(lpObj->m_Index, lpObj->Money);

  00015	50		 push	 eax
  00016	ff 36		 push	 DWORD PTR [esi]
  00018	89 86 cc 00 00
	00		 mov	 DWORD PTR [esi+204], eax
  0001e	e8 00 00 00 00	 call	 ?GCMoneySend@@YAXHK@Z	; GCMoneySend

; 2793 : 		
; 2794 : 		LogAdd("[%s][%s] (%s) Pay Money(In Inventory) : %d - %d = %d",

  00023	ff b6 cc 00 00
	00		 push	 DWORD PTR [esi+204]
  00029	8d 46 5d	 lea	 eax, DWORD PTR [esi+93]
  0002c	ff 75 10	 push	 DWORD PTR _Withdraw_Money$[ebp]
  0002f	53		 push	 ebx
  00030	ff 75 08	 push	 DWORD PTR _Type$[ebp]
  00033	50		 push	 eax
  00034	8d 46 52	 lea	 eax, DWORD PTR [esi+82]
  00037	50		 push	 eax
  00038	68 00 00 00 00	 push	 OFFSET ??_C@_0DF@HMMPGHMB@?$FL?$CFs?$FN?$FL?$CFs?$FN?5?$CI?$CFs?$CJ?5Pay?5Money?$CIIn?5Inven@
  0003d	ff 15 00 00 00
	00		 call	 DWORD PTR ?LogAdd@@3P6AXPADZZA ; LogAdd
  00043	83 c4 24	 add	 esp, 36			; 00000024H

; 2795 : 			lpObj->AccountID, lpObj->Name, Type, oldmoney, Withdraw_Money, lpObj->Money);
; 2796 : 
; 2797 : 		return TRUE;

  00046	b8 01 00 00 00	 mov	 eax, 1
  0004b	5e		 pop	 esi
  0004c	5b		 pop	 ebx

; 2801 : }

  0004d	5d		 pop	 ebp
  0004e	c3		 ret	 0
$LN2@WithdrawUs:
  0004f	5e		 pop	 esi

; 2798 : 	}
; 2799 : 
; 2800 : 	return FALSE;

  00050	33 c0		 xor	 eax, eax
  00052	5b		 pop	 ebx

; 2801 : }

  00053	5d		 pop	 ebp
  00054	c3		 ret	 0
?WithdrawUserMoney@@YAHPADPAUOBJECTSTRUCT@@H@Z ENDP	; WithdrawUserMoney
_TEXT	ENDS
; Function compile flags: /Ogtp
; File c:\users\michel\desktop\source\gameserver\source\edsprotocol.cpp
; File c:\users\michel\desktop\source\gameserver\common\winutil.h
; File c:\users\michel\desktop\source\gameserver\source\edsprotocol.cpp
; File c:\users\michel\desktop\source\gameserver\common\winutil.h
; File c:\users\michel\desktop\source\gameserver\source\edsprotocol.cpp
; File c:\users\michel\desktop\source\gameserver\common\winutil.h
; File c:\users\michel\desktop\source\gameserver\source\edsprotocol.cpp
; File c:\users\michel\desktop\source\gameserver\include\prodef.h
; File c:\users\michel\desktop\source\gameserver\source\edsprotocol.cpp
; File c:\users\michel\desktop\source\gameserver\include\prodef.h
; File c:\users\michel\desktop\source\gameserver\source\edsprotocol.cpp
;	COMDAT ?MngFriendMemoSend@@YAXPAUPMSG_JG_MEMO_SEND@@@Z
_TEXT	SEGMENT
_pMsg$ = -1104						; size = 1088
_Name$ = -16						; size = 11
__$ArrayPad$ = -4					; size = 4
_lpMsg$ = 8						; size = 4
?MngFriendMemoSend@@YAXPAUPMSG_JG_MEMO_SEND@@@Z PROC	; MngFriendMemoSend, COMDAT

; 2749 : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	81 ec 50 04 00
	00		 sub	 esp, 1104		; 00000450H
  00009	a1 00 00 00 00	 mov	 eax, DWORD PTR ___security_cookie
  0000e	33 c5		 xor	 eax, ebp
  00010	89 45 fc	 mov	 DWORD PTR __$ArrayPad$[ebp], eax
  00013	56		 push	 esi
  00014	8b 75 08	 mov	 esi, DWORD PTR _lpMsg$[ebp]
  00017	0f 57 c0	 xorps	 xmm0, xmm0
  0001a	57		 push	 edi
; File c:\users\michel\desktop\source\gameserver\common\winutil.h

; 45   : 		memset(this->Name, 0, sizeof(this->Name));

  0001b	66 0f d6 45 f0	 movq	 QWORD PTR _Name$[ebp], xmm0
  00020	66 c7 45 f8 00
	00		 mov	 WORD PTR _Name$[ebp+8], 0
; File c:\users\michel\desktop\source\gameserver\source\edsprotocol.cpp

; 2750 : 	char_ID Name(lpMsg->Name);

  00026	8d 56 04	 lea	 edx, DWORD PTR [esi+4]
; File c:\users\michel\desktop\source\gameserver\common\winutil.h

; 45   : 		memset(this->Name, 0, sizeof(this->Name));

  00029	c6 45 fa 00	 mov	 BYTE PTR _Name$[ebp+10], 0

; 46   : 
; 47   : 		if ( szName != NULL )

  0002d	85 d2		 test	 edx, edx
  0002f	74 11		 je	 SHORT $LN7@MngFriendM

; 48   : 		{
; 49   : 			memcpy(this->Name, szName, MAX_ACCOUNT_LEN);

  00031	f3 0f 7e 02	 movq	 xmm0, QWORD PTR [edx]
  00035	66 8b 42 08	 mov	 ax, WORD PTR [edx+8]
  00039	66 0f d6 45 f0	 movq	 QWORD PTR _Name$[ebp], xmm0
  0003e	66 89 45 f8	 mov	 WORD PTR _Name$[ebp+8], ax
$LN7@MngFriendM:
; File c:\users\michel\desktop\source\gameserver\source\edsprotocol.cpp

; 2752 : 	if ( lpMsg->MemoSize < 0 || lpMsg->MemoSize > 1000 )

  00042	0f b7 7e 38	 movzx	 edi, WORD PTR [esi+56]
  00046	66 85 ff	 test	 di, di
  00049	0f 88 02 01 00
	00		 js	 $LN3@MngFriendM
  0004f	b8 e8 03 00 00	 mov	 eax, 1000		; 000003e8H
  00054	66 3b f8	 cmp	 di, ax
  00057	0f 8f f4 00 00
	00		 jg	 $LN3@MngFriendM
; File c:\users\michel\desktop\source\gameserver\common\winutil.h

; 60   : 		return strlen(this->Name);

  0005d	8d 45 f0	 lea	 eax, DWORD PTR _Name$[ebp]
  00060	53		 push	 ebx
  00061	8d 58 01	 lea	 ebx, DWORD PTR [eax+1]
$LL15@MngFriendM:
  00064	8a 08		 mov	 cl, BYTE PTR [eax]
  00066	40		 inc	 eax
  00067	84 c9		 test	 cl, cl
  00069	75 f9		 jne	 SHORT $LL15@MngFriendM
  0006b	2b c3		 sub	 eax, ebx
; File c:\users\michel\desktop\source\gameserver\source\edsprotocol.cpp

; 2755 : 	if ( Name.GetLength() < 1 )

  0006d	83 f8 01	 cmp	 eax, 1
  00070	0f 8c da 00 00
	00		 jl	 $LN16@MngFriendM

; 2768 : 	memcpy(pMsg.Subject, lpMsg->Subject, sizeof(pMsg.Subject));

  00076	0f 10 46 18	 movups	 xmm0, XMMWORD PTR [esi+24]
  0007a	0f bf cf	 movsx	 ecx, di

; 2772 : 	memcpy(pMsg.Memo, lpMsg->Memo, lpMsg->MemoSize);

  0007d	51		 push	 ecx
  0007e	0f 11 85 d0 fb
	ff ff		 movups	 XMMWORD PTR _pMsg$[ebp+32], xmm0
; File c:\users\michel\desktop\source\gameserver\include\prodef.h

; 111  : 		lpBuf[0] = 0xC2;

  00085	c6 85 b0 fb ff
	ff c2		 mov	 BYTE PTR _pMsg$[ebp], 194 ; 000000c2H
; File c:\users\michel\desktop\source\gameserver\source\edsprotocol.cpp

; 2768 : 	memcpy(pMsg.Subject, lpMsg->Subject, sizeof(pMsg.Subject));

  0008c	0f 10 46 28	 movups	 xmm0, XMMWORD PTR [esi+40]
  00090	8d 59 58	 lea	 ebx, DWORD PTR [ecx+88]
; File c:\users\michel\desktop\source\gameserver\include\prodef.h

; 114  : 		lpBuf[3] = head;

  00093	c6 85 b3 fb ff
	ff 70		 mov	 BYTE PTR _pMsg$[ebp+3], 112 ; 00000070H
  0009a	8b c3		 mov	 eax, ebx
  0009c	88 9d b2 fb ff
	ff		 mov	 BYTE PTR _pMsg$[ebp+2], bl
  000a2	c1 e8 08	 shr	 eax, 8
  000a5	88 85 b1 fb ff
	ff		 mov	 BYTE PTR _pMsg$[ebp+1], al
; File c:\users\michel\desktop\source\gameserver\source\edsprotocol.cpp

; 2765 : 	pMsg.Number = -1;

  000ab	83 c8 ff	 or	 eax, -1
  000ae	66 89 85 b4 fb
	ff ff		 mov	 WORD PTR _pMsg$[ebp+4], ax

; 2769 : 	memcpy(pMsg.Name, lpMsg->Name , sizeof(pMsg.Name));

  000b5	0f b7 42 08	 movzx	 eax, WORD PTR [edx+8]
  000b9	66 89 85 c4 fb
	ff ff		 mov	 WORD PTR _pMsg$[ebp+20], ax

; 2770 : 	memset(pMsg.Photo, 0, sizeof(pMsg.Photo));
; 2771 : 	memcpy(pMsg.ToName, lpMsg->TargetName, sizeof(pMsg.ToName));

  000c0	0f b7 46 16	 movzx	 eax, WORD PTR [esi+22]
  000c4	0f 11 85 e0 fb
	ff ff		 movups	 XMMWORD PTR _pMsg$[ebp+48], xmm0
  000cb	66 89 85 ce fb
	ff ff		 mov	 WORD PTR _pMsg$[ebp+30], ax

; 2772 : 	memcpy(pMsg.Memo, lpMsg->Memo, lpMsg->MemoSize);

  000d2	8d 46 3a	 lea	 eax, DWORD PTR [esi+58]
  000d5	f3 0f 7e 02	 movq	 xmm0, QWORD PTR [edx]
  000d9	66 0f d6 85 bc
	fb ff ff	 movq	 QWORD PTR _pMsg$[ebp+12], xmm0
  000e1	0f 57 c0	 xorps	 xmm0, xmm0
  000e4	50		 push	 eax
  000e5	0f 11 85 f4 fb
	ff ff		 movups	 XMMWORD PTR _pMsg$[ebp+68], xmm0
  000ec	8d 85 06 fc ff
	ff		 lea	 eax, DWORD PTR _pMsg$[ebp+86]
  000f2	c7 85 b8 fb ff
	ff 00 00 00 00	 mov	 DWORD PTR _pMsg$[ebp+8], 0
  000fc	f3 0f 7e 46 0e	 movq	 xmm0, QWORD PTR [esi+14]
  00101	50		 push	 eax
  00102	66 89 bd f2 fb
	ff ff		 mov	 WORD PTR _pMsg$[ebp+66], di
  00109	66 c7 85 f0 fb
	ff ff 00 00	 mov	 WORD PTR _pMsg$[ebp+64], 0
  00112	66 c7 85 04 fc
	ff ff 00 00	 mov	 WORD PTR _pMsg$[ebp+84], 0
  0011b	66 0f d6 85 c6
	fb ff ff	 movq	 QWORD PTR _pMsg$[ebp+22], xmm0
  00123	e8 00 00 00 00	 call	 _memcpy
  00128	83 c4 0c	 add	 esp, 12			; 0000000cH

; 2773 : 
; 2774 : 	wsExDbCli.DataSend((PCHAR)&pMsg, bsize);

  0012b	8d 85 b0 fb ff
	ff		 lea	 eax, DWORD PTR _pMsg$[ebp]
  00131	b9 00 00 00 00	 mov	 ecx, OFFSET ?wsExDbCli@@3VwsJoinServerCli@@A ; wsExDbCli
  00136	53		 push	 ebx
  00137	50		 push	 eax
  00138	e8 00 00 00 00	 call	 ?DataSend@wsJoinServerCli@@QAEHPADH@Z ; wsJoinServerCli::DataSend

; 2775 : 
; 2776 : 	LogAdd("JoinServer mail send %s (Size:%d)", Name.GetBuffer(), bsize);

  0013d	53		 push	 ebx
  0013e	8d 45 f0	 lea	 eax, DWORD PTR _Name$[ebp]
  00141	50		 push	 eax
  00142	68 00 00 00 00	 push	 OFFSET ??_C@_0CC@MFFMGDDE@JoinServer?5mail?5send?5?$CFs?5?$CISize?3?$CFd@
  00147	ff 15 00 00 00
	00		 call	 DWORD PTR ?LogAdd@@3P6AXPADZZA ; LogAdd
  0014d	83 c4 0c	 add	 esp, 12			; 0000000cH
$LN16@MngFriendM:
  00150	5b		 pop	 ebx
$LN3@MngFriendM:

; 2777 : }

  00151	8b 4d fc	 mov	 ecx, DWORD PTR __$ArrayPad$[ebp]
  00154	5f		 pop	 edi
  00155	33 cd		 xor	 ecx, ebp
  00157	5e		 pop	 esi
  00158	e8 00 00 00 00	 call	 @__security_check_cookie@4
  0015d	8b e5		 mov	 esp, ebp
  0015f	5d		 pop	 ebp
  00160	c3		 ret	 0
?MngFriendMemoSend@@YAXPAUPMSG_JG_MEMO_SEND@@@Z ENDP	; MngFriendMemoSend
_TEXT	ENDS
; Function compile flags: /Ogtp
; File c:\users\michel\desktop\source\gameserver\source\edsprotocol.cpp
; File c:\users\michel\desktop\source\gameserver\common\winutil.h
; File c:\users\michel\desktop\source\gameserver\source\edsprotocol.cpp
; File c:\users\michel\desktop\source\gameserver\common\winutil.h
; File c:\users\michel\desktop\source\gameserver\source\edsprotocol.cpp
; File c:\users\michel\desktop\source\gameserver\include\prodef.h
; File c:\users\michel\desktop\source\gameserver\source\edsprotocol.cpp
; File c:\users\michel\desktop\source\gameserver\include\prodef.h
; File c:\users\michel\desktop\source\gameserver\source\edsprotocol.cpp
; File c:\users\michel\desktop\source\gameserver\include\prodef.h
; File c:\users\michel\desktop\source\gameserver\source\edsprotocol.cpp
;	COMDAT ?FriendMemoSend@@YAXPAUPMSG_FRIEND_MEMO@@H@Z
_TEXT	SEGMENT
tv219 = -1136						; size = 4
tv215 = -1132						; size = 4
_pResult$1 = -1128					; size = 24
_pResult$2 = -1128					; size = 24
_pMsg$ = -1104						; size = 1088
_Name$ = -16						; size = 11
__$ArrayPad$ = -4					; size = 4
_lpMsg$ = 8						; size = 4
_aIndex$ = 12						; size = 4
?FriendMemoSend@@YAXPAUPMSG_FRIEND_MEMO@@H@Z PROC	; FriendMemoSend, COMDAT

; 2673 : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	81 ec 70 04 00
	00		 sub	 esp, 1136		; 00000470H
  00009	a1 00 00 00 00	 mov	 eax, DWORD PTR ___security_cookie
  0000e	33 c5		 xor	 eax, ebp
  00010	89 45 fc	 mov	 DWORD PTR __$ArrayPad$[ebp], eax
  00013	56		 push	 esi
  00014	8b 75 08	 mov	 esi, DWORD PTR _lpMsg$[ebp]
  00017	57		 push	 edi
  00018	8b 7d 0c	 mov	 edi, DWORD PTR _aIndex$[ebp]

; 2674 : 	if ( !gObjIsConnectedGP(aIndex))

  0001b	57		 push	 edi
  0001c	e8 00 00 00 00	 call	 ?gObjIsConnectedGP@@YAHH@Z ; gObjIsConnectedGP
  00021	83 c4 04	 add	 esp, 4
  00024	85 c0		 test	 eax, eax
  00026	75 28		 jne	 SHORT $LN2@FriendMemo

; 2675 : 	{
; 2676 : 		LogAddTD("error-L2 : Index %s %d", __FILE__, __LINE__);

  00028	68 74 0a 00 00	 push	 2676			; 00000a74H
  0002d	68 00 00 00 00	 push	 OFFSET ??_C@_0BA@FCCBMCDG@EDSProtocol?4cpp?$AA@
  00032	68 00 00 00 00	 push	 OFFSET ??_C@_0BH@LCDOHCGD@error?9L2?5?3?5Index?5?$CFs?5?$CFd?$AA@
  00037	ff 15 00 00 00
	00		 call	 DWORD PTR ?LogAddTD@@3P6AXPADZZA ; LogAddTD
  0003d	83 c4 0c	 add	 esp, 12			; 0000000cH
  00040	5f		 pop	 edi
  00041	5e		 pop	 esi

; 2742 : }

  00042	8b 4d fc	 mov	 ecx, DWORD PTR __$ArrayPad$[ebp]
  00045	33 cd		 xor	 ecx, ebp
  00047	e8 00 00 00 00	 call	 @__security_check_cookie@4
  0004c	8b e5		 mov	 esp, ebp
  0004e	5d		 pop	 ebp
  0004f	c3		 ret	 0
$LN2@FriendMemo:

; 2677 : 		return;
; 2678 : 	}
; 2679 : 
; 2680 : 	char_ID Name(lpMsg->Name);

  00050	8d 46 08	 lea	 eax, DWORD PTR [esi+8]
; File c:\users\michel\desktop\source\gameserver\common\winutil.h

; 45   : 		memset(this->Name, 0, sizeof(this->Name));

  00053	66 c7 45 f8 00
	00		 mov	 WORD PTR _Name$[ebp+8], 0
  00059	c6 45 fa 00	 mov	 BYTE PTR _Name$[ebp+10], 0
  0005d	0f 57 c0	 xorps	 xmm0, xmm0
  00060	66 0f d6 45 f0	 movq	 QWORD PTR _Name$[ebp], xmm0

; 46   : 
; 47   : 		if ( szName != NULL )

  00065	85 c0		 test	 eax, eax
  00067	74 11		 je	 SHORT $LN9@FriendMemo

; 48   : 		{
; 49   : 			memcpy(this->Name, szName, MAX_ACCOUNT_LEN);

  00069	f3 0f 7e 00	 movq	 xmm0, QWORD PTR [eax]
  0006d	66 8b 40 08	 mov	 ax, WORD PTR [eax+8]
  00071	66 0f d6 45 f0	 movq	 QWORD PTR _Name$[ebp], xmm0
  00076	66 89 45 f8	 mov	 WORD PTR _Name$[ebp+8], ax
$LN9@FriendMemo:
; File c:\users\michel\desktop\source\gameserver\source\edsprotocol.cpp

; 2682 : 	if ( gObj[aIndex].Money < 1000 )

  0007a	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  00080	69 cf 40 27 00
	00		 imul	 ecx, edi, 10048
  00086	03 d1		 add	 edx, ecx
  00088	89 8d 90 fb ff
	ff		 mov	 DWORD PTR tv219[ebp], ecx
  0008e	81 ba cc 00 00
	00 e8 03 00 00	 cmp	 DWORD PTR [edx+204], 1000 ; 000003e8H
  00098	7d 4e		 jge	 SHORT $LN3@FriendMemo

; 2683 : 	{
; 2684 : 		FHP_FRIEND_MEMO_SEND_RESULT pResult;
; 2685 : 
; 2686 : 		pResult.Number = aIndex;
; 2687 : 		pResult.Result = 7;
; 2688 : 		pResult.WindowGuid = lpMsg->WindowGuid;

  0009a	8b 46 04	 mov	 eax, DWORD PTR [esi+4]

; 2689 : 		memcpy(pResult.Name, gObj[aIndex].Name, sizeof(pResult.Name));

  0009d	f3 0f 7e 42 5d	 movq	 xmm0, QWORD PTR [edx+93]
  000a2	89 85 ac fb ff
	ff		 mov	 DWORD PTR _pResult$2[ebp+20], eax
  000a8	66 8b 42 65	 mov	 ax, WORD PTR [edx+101]
  000ac	66 89 85 a6 fb
	ff ff		 mov	 WORD PTR _pResult$2[ebp+14], ax

; 2690 : 
; 2691 : 		FriendMemoSendResult(&pResult);

  000b3	8d 85 98 fb ff
	ff		 lea	 eax, DWORD PTR _pResult$2[ebp]
  000b9	50		 push	 eax
  000ba	66 89 bd 9c fb
	ff ff		 mov	 WORD PTR _pResult$2[ebp+4], di
  000c1	c6 85 a8 fb ff
	ff 07		 mov	 BYTE PTR _pResult$2[ebp+16], 7
  000c8	66 0f d6 85 9e
	fb ff ff	 movq	 QWORD PTR _pResult$2[ebp+6], xmm0
  000d0	e8 00 00 00 00	 call	 ?FriendMemoSendResult@@YAXPAUFHP_FRIEND_MEMO_SEND_RESULT@@@Z ; FriendMemoSendResult
  000d5	83 c4 04	 add	 esp, 4
  000d8	5f		 pop	 edi
  000d9	5e		 pop	 esi

; 2742 : }

  000da	8b 4d fc	 mov	 ecx, DWORD PTR __$ArrayPad$[ebp]
  000dd	33 cd		 xor	 ecx, ebp
  000df	e8 00 00 00 00	 call	 @__security_check_cookie@4
  000e4	8b e5		 mov	 esp, ebp
  000e6	5d		 pop	 ebp
  000e7	c3		 ret	 0
$LN3@FriendMemo:
  000e8	53		 push	 ebx

; 2692 : 
; 2693 : 		return;
; 2694 : 	}
; 2695 : 
; 2696 : 	if ( lpMsg->MemoSize < 0 || lpMsg->MemoSize > 1000 )

  000e9	0f b7 5e 50	 movzx	 ebx, WORD PTR [esi+80]
  000ed	66 85 db	 test	 bx, bx
  000f0	0f 88 3f 01 00
	00		 js	 $LN5@FriendMemo
  000f6	b8 e8 03 00 00	 mov	 eax, 1000		; 000003e8H
  000fb	66 3b d8	 cmp	 bx, ax
  000fe	0f 8f 31 01 00
	00		 jg	 $LN5@FriendMemo
; File c:\users\michel\desktop\source\gameserver\common\winutil.h

; 60   : 		return strlen(this->Name);

  00104	8d 45 f0	 lea	 eax, DWORD PTR _Name$[ebp]
  00107	8d 48 01	 lea	 ecx, DWORD PTR [eax+1]
  0010a	89 8d 94 fb ff
	ff		 mov	 DWORD PTR tv215[ebp], ecx
$LL17@FriendMemo:
  00110	8a 08		 mov	 cl, BYTE PTR [eax]
  00112	40		 inc	 eax
  00113	84 c9		 test	 cl, cl
  00115	75 f9		 jne	 SHORT $LL17@FriendMemo
  00117	2b 85 94 fb ff
	ff		 sub	 eax, DWORD PTR tv215[ebp]
; File c:\users\michel\desktop\source\gameserver\source\edsprotocol.cpp

; 2710 : 	if ( Name.GetLength() < 1 )

  0011d	83 f8 01	 cmp	 eax, 1
  00120	0f 8c 0f 01 00
	00		 jl	 $LN5@FriendMemo

; 2733 : 	memcpy(pMsg.Subject, lpMsg->Subject, sizeof(pMsg.Subject));

  00126	0f 10 46 12	 movups	 xmm0, XMMWORD PTR [esi+18]
  0012a	0f bf cb	 movsx	 ecx, bx
; File c:\users\michel\desktop\source\gameserver\include\prodef.h

; 111  : 		lpBuf[0] = 0xC2;

  0012d	c6 85 b0 fb ff
	ff c2		 mov	 BYTE PTR _pMsg$[ebp], 194 ; 000000c2H
; File c:\users\michel\desktop\source\gameserver\source\edsprotocol.cpp

; 2733 : 	memcpy(pMsg.Subject, lpMsg->Subject, sizeof(pMsg.Subject));

  00134	0f 11 85 d0 fb
	ff ff		 movups	 XMMWORD PTR _pMsg$[ebp+32], xmm0
; File c:\users\michel\desktop\source\gameserver\include\prodef.h

; 114  : 		lpBuf[3] = head;

  0013b	c6 85 b3 fb ff
	ff 70		 mov	 BYTE PTR _pMsg$[ebp+3], 112 ; 00000070H
; File c:\users\michel\desktop\source\gameserver\source\edsprotocol.cpp

; 2733 : 	memcpy(pMsg.Subject, lpMsg->Subject, sizeof(pMsg.Subject));

  00142	0f 10 46 22	 movups	 xmm0, XMMWORD PTR [esi+34]
  00146	8d 59 58	 lea	 ebx, DWORD PTR [ecx+88]
  00149	66 89 bd b4 fb
	ff ff		 mov	 WORD PTR _pMsg$[ebp+4], di
; File c:\users\michel\desktop\source\gameserver\include\prodef.h

; 112  : 		lpBuf[1] = SET_NUMBERH(size);

  00150	8b c3		 mov	 eax, ebx

; 113  : 		lpBuf[2] = SET_NUMBERL(size);

  00152	88 9d b2 fb ff
	ff		 mov	 BYTE PTR _pMsg$[ebp+2], bl
  00158	c1 e8 08	 shr	 eax, 8
  0015b	88 85 b1 fb ff
	ff		 mov	 BYTE PTR _pMsg$[ebp+1], al
; File c:\users\michel\desktop\source\gameserver\source\edsprotocol.cpp

; 2728 : 	pMsg.WindowGuid = lpMsg->WindowGuid;

  00161	8b 46 04	 mov	 eax, DWORD PTR [esi+4]
  00164	89 85 b8 fb ff
	ff		 mov	 DWORD PTR _pMsg$[ebp+8], eax

; 2729 : 	pMsg.MemoSize = lpMsg->MemoSize;

  0016a	0f b7 46 50	 movzx	 eax, WORD PTR [esi+80]
  0016e	66 89 85 f2 fb
	ff ff		 mov	 WORD PTR _pMsg$[ebp+66], ax

; 2730 : 	pMsg.Number = aIndex;
; 2731 : 	pMsg.Dir = lpMsg->Dir;

  00175	0f b6 46 4e	 movzx	 eax, BYTE PTR [esi+78]
  00179	88 85 f0 fb ff
	ff		 mov	 BYTE PTR _pMsg$[ebp+64], al

; 2732 : 	pMsg.Action = lpMsg->Action;

  0017f	0f b6 46 4f	 movzx	 eax, BYTE PTR [esi+79]
  00183	88 85 f1 fb ff
	ff		 mov	 BYTE PTR _pMsg$[ebp+65], al

; 2733 : 	memcpy(pMsg.Subject, lpMsg->Subject, sizeof(pMsg.Subject));

  00189	0f 11 85 e0 fb
	ff ff		 movups	 XMMWORD PTR _pMsg$[ebp+48], xmm0

; 2734 : 	memcpy(pMsg.Name, gObj[aIndex].Name, sizeof(pMsg.Name));
; 2735 : 	memcpy(pMsg.Photo, gObj[aIndex].CharSet, sizeof(pMsg.Photo));
; 2736 : 	memcpy(pMsg.ToName, lpMsg->Name, sizeof(pMsg.ToName));
; 2737 : 	memcpy(pMsg.Memo, lpMsg->Memo, lpMsg->MemoSize);

  00190	51		 push	 ecx
  00191	f3 0f 7e 42 5d	 movq	 xmm0, QWORD PTR [edx+93]
  00196	66 0f d6 85 bc
	fb ff ff	 movq	 QWORD PTR _pMsg$[ebp+12], xmm0
  0019e	0f b7 42 65	 movzx	 eax, WORD PTR [edx+101]
  001a2	66 89 85 c4 fb
	ff ff		 mov	 WORD PTR _pMsg$[ebp+20], ax
  001a9	0f 10 82 84 08
	00 00		 movups	 xmm0, XMMWORD PTR [edx+2180]
  001b0	0f 11 85 f4 fb
	ff ff		 movups	 XMMWORD PTR _pMsg$[ebp+68], xmm0
  001b7	0f b7 82 94 08
	00 00		 movzx	 eax, WORD PTR [edx+2196]
  001be	f3 0f 7e 46 08	 movq	 xmm0, QWORD PTR [esi+8]
  001c3	66 89 85 04 fc
	ff ff		 mov	 WORD PTR _pMsg$[ebp+84], ax
  001ca	0f b7 46 10	 movzx	 eax, WORD PTR [esi+16]
  001ce	66 89 85 ce fb
	ff ff		 mov	 WORD PTR _pMsg$[ebp+30], ax
  001d5	8d 46 52	 lea	 eax, DWORD PTR [esi+82]
  001d8	50		 push	 eax
  001d9	8d 85 06 fc ff
	ff		 lea	 eax, DWORD PTR _pMsg$[ebp+86]
  001df	66 0f d6 85 c6
	fb ff ff	 movq	 QWORD PTR _pMsg$[ebp+22], xmm0
  001e7	50		 push	 eax
  001e8	e8 00 00 00 00	 call	 _memcpy
  001ed	83 c4 0c	 add	 esp, 12			; 0000000cH

; 2738 : 
; 2739 : 	wsExDbCli.DataSend((PCHAR)&pMsg, bsize);

  001f0	8d 85 b0 fb ff
	ff		 lea	 eax, DWORD PTR _pMsg$[ebp]
  001f6	b9 00 00 00 00	 mov	 ecx, OFFSET ?wsExDbCli@@3VwsJoinServerCli@@A ; wsExDbCli
  001fb	53		 push	 ebx
  001fc	50		 push	 eax
  001fd	e8 00 00 00 00	 call	 ?DataSend@wsJoinServerCli@@QAEHPADH@Z ; wsJoinServerCli::DataSend

; 2740 : 
; 2741 : 	LogAdd("[%s] Friend mail send %s (Size:%d)", gObj[aIndex].Name, Name.GetBuffer(), bsize);

  00202	53		 push	 ebx
  00203	8d 45 f0	 lea	 eax, DWORD PTR _Name$[ebp]
  00206	50		 push	 eax
  00207	a1 00 00 00 00	 mov	 eax, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  0020c	83 c0 5d	 add	 eax, 93			; 0000005dH
  0020f	03 85 90 fb ff
	ff		 add	 eax, DWORD PTR tv219[ebp]
  00215	50		 push	 eax
  00216	68 00 00 00 00	 push	 OFFSET ??_C@_0CD@HIFGHJCH@?$FL?$CFs?$FN?5Friend?5mail?5send?5?$CFs?5?$CISize?3?$CF@
  0021b	ff 15 00 00 00
	00		 call	 DWORD PTR ?LogAdd@@3P6AXPADZZA ; LogAdd
  00221	83 c4 10	 add	 esp, 16			; 00000010H
  00224	5b		 pop	 ebx
  00225	5f		 pop	 edi
  00226	5e		 pop	 esi

; 2742 : }

  00227	8b 4d fc	 mov	 ecx, DWORD PTR __$ArrayPad$[ebp]
  0022a	33 cd		 xor	 ecx, ebp
  0022c	e8 00 00 00 00	 call	 @__security_check_cookie@4
  00231	8b e5		 mov	 esp, ebp
  00233	5d		 pop	 ebp
  00234	c3		 ret	 0
$LN5@FriendMemo:

; 2697 : 	{
; 2698 : 		FHP_FRIEND_MEMO_SEND_RESULT pResult;
; 2699 : 
; 2700 : 		pResult.Number = aIndex;
; 2701 : 		pResult.Result = 0;
; 2702 : 		pResult.WindowGuid = lpMsg->WindowGuid;

  00235	8b 46 04	 mov	 eax, DWORD PTR [esi+4]

; 2703 : 		memcpy(pResult.Name, gObj[aIndex].Name, sizeof(pResult.Name));

  00238	f3 0f 7e 42 5d	 movq	 xmm0, QWORD PTR [edx+93]
  0023d	89 85 ac fb ff
	ff		 mov	 DWORD PTR _pResult$1[ebp+20], eax
  00243	66 8b 42 65	 mov	 ax, WORD PTR [edx+101]
  00247	66 89 85 a6 fb
	ff ff		 mov	 WORD PTR _pResult$1[ebp+14], ax

; 2704 : 
; 2705 : 		FriendMemoSendResult(&pResult);

  0024e	8d 85 98 fb ff
	ff		 lea	 eax, DWORD PTR _pResult$1[ebp]
  00254	50		 push	 eax
  00255	66 89 bd 9c fb
	ff ff		 mov	 WORD PTR _pResult$1[ebp+4], di
  0025c	c6 85 a8 fb ff
	ff 00		 mov	 BYTE PTR _pResult$1[ebp+16], 0
  00263	66 0f d6 85 9e
	fb ff ff	 movq	 QWORD PTR _pResult$1[ebp+6], xmm0
  0026b	e8 00 00 00 00	 call	 ?FriendMemoSendResult@@YAXPAUFHP_FRIEND_MEMO_SEND_RESULT@@@Z ; FriendMemoSendResult

; 2742 : }

  00270	8b 4d fc	 mov	 ecx, DWORD PTR __$ArrayPad$[ebp]
  00273	83 c4 04	 add	 esp, 4
  00276	33 cd		 xor	 ecx, ebp
  00278	5b		 pop	 ebx
  00279	5f		 pop	 edi
  0027a	5e		 pop	 esi
  0027b	e8 00 00 00 00	 call	 @__security_check_cookie@4
  00280	8b e5		 mov	 esp, ebp
  00282	5d		 pop	 ebp
  00283	c3		 ret	 0
?FriendMemoSend@@YAXPAUPMSG_FRIEND_MEMO@@H@Z ENDP	; FriendMemoSend
_TEXT	ENDS
; Function compile flags: /Ogtp
; File c:\users\michel\desktop\source\gameserver\source\edsprotocol.cpp
; File c:\users\michel\desktop\source\gameserver\common\winutil.h
; File c:\users\michel\desktop\source\gameserver\source\edsprotocol.cpp
; File c:\users\michel\desktop\source\gameserver\common\winutil.h
; File c:\users\michel\desktop\source\gameserver\source\edsprotocol.cpp
; File c:\users\michel\desktop\source\gameserver\include\prodef.h
; File c:\users\michel\desktop\source\gameserver\source\edsprotocol.cpp
;	COMDAT ?FriendChatRoomCreateResult@@YAXPAUFHP_FRIEND_CHATROOM_CREATE_RESULT@@@Z
_TEXT	SEGMENT
_pMsg$ = -52						; size = 36
_Name$ = -16						; size = 11
__$ArrayPad$ = -4					; size = 4
_lpMsg$ = 8						; size = 4
?FriendChatRoomCreateResult@@YAXPAUFHP_FRIEND_CHATROOM_CREATE_RESULT@@@Z PROC ; FriendChatRoomCreateResult, COMDAT

; 2628 : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	83 ec 34	 sub	 esp, 52			; 00000034H
  00006	a1 00 00 00 00	 mov	 eax, DWORD PTR ___security_cookie
  0000b	33 c5		 xor	 eax, ebp
  0000d	89 45 fc	 mov	 DWORD PTR __$ArrayPad$[ebp], eax
  00010	56		 push	 esi
  00011	8b 75 08	 mov	 esi, DWORD PTR _lpMsg$[ebp]
  00014	0f 57 c0	 xorps	 xmm0, xmm0
; File c:\users\michel\desktop\source\gameserver\common\winutil.h

; 45   : 		memset(this->Name, 0, sizeof(this->Name));

  00017	66 0f d6 45 f0	 movq	 QWORD PTR _Name$[ebp], xmm0
  0001c	66 c7 45 f8 00
	00		 mov	 WORD PTR _Name$[ebp+8], 0
  00022	c6 45 fa 00	 mov	 BYTE PTR _Name$[ebp+10], 0
; File c:\users\michel\desktop\source\gameserver\source\edsprotocol.cpp

; 2629 : 	char_ID Name(lpMsg->Name);

  00026	8d 46 06	 lea	 eax, DWORD PTR [esi+6]
; File c:\users\michel\desktop\source\gameserver\common\winutil.h

; 47   : 		if ( szName != NULL )

  00029	85 c0		 test	 eax, eax
  0002b	74 11		 je	 SHORT $LN5@FriendChat

; 48   : 		{
; 49   : 			memcpy(this->Name, szName, MAX_ACCOUNT_LEN);

  0002d	f3 0f 7e 00	 movq	 xmm0, QWORD PTR [eax]
  00031	66 8b 40 08	 mov	 ax, WORD PTR [eax+8]
  00035	66 0f d6 45 f0	 movq	 QWORD PTR _Name$[ebp], xmm0
  0003a	66 89 45 f8	 mov	 WORD PTR _Name$[ebp+8], ax
$LN5@FriendChat:
; File c:\users\michel\desktop\source\gameserver\source\edsprotocol.cpp

; 2631 : 	if ( !gObjIsConnectedGP(lpMsg->Number, Name.GetBuffer()))

  0003e	8d 45 f0	 lea	 eax, DWORD PTR _Name$[ebp]
  00041	50		 push	 eax
  00042	0f bf 46 04	 movsx	 eax, WORD PTR [esi+4]
  00046	50		 push	 eax
  00047	e8 00 00 00 00	 call	 ?gObjIsConnectedGP@@YAHHPAD@Z ; gObjIsConnectedGP
  0004c	83 c4 08	 add	 esp, 8
  0004f	85 c0		 test	 eax, eax
  00051	75 2b		 jne	 SHORT $LN2@FriendChat

; 2632 : 	{
; 2633 : 		LogAddTD("error-L2 : Index %s %d (%s)", __FILE__, __LINE__, Name.GetBuffer());

  00053	8d 45 f0	 lea	 eax, DWORD PTR _Name$[ebp]
  00056	50		 push	 eax
  00057	68 49 0a 00 00	 push	 2633			; 00000a49H
  0005c	68 00 00 00 00	 push	 OFFSET ??_C@_0BA@FCCBMCDG@EDSProtocol?4cpp?$AA@
  00061	68 00 00 00 00	 push	 OFFSET ??_C@_0BM@JEKCBGDH@error?9L2?5?3?5Index?5?$CFs?5?$CFd?5?$CI?$CFs?$CJ?$AA@
  00066	ff 15 00 00 00
	00		 call	 DWORD PTR ?LogAddTD@@3P6AXPADZZA ; LogAddTD
  0006c	83 c4 10	 add	 esp, 16			; 00000010H
  0006f	5e		 pop	 esi

; 2650 : 		gObj[lpMsg->Number].Name, lpMsg->Result, lpMsg->Ticket);
; 2651 : }

  00070	8b 4d fc	 mov	 ecx, DWORD PTR __$ArrayPad$[ebp]
  00073	33 cd		 xor	 ecx, ebp
  00075	e8 00 00 00 00	 call	 @__security_check_cookie@4
  0007a	8b e5		 mov	 esp, ebp
  0007c	5d		 pop	 ebp
  0007d	c3		 ret	 0
$LN2@FriendChat:

; 2634 : 		return;
; 2635 : 	}
; 2636 : 
; 2637 : 	PMSG_FRIEND_ROOMCREATE_RESULT pMsg;
; 2638 : 
; 2639 : 	pMsg.h.setE((LPBYTE)&pMsg, 0xCA, sizeof(pMsg));
; 2640 : 	memcpy(pMsg.ServerIp, lpMsg->ServerIp, sizeof(pMsg.ServerIp));

  0007e	8b 46 22	 mov	 eax, DWORD PTR [esi+34]
  00081	f3 0f 7e 46 1a	 movq	 xmm0, QWORD PTR [esi+26]
  00086	89 45 d7	 mov	 DWORD PTR _pMsg$[ebp+11], eax
  00089	0f b7 46 26	 movzx	 eax, WORD PTR [esi+38]
  0008d	66 89 45 db	 mov	 WORD PTR _pMsg$[ebp+15], ax
  00091	0f b6 46 28	 movzx	 eax, BYTE PTR [esi+40]
  00095	88 45 dd	 mov	 BYTE PTR _pMsg$[ebp+17], al

; 2641 : 	pMsg.RoomNumber = lpMsg->RoomNumber;

  00098	0f b7 46 2a	 movzx	 eax, WORD PTR [esi+42]
  0009c	66 89 45 de	 mov	 WORD PTR _pMsg$[ebp+18], ax

; 2642 : 	pMsg.Ticket = lpMsg->Ticket;

  000a0	8b 46 2c	 mov	 eax, DWORD PTR [esi+44]
  000a3	89 45 e0	 mov	 DWORD PTR _pMsg$[ebp+20], eax

; 2643 : 	pMsg.Type = lpMsg->Type;

  000a6	0f b6 46 30	 movzx	 eax, BYTE PTR [esi+48]
  000aa	88 45 e4	 mov	 BYTE PTR _pMsg$[ebp+24], al

; 2644 : 	pMsg.Result = lpMsg->Result;

  000ad	0f b6 46 03	 movzx	 eax, BYTE PTR [esi+3]
  000b1	88 45 ef	 mov	 BYTE PTR _pMsg$[ebp+35], al

; 2645 : 	memcpy(pMsg.Name, lpMsg->FriendName, sizeof(pMsg.Name));

  000b4	0f b7 46 18	 movzx	 eax, WORD PTR [esi+24]
  000b8	66 89 45 ed	 mov	 WORD PTR _pMsg$[ebp+33], ax

; 2646 : 
; 2647 : 	DataSend(lpMsg->Number, (LPBYTE)&pMsg, sizeof(pMsg));

  000bc	8d 45 cc	 lea	 eax, DWORD PTR _pMsg$[ebp]
  000bf	6a 24		 push	 36			; 00000024H
  000c1	50		 push	 eax
  000c2	0f bf 46 04	 movsx	 eax, WORD PTR [esi+4]
  000c6	66 0f d6 45 cf	 movq	 QWORD PTR _pMsg$[ebp+3], xmm0
  000cb	f3 0f 7e 46 10	 movq	 xmm0, QWORD PTR [esi+16]
  000d0	50		 push	 eax
; File c:\users\michel\desktop\source\gameserver\include\prodef.h

; 93   : 		lpBuf[0] = 0xC3;

  000d1	66 c7 45 cc c3
	24		 mov	 WORD PTR _pMsg$[ebp], 9411 ; 000024c3H

; 94   : 		lpBuf[1] = size;
; 95   : 		lpBuf[2] = head;

  000d7	c6 45 ce ca	 mov	 BYTE PTR _pMsg$[ebp+2], 202 ; 000000caH
; File c:\users\michel\desktop\source\gameserver\source\edsprotocol.cpp

; 2645 : 	memcpy(pMsg.Name, lpMsg->FriendName, sizeof(pMsg.Name));

  000db	66 0f d6 45 e5	 movq	 QWORD PTR _pMsg$[ebp+25], xmm0

; 2646 : 
; 2647 : 	DataSend(lpMsg->Number, (LPBYTE)&pMsg, sizeof(pMsg));

  000e0	e8 00 00 00 00	 call	 ?DataSend@@YAHHPAEK@Z	; DataSend

; 2648 : 
; 2649 : 	LogAdd("[%s] Chatroom create result (%d) ticket:(%d)",

  000e5	ff 76 2c	 push	 DWORD PTR [esi+44]
  000e8	0f b6 46 03	 movzx	 eax, BYTE PTR [esi+3]
  000ec	50		 push	 eax
  000ed	0f bf 46 04	 movsx	 eax, WORD PTR [esi+4]
  000f1	69 c8 40 27 00
	00		 imul	 ecx, eax, 10048
  000f7	a1 00 00 00 00	 mov	 eax, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  000fc	83 c0 5d	 add	 eax, 93			; 0000005dH
  000ff	03 c1		 add	 eax, ecx
  00101	50		 push	 eax
  00102	68 00 00 00 00	 push	 OFFSET ??_C@_0CN@LPLKDCJE@?$FL?$CFs?$FN?5Chatroom?5create?5result?5?$CI?$CFd?$CJ@
  00107	ff 15 00 00 00
	00		 call	 DWORD PTR ?LogAdd@@3P6AXPADZZA ; LogAdd

; 2650 : 		gObj[lpMsg->Number].Name, lpMsg->Result, lpMsg->Ticket);
; 2651 : }

  0010d	8b 4d fc	 mov	 ecx, DWORD PTR __$ArrayPad$[ebp]
  00110	83 c4 1c	 add	 esp, 28			; 0000001cH
  00113	33 cd		 xor	 ecx, ebp
  00115	5e		 pop	 esi
  00116	e8 00 00 00 00	 call	 @__security_check_cookie@4
  0011b	8b e5		 mov	 esp, ebp
  0011d	5d		 pop	 ebp
  0011e	c3		 ret	 0
?FriendChatRoomCreateResult@@YAXPAUFHP_FRIEND_CHATROOM_CREATE_RESULT@@@Z ENDP ; FriendChatRoomCreateResult
_TEXT	ENDS
; Function compile flags: /Ogtp
; File c:\users\michel\desktop\source\gameserver\source\edsprotocol.cpp
; File c:\users\michel\desktop\source\gameserver\include\prodef.h
; File c:\users\michel\desktop\source\gameserver\source\edsprotocol.cpp
; File c:\users\michel\desktop\source\gameserver\common\winutil.h
; File c:\users\michel\desktop\source\gameserver\source\edsprotocol.cpp
;	COMDAT ?FriendChatRoomCreateReq@@YAXPAUPMSG_FRIEND_ROOMCREATE_REQ@@H@Z
_TEXT	SEGMENT
_pMsg$ = -44						; size = 26
_szName$ = -16						; size = 11
__$ArrayPad$ = -4					; size = 4
_lpMsg$ = 8						; size = 4
_aIndex$ = 12						; size = 4
?FriendChatRoomCreateReq@@YAXPAUPMSG_FRIEND_ROOMCREATE_REQ@@H@Z PROC ; FriendChatRoomCreateReq, COMDAT

; 2591 : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	83 ec 2c	 sub	 esp, 44			; 0000002cH
  00006	a1 00 00 00 00	 mov	 eax, DWORD PTR ___security_cookie
  0000b	33 c5		 xor	 eax, ebp
  0000d	89 45 fc	 mov	 DWORD PTR __$ArrayPad$[ebp], eax
  00010	53		 push	 ebx
  00011	8b 5d 08	 mov	 ebx, DWORD PTR _lpMsg$[ebp]
  00014	56		 push	 esi
  00015	8b 75 0c	 mov	 esi, DWORD PTR _aIndex$[ebp]

; 2592 : 	if ( !gObjIsConnectedGP(aIndex))

  00018	56		 push	 esi
  00019	e8 00 00 00 00	 call	 ?gObjIsConnectedGP@@YAHH@Z ; gObjIsConnectedGP
  0001e	83 c4 04	 add	 esp, 4
  00021	85 c0		 test	 eax, eax
  00023	75 28		 jne	 SHORT $LN2@FriendChat

; 2593 : 	{
; 2594 : 		LogAddTD("error-L2 : Index %s %d", __FILE__, __LINE__);

  00025	68 22 0a 00 00	 push	 2594			; 00000a22H
  0002a	68 00 00 00 00	 push	 OFFSET ??_C@_0BA@FCCBMCDG@EDSProtocol?4cpp?$AA@
  0002f	68 00 00 00 00	 push	 OFFSET ??_C@_0BH@LCDOHCGD@error?9L2?5?3?5Index?5?$CFs?5?$CFd?$AA@
  00034	ff 15 00 00 00
	00		 call	 DWORD PTR ?LogAddTD@@3P6AXPADZZA ; LogAddTD
  0003a	83 c4 0c	 add	 esp, 12			; 0000000cH
  0003d	5e		 pop	 esi
  0003e	5b		 pop	 ebx

; 2610 : }

  0003f	8b 4d fc	 mov	 ecx, DWORD PTR __$ArrayPad$[ebp]
  00042	33 cd		 xor	 ecx, ebp
  00044	e8 00 00 00 00	 call	 @__security_check_cookie@4
  00049	8b e5		 mov	 esp, ebp
  0004b	5d		 pop	 ebp
  0004c	c3		 ret	 0
$LN2@FriendChat:

; 2595 : 		return;
; 2596 : 	}
; 2597 : 
; 2598 : 	FHP_FRIEND_CHATROOM_CREATE_REQ pMsg;
; 2599 : 
; 2600 : 	pMsg.h.set((LPBYTE)&pMsg, 0x66, sizeof(pMsg));
; 2601 : 	memcpy(pMsg.Name, gObj[aIndex].Name, sizeof(pMsg.Name));

  0004d	a1 00 00 00 00	 mov	 eax, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj

; 2605 : 	wsExDbCli.DataSend((PCHAR)&pMsg, pMsg.h.size);

  00052	b9 00 00 00 00	 mov	 ecx, OFFSET ?wsExDbCli@@3VwsJoinServerCli@@A ; wsExDbCli
  00057	57		 push	 edi
  00058	69 fe 40 27 00
	00		 imul	 edi, esi, 10048
; File c:\users\michel\desktop\source\gameserver\include\prodef.h

; 86   : 		lpBuf[0] = 0xC1;

  0005e	66 c7 45 d4 c1
	1a		 mov	 WORD PTR _pMsg$[ebp], 6849 ; 00001ac1H

; 87   : 		lpBuf[1] = size;
; 88   : 		lpBuf[2] = head;

  00064	c6 45 d6 66	 mov	 BYTE PTR _pMsg$[ebp+2], 102 ; 00000066H
; File c:\users\michel\desktop\source\gameserver\source\edsprotocol.cpp

; 2605 : 	wsExDbCli.DataSend((PCHAR)&pMsg, pMsg.h.size);

  00068	6a 1a		 push	 26			; 0000001aH
  0006a	f3 0f 7e 44 07
	5d		 movq	 xmm0, QWORD PTR [edi+eax+93]
  00070	66 0f d6 45 da	 movq	 QWORD PTR _pMsg$[ebp+6], xmm0
  00075	0f b7 44 07 65	 movzx	 eax, WORD PTR [edi+eax+101]
  0007a	f3 0f 7e 43 03	 movq	 xmm0, QWORD PTR [ebx+3]
  0007f	66 89 75 d8	 mov	 WORD PTR _pMsg$[ebp+4], si
  00083	8d 73 03	 lea	 esi, DWORD PTR [ebx+3]
  00086	66 89 45 e2	 mov	 WORD PTR _pMsg$[ebp+14], ax
  0008a	0f b7 46 08	 movzx	 eax, WORD PTR [esi+8]
  0008e	66 89 45 ec	 mov	 WORD PTR _pMsg$[ebp+24], ax
  00092	8d 45 d4	 lea	 eax, DWORD PTR _pMsg$[ebp]
  00095	50		 push	 eax
  00096	66 0f d6 45 e4	 movq	 QWORD PTR _pMsg$[ebp+16], xmm0
  0009b	e8 00 00 00 00	 call	 ?DataSend@wsJoinServerCli@@QAEHPADH@Z ; wsJoinServerCli::DataSend
; File c:\users\michel\desktop\source\gameserver\common\winutil.h

; 45   : 		memset(this->Name, 0, sizeof(this->Name));

  000a0	66 c7 45 f8 00
	00		 mov	 WORD PTR _szName$[ebp+8], 0
  000a6	0f 57 c0	 xorps	 xmm0, xmm0
  000a9	66 0f d6 45 f0	 movq	 QWORD PTR _szName$[ebp], xmm0
  000ae	c6 45 fa 00	 mov	 BYTE PTR _szName$[ebp+10], 0

; 46   : 
; 47   : 		if ( szName != NULL )

  000b2	85 f6		 test	 esi, esi
  000b4	74 11		 je	 SHORT $LN7@FriendChat

; 48   : 		{
; 49   : 			memcpy(this->Name, szName, MAX_ACCOUNT_LEN);

  000b6	f3 0f 7e 06	 movq	 xmm0, QWORD PTR [esi]
  000ba	66 8b 46 08	 mov	 ax, WORD PTR [esi+8]
  000be	66 0f d6 45 f0	 movq	 QWORD PTR _szName$[ebp], xmm0
  000c3	66 89 45 f8	 mov	 WORD PTR _szName$[ebp+8], ax
$LN7@FriendChat:
; File c:\users\michel\desktop\source\gameserver\source\edsprotocol.cpp

; 2609 : 	LogAdd("[%s] Chatroom create request [%s]", gObj[aIndex].Name, szName.GetBuffer());

  000c7	8d 45 f0	 lea	 eax, DWORD PTR _szName$[ebp]
  000ca	50		 push	 eax
  000cb	a1 00 00 00 00	 mov	 eax, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  000d0	83 c0 5d	 add	 eax, 93			; 0000005dH
  000d3	03 c7		 add	 eax, edi
  000d5	50		 push	 eax
  000d6	68 00 00 00 00	 push	 OFFSET ??_C@_0CC@HAGNMCFJ@?$FL?$CFs?$FN?5Chatroom?5create?5request?5?$FL?$CFs@
  000db	ff 15 00 00 00
	00		 call	 DWORD PTR ?LogAdd@@3P6AXPADZZA ; LogAdd

; 2610 : }

  000e1	8b 4d fc	 mov	 ecx, DWORD PTR __$ArrayPad$[ebp]
  000e4	83 c4 0c	 add	 esp, 12			; 0000000cH
  000e7	33 cd		 xor	 ecx, ebp
  000e9	5f		 pop	 edi
  000ea	5e		 pop	 esi
  000eb	5b		 pop	 ebx
  000ec	e8 00 00 00 00	 call	 @__security_check_cookie@4
  000f1	8b e5		 mov	 esp, ebp
  000f3	5d		 pop	 ebp
  000f4	c3		 ret	 0
?FriendChatRoomCreateReq@@YAXPAUPMSG_FRIEND_ROOMCREATE_REQ@@H@Z ENDP ; FriendChatRoomCreateReq
_TEXT	ENDS
; Function compile flags: /Ogtp
; File c:\users\michel\desktop\source\gameserver\source\edsprotocol.cpp
; File c:\users\michel\desktop\source\gameserver\common\winutil.h
; File c:\users\michel\desktop\source\gameserver\source\edsprotocol.cpp
; File c:\users\michel\desktop\source\gameserver\common\winutil.h
; File c:\users\michel\desktop\source\gameserver\source\edsprotocol.cpp
; File c:\users\michel\desktop\source\gameserver\common\winutil.h
; File c:\users\michel\desktop\source\gameserver\source\edsprotocol.cpp
; File c:\users\michel\desktop\source\gameserver\include\prodef.h
; File c:\users\michel\desktop\source\gameserver\source\edsprotocol.cpp
; File c:\users\michel\desktop\source\gameserver\include\prodef.h
; File c:\users\michel\desktop\source\gameserver\source\edsprotocol.cpp
;	COMDAT ?FriendDelResult@@YAXPAUFHP_FRIEND_DEL_RESULT@@@Z
_TEXT	SEGMENT
_pMsg$ = -44						; size = 14
_FriendName$ = -28					; size = 11
_Name$ = -16						; size = 11
__$ArrayPad$ = -4					; size = 4
_lpMsg$ = 8						; size = 4
?FriendDelResult@@YAXPAUFHP_FRIEND_DEL_RESULT@@@Z PROC	; FriendDelResult, COMDAT

; 2557 : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	83 ec 2c	 sub	 esp, 44			; 0000002cH
  00006	a1 00 00 00 00	 mov	 eax, DWORD PTR ___security_cookie
  0000b	33 c5		 xor	 eax, ebp
  0000d	89 45 fc	 mov	 DWORD PTR __$ArrayPad$[ebp], eax
  00010	56		 push	 esi
  00011	8b 75 08	 mov	 esi, DWORD PTR _lpMsg$[ebp]
  00014	0f 57 c0	 xorps	 xmm0, xmm0
; File c:\users\michel\desktop\source\gameserver\common\winutil.h

; 45   : 		memset(this->Name, 0, sizeof(this->Name));

  00017	66 0f d6 45 f0	 movq	 QWORD PTR _Name$[ebp], xmm0
  0001c	66 c7 45 f8 00
	00		 mov	 WORD PTR _Name$[ebp+8], 0
  00022	c6 45 fa 00	 mov	 BYTE PTR _Name$[ebp+10], 0
; File c:\users\michel\desktop\source\gameserver\source\edsprotocol.cpp

; 2558 : 	char_ID Name(lpMsg->Name);

  00026	8d 46 07	 lea	 eax, DWORD PTR [esi+7]
; File c:\users\michel\desktop\source\gameserver\common\winutil.h

; 47   : 		if ( szName != NULL )

  00029	85 c0		 test	 eax, eax
  0002b	74 11		 je	 SHORT $LN5@FriendDelR

; 48   : 		{
; 49   : 			memcpy(this->Name, szName, MAX_ACCOUNT_LEN);

  0002d	f3 0f 7e 00	 movq	 xmm0, QWORD PTR [eax]
  00031	66 8b 40 08	 mov	 ax, WORD PTR [eax+8]
  00035	66 0f d6 45 f0	 movq	 QWORD PTR _Name$[ebp], xmm0
  0003a	66 89 45 f8	 mov	 WORD PTR _Name$[ebp+8], ax
$LN5@FriendDelR:
; File c:\users\michel\desktop\source\gameserver\source\edsprotocol.cpp

; 2560 : 	if ( !gObjIsConnectedGP(lpMsg->Number, Name.GetBuffer()))

  0003e	8d 45 f0	 lea	 eax, DWORD PTR _Name$[ebp]
  00041	50		 push	 eax
  00042	0f bf 46 04	 movsx	 eax, WORD PTR [esi+4]
  00046	50		 push	 eax
  00047	e8 00 00 00 00	 call	 ?gObjIsConnectedGP@@YAHHPAD@Z ; gObjIsConnectedGP
  0004c	83 c4 08	 add	 esp, 8
  0004f	85 c0		 test	 eax, eax
  00051	75 27		 jne	 SHORT $LN2@FriendDelR

; 2561 : 	{
; 2562 : 		LogAddTD("error-L2 : Index %s %d", __FILE__, __LINE__);

  00053	68 02 0a 00 00	 push	 2562			; 00000a02H
  00058	68 00 00 00 00	 push	 OFFSET ??_C@_0BA@FCCBMCDG@EDSProtocol?4cpp?$AA@
  0005d	68 00 00 00 00	 push	 OFFSET ??_C@_0BH@LCDOHCGD@error?9L2?5?3?5Index?5?$CFs?5?$CFd?$AA@
  00062	ff 15 00 00 00
	00		 call	 DWORD PTR ?LogAddTD@@3P6AXPADZZA ; LogAddTD
  00068	83 c4 0c	 add	 esp, 12			; 0000000cH
  0006b	5e		 pop	 esi

; 2577 : }

  0006c	8b 4d fc	 mov	 ecx, DWORD PTR __$ArrayPad$[ebp]
  0006f	33 cd		 xor	 ecx, ebp
  00071	e8 00 00 00 00	 call	 @__security_check_cookie@4
  00076	8b e5		 mov	 esp, ebp
  00078	5d		 pop	 ebp
  00079	c3		 ret	 0
$LN2@FriendDelR:

; 2563 : 		return;
; 2564 : 	}
; 2565 : 
; 2566 : 	PMSG_FRIEND_DEL_RESULT pMsg;
; 2567 : 	char_ID FriendName(lpMsg->FriendName);

  0007a	8d 4e 11	 lea	 ecx, DWORD PTR [esi+17]
; File c:\users\michel\desktop\source\gameserver\common\winutil.h

; 45   : 		memset(this->Name, 0, sizeof(this->Name));

  0007d	66 c7 45 ec 00
	00		 mov	 WORD PTR _FriendName$[ebp+8], 0
  00083	c6 45 ee 00	 mov	 BYTE PTR _FriendName$[ebp+10], 0
  00087	0f 57 c0	 xorps	 xmm0, xmm0
  0008a	66 0f d6 45 e4	 movq	 QWORD PTR _FriendName$[ebp], xmm0

; 47   : 		if ( szName != NULL )

  0008f	85 c9		 test	 ecx, ecx
  00091	74 11		 je	 SHORT $LN10@FriendDelR

; 48   : 		{
; 49   : 			memcpy(this->Name, szName, MAX_ACCOUNT_LEN);

  00093	f3 0f 7e 01	 movq	 xmm0, QWORD PTR [ecx]
  00097	66 8b 41 08	 mov	 ax, WORD PTR [ecx+8]
  0009b	66 0f d6 45 e4	 movq	 QWORD PTR _FriendName$[ebp], xmm0
  000a0	66 89 45 ec	 mov	 WORD PTR _FriendName$[ebp+8], ax
$LN10@FriendDelR:
; File c:\users\michel\desktop\source\gameserver\source\edsprotocol.cpp

; 2570 : 	memcpy(pMsg.Name, lpMsg->FriendName, sizeof(pMsg.Name));

  000a4	66 8b 41 08	 mov	 ax, WORD PTR [ecx+8]
  000a8	f3 0f 7e 01	 movq	 xmm0, QWORD PTR [ecx]

; 2573 : 	LogAdd("[%s] Friend del result (%d) [%s]",

  000ac	8d 4d e4	 lea	 ecx, DWORD PTR _FriendName$[ebp]
  000af	66 89 45 e0	 mov	 WORD PTR _pMsg$[ebp+12], ax
  000b3	8a 46 06	 mov	 al, BYTE PTR [esi+6]
  000b6	88 45 d7	 mov	 BYTE PTR _pMsg$[ebp+3], al
  000b9	51		 push	 ecx
  000ba	0f b6 c0	 movzx	 eax, al
  000bd	50		 push	 eax
  000be	8d 45 f0	 lea	 eax, DWORD PTR _Name$[ebp]
; File c:\users\michel\desktop\source\gameserver\include\prodef.h

; 86   : 		lpBuf[0] = 0xC1;

  000c1	66 c7 45 d4 c1
	0e		 mov	 WORD PTR _pMsg$[ebp], 3777 ; 00000ec1H
; File c:\users\michel\desktop\source\gameserver\source\edsprotocol.cpp

; 2573 : 	LogAdd("[%s] Friend del result (%d) [%s]",

  000c7	50		 push	 eax
  000c8	68 00 00 00 00	 push	 OFFSET ??_C@_0CB@NCMBHLMH@?$FL?$CFs?$FN?5Friend?5del?5result?5?$CI?$CFd?$CJ?5?$FL?$CFs?$FN@
; File c:\users\michel\desktop\source\gameserver\include\prodef.h

; 88   : 		lpBuf[2] = head;

  000cd	c6 45 d6 c3	 mov	 BYTE PTR _pMsg$[ebp+2], 195 ; 000000c3H
; File c:\users\michel\desktop\source\gameserver\source\edsprotocol.cpp

; 2570 : 	memcpy(pMsg.Name, lpMsg->FriendName, sizeof(pMsg.Name));

  000d1	66 0f d6 45 d8	 movq	 QWORD PTR _pMsg$[ebp+4], xmm0

; 2573 : 	LogAdd("[%s] Friend del result (%d) [%s]",

  000d6	ff 15 00 00 00
	00		 call	 DWORD PTR ?LogAdd@@3P6AXPADZZA ; LogAdd

; 2574 : 		Name.GetBuffer(), lpMsg->Result, FriendName.GetBuffer());
; 2575 : 
; 2576 : 	DataSend(lpMsg->Number, (LPBYTE)&pMsg, sizeof(pMsg));

  000dc	6a 0e		 push	 14			; 0000000eH
  000de	8d 45 d4	 lea	 eax, DWORD PTR _pMsg$[ebp]
  000e1	50		 push	 eax
  000e2	0f bf 46 04	 movsx	 eax, WORD PTR [esi+4]
  000e6	50		 push	 eax
  000e7	e8 00 00 00 00	 call	 ?DataSend@@YAHHPAEK@Z	; DataSend

; 2577 : }

  000ec	8b 4d fc	 mov	 ecx, DWORD PTR __$ArrayPad$[ebp]
  000ef	83 c4 1c	 add	 esp, 28			; 0000001cH
  000f2	33 cd		 xor	 ecx, ebp
  000f4	5e		 pop	 esi
  000f5	e8 00 00 00 00	 call	 @__security_check_cookie@4
  000fa	8b e5		 mov	 esp, ebp
  000fc	5d		 pop	 ebp
  000fd	c3		 ret	 0
?FriendDelResult@@YAXPAUFHP_FRIEND_DEL_RESULT@@@Z ENDP	; FriendDelResult
_TEXT	ENDS
; Function compile flags: /Ogtp
; File c:\users\michel\desktop\source\gameserver\source\edsprotocol.cpp
; File c:\users\michel\desktop\source\gameserver\common\winutil.h
; File c:\users\michel\desktop\source\gameserver\source\edsprotocol.cpp
; File c:\users\michel\desktop\source\gameserver\common\winutil.h
; File c:\users\michel\desktop\source\gameserver\source\edsprotocol.cpp
; File c:\users\michel\desktop\source\gameserver\include\prodef.h
; File c:\users\michel\desktop\source\gameserver\source\edsprotocol.cpp
;	COMDAT ?FriendDelRequest@@YAXPAUPMSG_FRIEND_DEL_REQ@@H@Z
_TEXT	SEGMENT
_pMsg$ = -44						; size = 26
_Name$ = -16						; size = 11
__$ArrayPad$ = -4					; size = 4
_lpMsg$ = 8						; size = 4
_aIndex$ = 12						; size = 4
?FriendDelRequest@@YAXPAUPMSG_FRIEND_DEL_REQ@@H@Z PROC	; FriendDelRequest, COMDAT

; 2526 : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	83 ec 2c	 sub	 esp, 44			; 0000002cH
  00006	a1 00 00 00 00	 mov	 eax, DWORD PTR ___security_cookie
  0000b	33 c5		 xor	 eax, ebp
  0000d	89 45 fc	 mov	 DWORD PTR __$ArrayPad$[ebp], eax
  00010	57		 push	 edi
  00011	8b 7d 0c	 mov	 edi, DWORD PTR _aIndex$[ebp]

; 2527 : 	if ( !gObjIsConnectedGP(aIndex))

  00014	57		 push	 edi
  00015	e8 00 00 00 00	 call	 ?gObjIsConnectedGP@@YAHH@Z ; gObjIsConnectedGP
  0001a	83 c4 04	 add	 esp, 4
  0001d	85 c0		 test	 eax, eax
  0001f	75 27		 jne	 SHORT $LN2@FriendDelR

; 2528 : 	{
; 2529 : 		LogAddTD("error-L2 : Index %s %d", __FILE__, __LINE__);

  00021	68 e1 09 00 00	 push	 2529			; 000009e1H
  00026	68 00 00 00 00	 push	 OFFSET ??_C@_0BA@FCCBMCDG@EDSProtocol?4cpp?$AA@
  0002b	68 00 00 00 00	 push	 OFFSET ??_C@_0BH@LCDOHCGD@error?9L2?5?3?5Index?5?$CFs?5?$CFd?$AA@
  00030	ff 15 00 00 00
	00		 call	 DWORD PTR ?LogAddTD@@3P6AXPADZZA ; LogAddTD
  00036	83 c4 0c	 add	 esp, 12			; 0000000cH
  00039	5f		 pop	 edi

; 2544 : }

  0003a	8b 4d fc	 mov	 ecx, DWORD PTR __$ArrayPad$[ebp]
  0003d	33 cd		 xor	 ecx, ebp
  0003f	e8 00 00 00 00	 call	 @__security_check_cookie@4
  00044	8b e5		 mov	 esp, ebp
  00046	5d		 pop	 ebp
  00047	c3		 ret	 0
$LN2@FriendDelR:

; 2534 : 	char_ID Name(lpMsg->Name);

  00048	8b 45 08	 mov	 eax, DWORD PTR _lpMsg$[ebp]
; File c:\users\michel\desktop\source\gameserver\common\winutil.h

; 45   : 		memset(this->Name, 0, sizeof(this->Name));

  0004b	66 33 c9	 xor	 cx, cx
  0004e	66 89 4d f8	 mov	 WORD PTR _Name$[ebp+8], cx
  00052	0f 57 c9	 xorps	 xmm1, xmm1
  00055	66 0f d6 4d f0	 movq	 QWORD PTR _Name$[ebp], xmm1
  0005a	88 4d fa	 mov	 BYTE PTR _Name$[ebp+10], cl
; File c:\users\michel\desktop\source\gameserver\source\edsprotocol.cpp

; 2534 : 	char_ID Name(lpMsg->Name);

  0005d	83 c0 03	 add	 eax, 3
; File c:\users\michel\desktop\source\gameserver\common\winutil.h

; 47   : 		if ( szName != NULL )

  00060	74 11		 je	 SHORT $LN5@FriendDelR

; 48   : 		{
; 49   : 			memcpy(this->Name, szName, MAX_ACCOUNT_LEN);

  00062	f3 0f 7e 08	 movq	 xmm1, QWORD PTR [eax]
  00066	66 8b 48 08	 mov	 cx, WORD PTR [eax+8]
  0006a	66 0f d6 4d f0	 movq	 QWORD PTR _Name$[ebp], xmm1
  0006f	66 89 4d f8	 mov	 WORD PTR _Name$[ebp+8], cx
$LN5@FriendDelR:
; File c:\users\michel\desktop\source\gameserver\source\edsprotocol.cpp

; 2537 : 	memcpy(pMsg.Name, gObj[aIndex].Name, sizeof(pMsg.Name));

  00073	a1 00 00 00 00	 mov	 eax, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  00078	56		 push	 esi
  00079	69 f7 40 27 00
	00		 imul	 esi, edi, 10048
; File c:\users\michel\desktop\source\gameserver\include\prodef.h

; 86   : 		lpBuf[0] = 0xC1;

  0007f	66 c7 45 d4 c1
	1a		 mov	 WORD PTR _pMsg$[ebp], 6849 ; 00001ac1H

; 87   : 		lpBuf[1] = size;
; 88   : 		lpBuf[2] = head;

  00085	c6 45 d6 65	 mov	 BYTE PTR _pMsg$[ebp+2], 101 ; 00000065H
; File c:\users\michel\desktop\source\gameserver\source\edsprotocol.cpp

; 2541 : 	wsExDbCli.DataSend((PCHAR)&pMsg, pMsg.h.size);

  00089	6a 1a		 push	 26			; 0000001aH
  0008b	f3 0f 7e 44 06
	5d		 movq	 xmm0, QWORD PTR [esi+eax+93]
  00091	66 0f d6 45 da	 movq	 QWORD PTR _pMsg$[ebp+6], xmm0
  00096	66 8b 44 06 65	 mov	 ax, WORD PTR [esi+eax+101]
  0009b	66 89 45 e2	 mov	 WORD PTR _pMsg$[ebp+14], ax
  0009f	8d 45 d4	 lea	 eax, DWORD PTR _pMsg$[ebp]
  000a2	66 89 4d ec	 mov	 WORD PTR _pMsg$[ebp+24], cx
  000a6	b9 00 00 00 00	 mov	 ecx, OFFSET ?wsExDbCli@@3VwsJoinServerCli@@A ; wsExDbCli
  000ab	50		 push	 eax
  000ac	66 0f d6 4d e4	 movq	 QWORD PTR _pMsg$[ebp+16], xmm1
  000b1	66 89 7d d8	 mov	 WORD PTR _pMsg$[ebp+4], di
  000b5	e8 00 00 00 00	 call	 ?DataSend@wsJoinServerCli@@QAEHPADH@Z ; wsJoinServerCli::DataSend

; 2542 : 
; 2543 : 	LogAddTD("[%s] Friend del request [%s]", gObj[aIndex].Name, Name.GetBuffer());

  000ba	8d 45 f0	 lea	 eax, DWORD PTR _Name$[ebp]
  000bd	50		 push	 eax
  000be	a1 00 00 00 00	 mov	 eax, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  000c3	83 c0 5d	 add	 eax, 93			; 0000005dH
  000c6	03 c6		 add	 eax, esi
  000c8	50		 push	 eax
  000c9	68 00 00 00 00	 push	 OFFSET ??_C@_0BN@HLFBKLAE@?$FL?$CFs?$FN?5Friend?5del?5request?5?$FL?$CFs?$FN?$AA@
  000ce	ff 15 00 00 00
	00		 call	 DWORD PTR ?LogAddTD@@3P6AXPADZZA ; LogAddTD

; 2544 : }

  000d4	8b 4d fc	 mov	 ecx, DWORD PTR __$ArrayPad$[ebp]
  000d7	83 c4 0c	 add	 esp, 12			; 0000000cH
  000da	33 cd		 xor	 ecx, ebp
  000dc	5e		 pop	 esi
  000dd	5f		 pop	 edi
  000de	e8 00 00 00 00	 call	 @__security_check_cookie@4
  000e3	8b e5		 mov	 esp, ebp
  000e5	5d		 pop	 ebp
  000e6	c3		 ret	 0
?FriendDelRequest@@YAXPAUPMSG_FRIEND_DEL_REQ@@H@Z ENDP	; FriendDelRequest
_TEXT	ENDS
; Function compile flags: /Ogtp
; File c:\users\michel\desktop\source\gameserver\source\edsprotocol.cpp
; File c:\users\michel\desktop\source\gameserver\common\winutil.h
; File c:\users\michel\desktop\source\gameserver\source\edsprotocol.cpp
; File c:\users\michel\desktop\source\gameserver\common\winutil.h
; File c:\users\michel\desktop\source\gameserver\source\edsprotocol.cpp
; File c:\users\michel\desktop\source\gameserver\include\prodef.h
; File c:\users\michel\desktop\source\gameserver\source\edsprotocol.cpp
; File c:\users\michel\desktop\source\gameserver\common\winutil.h
; File c:\users\michel\desktop\source\gameserver\source\edsprotocol.cpp
;	COMDAT ?WaitFriendAddResult@@YAXPAUFHP_WAITFRIEND_ADD_RESULT@@@Z
_TEXT	SEGMENT
_pMsg$ = -44						; size = 15
_szFriendName$ = -28					; size = 11
_Name$ = -16						; size = 11
__$ArrayPad$ = -4					; size = 4
_lpMsg$ = 8						; size = 4
?WaitFriendAddResult@@YAXPAUFHP_WAITFRIEND_ADD_RESULT@@@Z PROC ; WaitFriendAddResult, COMDAT

; 2497 : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	83 ec 2c	 sub	 esp, 44			; 0000002cH
  00006	a1 00 00 00 00	 mov	 eax, DWORD PTR ___security_cookie
  0000b	33 c5		 xor	 eax, ebp
  0000d	89 45 fc	 mov	 DWORD PTR __$ArrayPad$[ebp], eax
  00010	56		 push	 esi
  00011	8b 75 08	 mov	 esi, DWORD PTR _lpMsg$[ebp]
  00014	0f 57 c0	 xorps	 xmm0, xmm0
; File c:\users\michel\desktop\source\gameserver\common\winutil.h

; 45   : 		memset(this->Name, 0, sizeof(this->Name));

  00017	66 0f d6 45 f0	 movq	 QWORD PTR _Name$[ebp], xmm0
  0001c	66 c7 45 f8 00
	00		 mov	 WORD PTR _Name$[ebp+8], 0
  00022	c6 45 fa 00	 mov	 BYTE PTR _Name$[ebp+10], 0
; File c:\users\michel\desktop\source\gameserver\source\edsprotocol.cpp

; 2498 : 	char_ID Name(lpMsg->Name);

  00026	8d 46 07	 lea	 eax, DWORD PTR [esi+7]
; File c:\users\michel\desktop\source\gameserver\common\winutil.h

; 47   : 		if ( szName != NULL )

  00029	85 c0		 test	 eax, eax
  0002b	74 11		 je	 SHORT $LN5@WaitFriend

; 48   : 		{
; 49   : 			memcpy(this->Name, szName, MAX_ACCOUNT_LEN);

  0002d	f3 0f 7e 00	 movq	 xmm0, QWORD PTR [eax]
  00031	66 8b 40 08	 mov	 ax, WORD PTR [eax+8]
  00035	66 0f d6 45 f0	 movq	 QWORD PTR _Name$[ebp], xmm0
  0003a	66 89 45 f8	 mov	 WORD PTR _Name$[ebp+8], ax
$LN5@WaitFriend:
; File c:\users\michel\desktop\source\gameserver\source\edsprotocol.cpp

; 2500 : 	if ( !gObjIsConnectedGP(lpMsg->Number, Name.GetBuffer()))

  0003e	8d 45 f0	 lea	 eax, DWORD PTR _Name$[ebp]
  00041	50		 push	 eax
  00042	0f bf 46 04	 movsx	 eax, WORD PTR [esi+4]
  00046	50		 push	 eax
  00047	e8 00 00 00 00	 call	 ?gObjIsConnectedGP@@YAHHPAD@Z ; gObjIsConnectedGP
  0004c	83 c4 08	 add	 esp, 8
  0004f	85 c0		 test	 eax, eax
  00051	75 27		 jne	 SHORT $LN2@WaitFriend

; 2501 : 	{
; 2502 : 		LogAddTD("error-L2 : Index %s %d", __FILE__, __LINE__);

  00053	68 c6 09 00 00	 push	 2502			; 000009c6H
  00058	68 00 00 00 00	 push	 OFFSET ??_C@_0BA@FCCBMCDG@EDSProtocol?4cpp?$AA@
  0005d	68 00 00 00 00	 push	 OFFSET ??_C@_0BH@LCDOHCGD@error?9L2?5?3?5Index?5?$CFs?5?$CFd?$AA@
  00062	ff 15 00 00 00
	00		 call	 DWORD PTR ?LogAddTD@@3P6AXPADZZA ; LogAddTD
  00068	83 c4 0c	 add	 esp, 12			; 0000000cH
  0006b	5e		 pop	 esi

; 2519 : }

  0006c	8b 4d fc	 mov	 ecx, DWORD PTR __$ArrayPad$[ebp]
  0006f	33 cd		 xor	 ecx, ebp
  00071	e8 00 00 00 00	 call	 @__security_check_cookie@4
  00076	8b e5		 mov	 esp, ebp
  00078	5d		 pop	 ebp
  00079	c3		 ret	 0
$LN2@WaitFriend:

; 2503 : 		return;
; 2504 : 	}
; 2505 : 
; 2506 : 	PMSG_FRIEND_ADD_RESULT pMsg;
; 2507 : 
; 2508 : 	pMsg.h.set((LPBYTE)&pMsg, 0xC1, sizeof(pMsg));
; 2509 : 	memcpy(pMsg.Name, lpMsg->FriendName, sizeof(pMsg.Name));

  0007a	f3 0f 7e 46 11	 movq	 xmm0, QWORD PTR [esi+17]
  0007f	8d 4e 11	 lea	 ecx, DWORD PTR [esi+17]
  00082	66 8b 41 08	 mov	 ax, WORD PTR [ecx+8]

; 2510 : 	pMsg.Result = lpMsg->Result;

  00086	8a 56 06	 mov	 dl, BYTE PTR [esi+6]
  00089	66 0f d6 45 d8	 movq	 QWORD PTR _pMsg$[ebp+4], xmm0
  0008e	0f 57 c0	 xorps	 xmm0, xmm0
  00091	66 89 45 e0	 mov	 WORD PTR _pMsg$[ebp+12], ax

; 2511 : 	pMsg.State = lpMsg->pServer;

  00095	8a 46 1b	 mov	 al, BYTE PTR [esi+27]
; File c:\users\michel\desktop\source\gameserver\include\prodef.h

; 86   : 		lpBuf[0] = 0xC1;

  00098	66 c7 45 d4 c1
	0f		 mov	 WORD PTR _pMsg$[ebp], 4033 ; 00000fc1H

; 87   : 		lpBuf[1] = size;
; 88   : 		lpBuf[2] = head;

  0009e	c6 45 d6 c1	 mov	 BYTE PTR _pMsg$[ebp+2], 193 ; 000000c1H
; File c:\users\michel\desktop\source\gameserver\source\edsprotocol.cpp

; 2510 : 	pMsg.Result = lpMsg->Result;

  000a2	88 55 d7	 mov	 BYTE PTR _pMsg$[ebp+3], dl

; 2511 : 	pMsg.State = lpMsg->pServer;

  000a5	88 45 e2	 mov	 BYTE PTR _pMsg$[ebp+14], al
; File c:\users\michel\desktop\source\gameserver\common\winutil.h

; 45   : 		memset(this->Name, 0, sizeof(this->Name));

  000a8	66 0f d6 45 e4	 movq	 QWORD PTR _szFriendName$[ebp], xmm0
  000ad	66 c7 45 ec 00
	00		 mov	 WORD PTR _szFriendName$[ebp+8], 0
  000b3	c6 45 ee 00	 mov	 BYTE PTR _szFriendName$[ebp+10], 0

; 47   : 		if ( szName != NULL )

  000b7	85 c9		 test	 ecx, ecx
  000b9	74 11		 je	 SHORT $LN12@WaitFriend

; 48   : 		{
; 49   : 			memcpy(this->Name, szName, MAX_ACCOUNT_LEN);

  000bb	f3 0f 7e 01	 movq	 xmm0, QWORD PTR [ecx]
  000bf	66 8b 41 08	 mov	 ax, WORD PTR [ecx+8]
  000c3	66 0f d6 45 e4	 movq	 QWORD PTR _szFriendName$[ebp], xmm0
  000c8	66 89 45 ec	 mov	 WORD PTR _szFriendName$[ebp+8], ax
$LN12@WaitFriend:
; File c:\users\michel\desktop\source\gameserver\source\edsprotocol.cpp

; 2515 : 	LogAdd("[%s] WaitFriend add result (%d) [%s]",

  000cc	8d 45 e4	 lea	 eax, DWORD PTR _szFriendName$[ebp]
  000cf	50		 push	 eax
  000d0	0f b6 c2	 movzx	 eax, dl
  000d3	50		 push	 eax
  000d4	8d 45 f0	 lea	 eax, DWORD PTR _Name$[ebp]
  000d7	50		 push	 eax
  000d8	68 00 00 00 00	 push	 OFFSET ??_C@_0CF@CCKIBLLA@?$FL?$CFs?$FN?5WaitFriend?5add?5result?5?$CI?$CFd?$CJ?5@
  000dd	ff 15 00 00 00
	00		 call	 DWORD PTR ?LogAdd@@3P6AXPADZZA ; LogAdd

; 2516 : 		Name.GetBuffer(), lpMsg->Result, szFriendName.GetBuffer());
; 2517 : 
; 2518 : 	DataSend(lpMsg->Number, (LPBYTE)&pMsg, sizeof(pMsg));

  000e3	6a 0f		 push	 15			; 0000000fH
  000e5	8d 45 d4	 lea	 eax, DWORD PTR _pMsg$[ebp]
  000e8	50		 push	 eax
  000e9	0f bf 46 04	 movsx	 eax, WORD PTR [esi+4]
  000ed	50		 push	 eax
  000ee	e8 00 00 00 00	 call	 ?DataSend@@YAHHPAEK@Z	; DataSend

; 2519 : }

  000f3	8b 4d fc	 mov	 ecx, DWORD PTR __$ArrayPad$[ebp]
  000f6	83 c4 1c	 add	 esp, 28			; 0000001cH
  000f9	33 cd		 xor	 ecx, ebp
  000fb	5e		 pop	 esi
  000fc	e8 00 00 00 00	 call	 @__security_check_cookie@4
  00101	8b e5		 mov	 esp, ebp
  00103	5d		 pop	 ebp
  00104	c3		 ret	 0
?WaitFriendAddResult@@YAXPAUFHP_WAITFRIEND_ADD_RESULT@@@Z ENDP ; WaitFriendAddResult
_TEXT	ENDS
; Function compile flags: /Ogtp
; File c:\users\michel\desktop\source\gameserver\source\edsprotocol.cpp
; File c:\users\michel\desktop\source\gameserver\include\prodef.h
; File c:\users\michel\desktop\source\gameserver\source\edsprotocol.cpp
; File c:\users\michel\desktop\source\gameserver\common\winutil.h
; File c:\users\michel\desktop\source\gameserver\source\edsprotocol.cpp
;	COMDAT ?WaitFriendAddRequest@@YAXPAUPMSG_FRIEND_ADD_SIN_RESULT@@H@Z
_TEXT	SEGMENT
tv131 = -48						; size = 4
_pMsg$ = -44						; size = 26
_fname$1 = -16						; size = 11
__$ArrayPad$ = -4					; size = 4
_lpMsg$ = 8						; size = 4
_aIndex$ = 12						; size = 4
?WaitFriendAddRequest@@YAXPAUPMSG_FRIEND_ADD_SIN_RESULT@@H@Z PROC ; WaitFriendAddRequest, COMDAT

; 2469 : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	83 ec 30	 sub	 esp, 48			; 00000030H
  00006	a1 00 00 00 00	 mov	 eax, DWORD PTR ___security_cookie
  0000b	33 c5		 xor	 eax, ebp
  0000d	89 45 fc	 mov	 DWORD PTR __$ArrayPad$[ebp], eax
  00010	53		 push	 ebx
  00011	8b 5d 08	 mov	 ebx, DWORD PTR _lpMsg$[ebp]
  00014	57		 push	 edi
  00015	8b 7d 0c	 mov	 edi, DWORD PTR _aIndex$[ebp]

; 2470 : 	if ( !gObjIsConnectedGP(aIndex))

  00018	57		 push	 edi
  00019	e8 00 00 00 00	 call	 ?gObjIsConnectedGP@@YAHH@Z ; gObjIsConnectedGP
  0001e	83 c4 04	 add	 esp, 4
  00021	85 c0		 test	 eax, eax
  00023	75 28		 jne	 SHORT $LN2@WaitFriend

; 2471 : 	{
; 2472 : 		LogAddTD("error-L2 : Index %s %d", __FILE__, __LINE__);

  00025	68 a8 09 00 00	 push	 2472			; 000009a8H
  0002a	68 00 00 00 00	 push	 OFFSET ??_C@_0BA@FCCBMCDG@EDSProtocol?4cpp?$AA@
  0002f	68 00 00 00 00	 push	 OFFSET ??_C@_0BH@LCDOHCGD@error?9L2?5?3?5Index?5?$CFs?5?$CFd?$AA@
  00034	ff 15 00 00 00
	00		 call	 DWORD PTR ?LogAddTD@@3P6AXPADZZA ; LogAddTD
  0003a	83 c4 0c	 add	 esp, 12			; 0000000cH
  0003d	5f		 pop	 edi
  0003e	5b		 pop	 ebx

; 2489 : 	}
; 2490 : }

  0003f	8b 4d fc	 mov	 ecx, DWORD PTR __$ArrayPad$[ebp]
  00042	33 cd		 xor	 ecx, ebp
  00044	e8 00 00 00 00	 call	 @__security_check_cookie@4
  00049	8b e5		 mov	 esp, ebp
  0004b	5d		 pop	 ebp
  0004c	c3		 ret	 0
$LN2@WaitFriend:

; 2473 : 		return;
; 2474 : 	}
; 2475 : 
; 2476 : 	FHP_WAITFRIEND_ADD_REQ pMsg;
; 2477 : 
; 2478 : 	pMsg.h.set((LPBYTE)&pMsg, 0x64, sizeof(pMsg));
; 2479 : 	memcpy(pMsg.Name, gObj[aIndex].Name, sizeof(pMsg.Name));

  0004d	a1 00 00 00 00	 mov	 eax, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  00052	69 cf 40 27 00
	00		 imul	 ecx, edi, 10048
; File c:\users\michel\desktop\source\gameserver\include\prodef.h

; 86   : 		lpBuf[0] = 0xC1;

  00058	66 c7 45 d4 c1
	1a		 mov	 WORD PTR _pMsg$[ebp], 6849 ; 00001ac1H

; 87   : 		lpBuf[1] = size;
; 88   : 		lpBuf[2] = head;

  0005e	c6 45 d6 64	 mov	 BYTE PTR _pMsg$[ebp+2], 100 ; 00000064H
  00062	56		 push	 esi
; File c:\users\michel\desktop\source\gameserver\source\edsprotocol.cpp

; 2480 : 	memcpy(pMsg.FriendName, lpMsg->Name, sizeof(pMsg.FriendName));

  00063	8d 73 04	 lea	 esi, DWORD PTR [ebx+4]

; 2481 : 	pMsg.Result = lpMsg->Result;
; 2482 : 	pMsg.Number = aIndex;
; 2483 : 
; 2484 : 	wsExDbCli.DataSend((PCHAR)&pMsg, pMsg.h.size);

  00066	6a 1a		 push	 26			; 0000001aH
  00068	89 4d d0	 mov	 DWORD PTR tv131[ebp], ecx
  0006b	f3 0f 7e 44 01
	5d		 movq	 xmm0, QWORD PTR [ecx+eax+93]
  00071	66 0f d6 45 da	 movq	 QWORD PTR _pMsg$[ebp+6], xmm0
  00076	0f b7 44 01 65	 movzx	 eax, WORD PTR [ecx+eax+101]
  0007b	b9 00 00 00 00	 mov	 ecx, OFFSET ?wsExDbCli@@3VwsJoinServerCli@@A ; wsExDbCli
  00080	f3 0f 7e 06	 movq	 xmm0, QWORD PTR [esi]
  00084	66 89 45 e2	 mov	 WORD PTR _pMsg$[ebp+14], ax
  00088	0f b7 46 08	 movzx	 eax, WORD PTR [esi+8]
  0008c	66 89 45 ec	 mov	 WORD PTR _pMsg$[ebp+24], ax
  00090	8a 43 03	 mov	 al, BYTE PTR [ebx+3]
  00093	88 45 d7	 mov	 BYTE PTR _pMsg$[ebp+3], al
  00096	8d 45 d4	 lea	 eax, DWORD PTR _pMsg$[ebp]
  00099	50		 push	 eax
  0009a	66 0f d6 45 e4	 movq	 QWORD PTR _pMsg$[ebp+16], xmm0
  0009f	66 89 7d d8	 mov	 WORD PTR _pMsg$[ebp+4], di
  000a3	e8 00 00 00 00	 call	 ?DataSend@wsJoinServerCli@@QAEHPADH@Z ; wsJoinServerCli::DataSend
; File c:\users\michel\desktop\source\gameserver\common\winutil.h

; 45   : 		memset(this->Name, 0, sizeof(this->Name));

  000a8	66 c7 45 f8 00
	00		 mov	 WORD PTR _fname$1[ebp+8], 0
  000ae	0f 57 c0	 xorps	 xmm0, xmm0
  000b1	66 0f d6 45 f0	 movq	 QWORD PTR _fname$1[ebp], xmm0
  000b6	c6 45 fa 00	 mov	 BYTE PTR _fname$1[ebp+10], 0

; 46   : 
; 47   : 		if ( szName != NULL )

  000ba	85 f6		 test	 esi, esi
  000bc	74 11		 je	 SHORT $LN7@WaitFriend

; 48   : 		{
; 49   : 			memcpy(this->Name, szName, MAX_ACCOUNT_LEN);

  000be	f3 0f 7e 06	 movq	 xmm0, QWORD PTR [esi]
  000c2	66 8b 46 08	 mov	 ax, WORD PTR [esi+8]
  000c6	66 0f d6 45 f0	 movq	 QWORD PTR _fname$1[ebp], xmm0
  000cb	66 89 45 f8	 mov	 WORD PTR _fname$1[ebp+8], ax
$LN7@WaitFriend:
; File c:\users\michel\desktop\source\gameserver\source\edsprotocol.cpp

; 2488 : 		LogAdd("[%s] WaitFriend add request [%s]", gObj[aIndex].Name, fname.GetBuffer());

  000cf	8d 45 f0	 lea	 eax, DWORD PTR _fname$1[ebp]
  000d2	50		 push	 eax
  000d3	a1 00 00 00 00	 mov	 eax, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  000d8	83 c0 5d	 add	 eax, 93			; 0000005dH
  000db	03 45 d0	 add	 eax, DWORD PTR tv131[ebp]
  000de	50		 push	 eax
  000df	68 00 00 00 00	 push	 OFFSET ??_C@_0CB@IIBIOFAA@?$FL?$CFs?$FN?5WaitFriend?5add?5request?5?$FL?$CFs?$FN@
  000e4	ff 15 00 00 00
	00		 call	 DWORD PTR ?LogAdd@@3P6AXPADZZA ; LogAdd

; 2489 : 	}
; 2490 : }

  000ea	8b 4d fc	 mov	 ecx, DWORD PTR __$ArrayPad$[ebp]
  000ed	83 c4 0c	 add	 esp, 12			; 0000000cH
  000f0	33 cd		 xor	 ecx, ebp
  000f2	5e		 pop	 esi
  000f3	5f		 pop	 edi
  000f4	5b		 pop	 ebx
  000f5	e8 00 00 00 00	 call	 @__security_check_cookie@4
  000fa	8b e5		 mov	 esp, ebp
  000fc	5d		 pop	 ebp
  000fd	c3		 ret	 0
?WaitFriendAddRequest@@YAXPAUPMSG_FRIEND_ADD_SIN_RESULT@@H@Z ENDP ; WaitFriendAddRequest
_TEXT	ENDS
; Function compile flags: /Ogtp
; File c:\users\michel\desktop\source\gameserver\source\edsprotocol.cpp
; File c:\users\michel\desktop\source\gameserver\common\winutil.h
; File c:\users\michel\desktop\source\gameserver\source\edsprotocol.cpp
; File c:\users\michel\desktop\source\gameserver\common\winutil.h
; File c:\users\michel\desktop\source\gameserver\source\edsprotocol.cpp
; File c:\users\michel\desktop\source\gameserver\common\winutil.h
; File c:\users\michel\desktop\source\gameserver\source\edsprotocol.cpp
; File c:\users\michel\desktop\source\gameserver\include\prodef.h
; File c:\users\michel\desktop\source\gameserver\source\edsprotocol.cpp
;	COMDAT ?FriendAddResult@@YAXPAUFHP_FRIEND_ADD_RESULT@@@Z
_TEXT	SEGMENT
_pMsg$ = -44						; size = 15
_szFriendName$ = -28					; size = 11
_Name$ = -16						; size = 11
__$ArrayPad$ = -4					; size = 4
_lpMsg$ = 8						; size = 4
?FriendAddResult@@YAXPAUFHP_FRIEND_ADD_RESULT@@@Z PROC	; FriendAddResult, COMDAT

; 2433 : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	83 ec 2c	 sub	 esp, 44			; 0000002cH
  00006	a1 00 00 00 00	 mov	 eax, DWORD PTR ___security_cookie
  0000b	33 c5		 xor	 eax, ebp
  0000d	89 45 fc	 mov	 DWORD PTR __$ArrayPad$[ebp], eax
  00010	56		 push	 esi
  00011	8b 75 08	 mov	 esi, DWORD PTR _lpMsg$[ebp]
  00014	0f 57 c0	 xorps	 xmm0, xmm0
; File c:\users\michel\desktop\source\gameserver\common\winutil.h

; 45   : 		memset(this->Name, 0, sizeof(this->Name));

  00017	66 0f d6 45 f0	 movq	 QWORD PTR _Name$[ebp], xmm0
  0001c	66 c7 45 f8 00
	00		 mov	 WORD PTR _Name$[ebp+8], 0
  00022	c6 45 fa 00	 mov	 BYTE PTR _Name$[ebp+10], 0
; File c:\users\michel\desktop\source\gameserver\source\edsprotocol.cpp

; 2434 : 	char_ID Name(lpMsg->Name);

  00026	8d 46 07	 lea	 eax, DWORD PTR [esi+7]
; File c:\users\michel\desktop\source\gameserver\common\winutil.h

; 47   : 		if ( szName != NULL )

  00029	85 c0		 test	 eax, eax
  0002b	74 11		 je	 SHORT $LN5@FriendAddR

; 48   : 		{
; 49   : 			memcpy(this->Name, szName, MAX_ACCOUNT_LEN);

  0002d	f3 0f 7e 00	 movq	 xmm0, QWORD PTR [eax]
  00031	66 8b 40 08	 mov	 ax, WORD PTR [eax+8]
  00035	66 0f d6 45 f0	 movq	 QWORD PTR _Name$[ebp], xmm0
  0003a	66 89 45 f8	 mov	 WORD PTR _Name$[ebp+8], ax
$LN5@FriendAddR:
; File c:\users\michel\desktop\source\gameserver\source\edsprotocol.cpp

; 2436 : 	if ( !gObjIsConnectedGP(lpMsg->Number, Name.GetBuffer()))

  0003e	8d 45 f0	 lea	 eax, DWORD PTR _Name$[ebp]
  00041	50		 push	 eax
  00042	0f bf 46 04	 movsx	 eax, WORD PTR [esi+4]
  00046	50		 push	 eax
  00047	e8 00 00 00 00	 call	 ?gObjIsConnectedGP@@YAHHPAD@Z ; gObjIsConnectedGP
  0004c	83 c4 08	 add	 esp, 8
  0004f	85 c0		 test	 eax, eax
  00051	75 27		 jne	 SHORT $LN2@FriendAddR

; 2437 : 	{
; 2438 : 		LogAddTD("error-L2 : Index %s %d", __FILE__, __LINE__);

  00053	68 86 09 00 00	 push	 2438			; 00000986H
  00058	68 00 00 00 00	 push	 OFFSET ??_C@_0BA@FCCBMCDG@EDSProtocol?4cpp?$AA@
  0005d	68 00 00 00 00	 push	 OFFSET ??_C@_0BH@LCDOHCGD@error?9L2?5?3?5Index?5?$CFs?5?$CFd?$AA@
  00062	ff 15 00 00 00
	00		 call	 DWORD PTR ?LogAddTD@@3P6AXPADZZA ; LogAddTD
  00068	83 c4 0c	 add	 esp, 12			; 0000000cH
  0006b	5e		 pop	 esi

; 2453 : 		Name.GetBuffer(), lpMsg->Result, szFriendName.GetBuffer());
; 2454 : }

  0006c	8b 4d fc	 mov	 ecx, DWORD PTR __$ArrayPad$[ebp]
  0006f	33 cd		 xor	 ecx, ebp
  00071	e8 00 00 00 00	 call	 @__security_check_cookie@4
  00076	8b e5		 mov	 esp, ebp
  00078	5d		 pop	 ebp
  00079	c3		 ret	 0
$LN2@FriendAddR:

; 2439 : 		return;
; 2440 : 	}
; 2441 : 
; 2442 : 	PMSG_FRIEND_ADD_RESULT pMsg;
; 2443 : 	char_ID szFriendName(lpMsg->FriendName);

  0007a	8d 4e 11	 lea	 ecx, DWORD PTR [esi+17]
; File c:\users\michel\desktop\source\gameserver\common\winutil.h

; 45   : 		memset(this->Name, 0, sizeof(this->Name));

  0007d	66 c7 45 ec 00
	00		 mov	 WORD PTR _szFriendName$[ebp+8], 0
  00083	c6 45 ee 00	 mov	 BYTE PTR _szFriendName$[ebp+10], 0
  00087	0f 57 c0	 xorps	 xmm0, xmm0
  0008a	66 0f d6 45 e4	 movq	 QWORD PTR _szFriendName$[ebp], xmm0

; 47   : 		if ( szName != NULL )

  0008f	85 c9		 test	 ecx, ecx
  00091	74 11		 je	 SHORT $LN10@FriendAddR

; 48   : 		{
; 49   : 			memcpy(this->Name, szName, MAX_ACCOUNT_LEN);

  00093	f3 0f 7e 01	 movq	 xmm0, QWORD PTR [ecx]
  00097	66 8b 41 08	 mov	 ax, WORD PTR [ecx+8]
  0009b	66 0f d6 45 e4	 movq	 QWORD PTR _szFriendName$[ebp], xmm0
  000a0	66 89 45 ec	 mov	 WORD PTR _szFriendName$[ebp+8], ax
$LN10@FriendAddR:
; File c:\users\michel\desktop\source\gameserver\source\edsprotocol.cpp

; 2446 : 	memcpy(pMsg.Name, lpMsg->FriendName, sizeof(pMsg.Name));

  000a4	66 8b 41 08	 mov	 ax, WORD PTR [ecx+8]
  000a8	f3 0f 7e 01	 movq	 xmm0, QWORD PTR [ecx]
  000ac	66 89 45 e0	 mov	 WORD PTR _pMsg$[ebp+12], ax

; 2447 : 	pMsg.Result = lpMsg->Result;

  000b0	0f b6 46 06	 movzx	 eax, BYTE PTR [esi+6]
  000b4	88 45 d7	 mov	 BYTE PTR _pMsg$[ebp+3], al

; 2448 : 	pMsg.State = lpMsg->Server;

  000b7	0f b6 46 1b	 movzx	 eax, BYTE PTR [esi+27]
  000bb	88 45 e2	 mov	 BYTE PTR _pMsg$[ebp+14], al

; 2449 : 
; 2450 : 	DataSend(lpMsg->Number, (LPBYTE)&pMsg, sizeof(pMsg));

  000be	8d 45 d4	 lea	 eax, DWORD PTR _pMsg$[ebp]
  000c1	6a 0f		 push	 15			; 0000000fH
  000c3	50		 push	 eax
  000c4	0f bf 46 04	 movsx	 eax, WORD PTR [esi+4]
  000c8	50		 push	 eax
; File c:\users\michel\desktop\source\gameserver\include\prodef.h

; 86   : 		lpBuf[0] = 0xC1;

  000c9	66 c7 45 d4 c1
	0f		 mov	 WORD PTR _pMsg$[ebp], 4033 ; 00000fc1H

; 87   : 		lpBuf[1] = size;
; 88   : 		lpBuf[2] = head;

  000cf	c6 45 d6 c1	 mov	 BYTE PTR _pMsg$[ebp+2], 193 ; 000000c1H
; File c:\users\michel\desktop\source\gameserver\source\edsprotocol.cpp

; 2446 : 	memcpy(pMsg.Name, lpMsg->FriendName, sizeof(pMsg.Name));

  000d3	66 0f d6 45 d8	 movq	 QWORD PTR _pMsg$[ebp+4], xmm0

; 2449 : 
; 2450 : 	DataSend(lpMsg->Number, (LPBYTE)&pMsg, sizeof(pMsg));

  000d8	e8 00 00 00 00	 call	 ?DataSend@@YAHHPAEK@Z	; DataSend

; 2451 : 
; 2452 : 	LogAdd("[%s] Friend add result : (%d) friend Name : (%s)",

  000dd	8d 45 e4	 lea	 eax, DWORD PTR _szFriendName$[ebp]
  000e0	50		 push	 eax
  000e1	0f b6 46 06	 movzx	 eax, BYTE PTR [esi+6]
  000e5	50		 push	 eax
  000e6	8d 45 f0	 lea	 eax, DWORD PTR _Name$[ebp]
  000e9	50		 push	 eax
  000ea	68 00 00 00 00	 push	 OFFSET ??_C@_0DB@NPDFCIKD@?$FL?$CFs?$FN?5Friend?5add?5result?5?3?5?$CI?$CFd?$CJ?5fr@
  000ef	ff 15 00 00 00
	00		 call	 DWORD PTR ?LogAdd@@3P6AXPADZZA ; LogAdd

; 2453 : 		Name.GetBuffer(), lpMsg->Result, szFriendName.GetBuffer());
; 2454 : }

  000f5	8b 4d fc	 mov	 ecx, DWORD PTR __$ArrayPad$[ebp]
  000f8	83 c4 1c	 add	 esp, 28			; 0000001cH
  000fb	33 cd		 xor	 ecx, ebp
  000fd	5e		 pop	 esi
  000fe	e8 00 00 00 00	 call	 @__security_check_cookie@4
  00103	8b e5		 mov	 esp, ebp
  00105	5d		 pop	 ebp
  00106	c3		 ret	 0
?FriendAddResult@@YAXPAUFHP_FRIEND_ADD_RESULT@@@Z ENDP	; FriendAddResult
_TEXT	ENDS
; Function compile flags: /Ogtp
; File c:\users\michel\desktop\source\gameserver\source\edsprotocol.cpp
; File c:\users\michel\desktop\source\gameserver\include\prodef.h
; File c:\users\michel\desktop\source\gameserver\source\edsprotocol.cpp
; File c:\users\michel\desktop\source\gameserver\include\prodef.h
; File c:\users\michel\desktop\source\gameserver\source\edsprotocol.cpp
; File c:\users\michel\desktop\source\gameserver\common\winutil.h
; File c:\users\michel\desktop\source\gameserver\source\edsprotocol.cpp
; File c:\users\michel\desktop\source\gameserver\include\prodef.h
; File c:\users\michel\desktop\source\gameserver\source\edsprotocol.cpp
;	COMDAT ?FriendAddRequest@@YAXPAUPMSG_FRIEND_ADD_REQ@@H@Z
_TEXT	SEGMENT
_pMsg$ = -60						; size = 26
_pResult$1 = -32					; size = 15
_szFriendName$ = -16					; size = 11
__$ArrayPad$ = -4					; size = 4
_lpMsg$ = 8						; size = 4
_aIndex$ = 12						; size = 4
?FriendAddRequest@@YAXPAUPMSG_FRIEND_ADD_REQ@@H@Z PROC	; FriendAddRequest, COMDAT

; 2392 : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	83 ec 3c	 sub	 esp, 60			; 0000003cH
  00006	a1 00 00 00 00	 mov	 eax, DWORD PTR ___security_cookie
  0000b	33 c5		 xor	 eax, ebp
  0000d	89 45 fc	 mov	 DWORD PTR __$ArrayPad$[ebp], eax
  00010	56		 push	 esi
  00011	8b 75 08	 mov	 esi, DWORD PTR _lpMsg$[ebp]
  00014	57		 push	 edi
  00015	8b 7d 0c	 mov	 edi, DWORD PTR _aIndex$[ebp]

; 2393 : 	if ( !gObjIsConnectedGP(aIndex))

  00018	57		 push	 edi
  00019	e8 00 00 00 00	 call	 ?gObjIsConnectedGP@@YAHH@Z ; gObjIsConnectedGP
  0001e	83 c4 04	 add	 esp, 4
  00021	85 c0		 test	 eax, eax
  00023	75 28		 jne	 SHORT $LN2@FriendAddR

; 2394 : 	{
; 2395 : 		LogAddTD("error-L2 : Index %s %d", __FILE__, __LINE__);

  00025	68 5b 09 00 00	 push	 2395			; 0000095bH
  0002a	68 00 00 00 00	 push	 OFFSET ??_C@_0BA@FCCBMCDG@EDSProtocol?4cpp?$AA@
  0002f	68 00 00 00 00	 push	 OFFSET ??_C@_0BH@LCDOHCGD@error?9L2?5?3?5Index?5?$CFs?5?$CFd?$AA@
  00034	ff 15 00 00 00
	00		 call	 DWORD PTR ?LogAddTD@@3P6AXPADZZA ; LogAddTD
  0003a	83 c4 0c	 add	 esp, 12			; 0000000cH
  0003d	5f		 pop	 edi
  0003e	5e		 pop	 esi

; 2425 : 	}
; 2426 : }		

  0003f	8b 4d fc	 mov	 ecx, DWORD PTR __$ArrayPad$[ebp]
  00042	33 cd		 xor	 ecx, ebp
  00044	e8 00 00 00 00	 call	 @__security_check_cookie@4
  00049	8b e5		 mov	 esp, ebp
  0004b	5d		 pop	 ebp
  0004c	c3		 ret	 0
$LN2@FriendAddR:

; 2402 : 	memcpy(pMsg.Name, gObj[aIndex].Name, sizeof(pMsg.Name));

  0004d	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  00053	53		 push	 ebx
  00054	69 df 40 27 00
	00		 imul	 ebx, edi, 10048
  0005a	83 c1 5d	 add	 ecx, 93			; 0000005dH
  0005d	03 cb		 add	 ecx, ebx
; File c:\users\michel\desktop\source\gameserver\include\prodef.h

; 86   : 		lpBuf[0] = 0xC1;

  0005f	66 c7 45 c4 c1
	1a		 mov	 WORD PTR _pMsg$[ebp], 6849 ; 00001ac1H
; File c:\users\michel\desktop\source\gameserver\source\edsprotocol.cpp

; 2403 : 	memcpy(pMsg.FriendName, lpMsg->Name, sizeof(pMsg.FriendName));

  00065	83 c6 03	 add	 esi, 3
; File c:\users\michel\desktop\source\gameserver\include\prodef.h

; 88   : 		lpBuf[2] = head;

  00068	c6 45 c6 63	 mov	 BYTE PTR _pMsg$[ebp+2], 99 ; 00000063H
; File c:\users\michel\desktop\source\gameserver\source\edsprotocol.cpp

; 2402 : 	memcpy(pMsg.Name, gObj[aIndex].Name, sizeof(pMsg.Name));

  0006c	f3 0f 7e 01	 movq	 xmm0, QWORD PTR [ecx]
  00070	66 0f d6 45 ca	 movq	 QWORD PTR _pMsg$[ebp+6], xmm0
  00075	0f b7 41 08	 movzx	 eax, WORD PTR [ecx+8]

; 2403 : 	memcpy(pMsg.FriendName, lpMsg->Name, sizeof(pMsg.FriendName));

  00079	f3 0f 7e 06	 movq	 xmm0, QWORD PTR [esi]
  0007d	66 89 45 d2	 mov	 WORD PTR _pMsg$[ebp+14], ax
  00081	0f b7 46 08	 movzx	 eax, WORD PTR [esi+8]
  00085	66 0f d6 45 d4	 movq	 QWORD PTR _pMsg$[ebp+16], xmm0
  0008a	0f 57 c0	 xorps	 xmm0, xmm0
  0008d	66 89 45 dc	 mov	 WORD PTR _pMsg$[ebp+24], ax

; 2404 : 	pMsg.Number = aIndex;

  00091	66 89 7d c8	 mov	 WORD PTR _pMsg$[ebp+4], di
; File c:\users\michel\desktop\source\gameserver\common\winutil.h

; 45   : 		memset(this->Name, 0, sizeof(this->Name));

  00095	66 0f d6 45 f0	 movq	 QWORD PTR _szFriendName$[ebp], xmm0
  0009a	66 c7 45 f8 00
	00		 mov	 WORD PTR _szFriendName$[ebp+8], 0
  000a0	c6 45 fa 00	 mov	 BYTE PTR _szFriendName$[ebp+10], 0

; 46   : 
; 47   : 		if ( szName != NULL )

  000a4	74 11		 je	 SHORT $LN9@FriendAddR

; 48   : 		{
; 49   : 			memcpy(this->Name, szName, MAX_ACCOUNT_LEN);

  000a6	f3 0f 7e 06	 movq	 xmm0, QWORD PTR [esi]
  000aa	66 8b 46 08	 mov	 ax, WORD PTR [esi+8]
  000ae	66 0f d6 45 f0	 movq	 QWORD PTR _szFriendName$[ebp], xmm0
  000b3	66 89 45 f8	 mov	 WORD PTR _szFriendName$[ebp+8], ax
$LN9@FriendAddR:
; File c:\users\michel\desktop\source\gameserver\source\edsprotocol.cpp

; 2407 : 	LogAdd("[%s] Friend add request Name: [%s]", gObj[aIndex].Name,		szFriendName.GetBuffer());

  000b7	8d 45 f0	 lea	 eax, DWORD PTR _szFriendName$[ebp]
  000ba	50		 push	 eax
  000bb	51		 push	 ecx
  000bc	68 00 00 00 00	 push	 OFFSET ??_C@_0CD@OOGOJAIC@?$FL?$CFs?$FN?5Friend?5add?5request?5Name?3?5?$FL?$CF@
  000c1	ff 15 00 00 00
	00		 call	 DWORD PTR ?LogAdd@@3P6AXPADZZA ; LogAdd

; 2408 : 
; 2409 : 	if ( !strcmp(gObj[aIndex].Name, szFriendName.GetBuffer()))

  000c7	a1 00 00 00 00	 mov	 eax, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  000cc	8d 4d f0	 lea	 ecx, DWORD PTR _szFriendName$[ebp]
  000cf	83 c0 5d	 add	 eax, 93			; 0000005dH
  000d2	83 c4 0c	 add	 esp, 12			; 0000000cH
  000d5	03 d8		 add	 ebx, eax
  000d7	8b c3		 mov	 eax, ebx
  000d9	0f 1f 80 00 00
	00 00		 npad	 7
$LL17@FriendAddR:
  000e0	8a 10		 mov	 dl, BYTE PTR [eax]
  000e2	3a 11		 cmp	 dl, BYTE PTR [ecx]
  000e4	75 1a		 jne	 SHORT $LN18@FriendAddR
  000e6	84 d2		 test	 dl, dl
  000e8	74 12		 je	 SHORT $LN19@FriendAddR
  000ea	8a 50 01	 mov	 dl, BYTE PTR [eax+1]
  000ed	3a 51 01	 cmp	 dl, BYTE PTR [ecx+1]
  000f0	75 0e		 jne	 SHORT $LN18@FriendAddR
  000f2	83 c0 02	 add	 eax, 2
  000f5	83 c1 02	 add	 ecx, 2
  000f8	84 d2		 test	 dl, dl
  000fa	75 e4		 jne	 SHORT $LL17@FriendAddR
$LN19@FriendAddR:
  000fc	33 c0		 xor	 eax, eax
  000fe	eb 05		 jmp	 SHORT $LN20@FriendAddR
$LN18@FriendAddR:
  00100	1b c0		 sbb	 eax, eax
  00102	83 c8 01	 or	 eax, 1
$LN20@FriendAddR:
  00105	85 c0		 test	 eax, eax
  00107	75 48		 jne	 SHORT $LN3@FriendAddR

; 2410 : 	{
; 2411 : 		LogAdd("error-L3 : [%s] Friend add : Not self", gObj[aIndex].Name);

  00109	53		 push	 ebx
  0010a	68 00 00 00 00	 push	 OFFSET ??_C@_0CG@JNIACLCP@error?9L3?5?3?5?$FL?$CFs?$FN?5Friend?5add?5?3?5Not@
  0010f	ff 15 00 00 00
	00		 call	 DWORD PTR ?LogAdd@@3P6AXPADZZA ; LogAdd

; 2416 : 		memcpy(pResult.Name, lpMsg->Name, sizeof(pMsg.Name));

  00115	66 8b 46 08	 mov	 ax, WORD PTR [esi+8]
  00119	f3 0f 7e 06	 movq	 xmm0, QWORD PTR [esi]
  0011d	66 89 45 ec	 mov	 WORD PTR _pResult$1[ebp+12], ax

; 2419 : 
; 2420 : 		DataSend(aIndex, (LPBYTE)&pResult, sizeof(pResult));

  00121	8d 45 e0	 lea	 eax, DWORD PTR _pResult$1[ebp]
  00124	6a 0f		 push	 15			; 0000000fH
  00126	50		 push	 eax
  00127	57		 push	 edi
; File c:\users\michel\desktop\source\gameserver\include\prodef.h

; 86   : 		lpBuf[0] = 0xC1;

  00128	c7 45 e0 c1 0f
	c1 05		 mov	 DWORD PTR _pResult$1[ebp], 96538561 ; 05c10fc1H
; File c:\users\michel\desktop\source\gameserver\source\edsprotocol.cpp

; 2416 : 		memcpy(pResult.Name, lpMsg->Name, sizeof(pMsg.Name));

  0012f	66 0f d6 45 e4	 movq	 QWORD PTR _pResult$1[ebp+4], xmm0

; 2417 : 		pResult.Result = 5;
; 2418 : 		pResult.State = -1;

  00134	c6 45 ee ff	 mov	 BYTE PTR _pResult$1[ebp+14], 255 ; 000000ffH

; 2419 : 
; 2420 : 		DataSend(aIndex, (LPBYTE)&pResult, sizeof(pResult));

  00138	e8 00 00 00 00	 call	 ?DataSend@@YAHHPAEK@Z	; DataSend
  0013d	83 c4 14	 add	 esp, 20			; 00000014H
  00140	5b		 pop	 ebx
  00141	5f		 pop	 edi
  00142	5e		 pop	 esi

; 2425 : 	}
; 2426 : }		

  00143	8b 4d fc	 mov	 ecx, DWORD PTR __$ArrayPad$[ebp]
  00146	33 cd		 xor	 ecx, ebp
  00148	e8 00 00 00 00	 call	 @__security_check_cookie@4
  0014d	8b e5		 mov	 esp, ebp
  0014f	5d		 pop	 ebp
  00150	c3		 ret	 0
$LN3@FriendAddR:

; 2421 : 	}
; 2422 : 	else
; 2423 : 	{
; 2424 : 		wsExDbCli.DataSend((PCHAR)&pMsg, pMsg.h.size);

  00151	0f b6 45 c5	 movzx	 eax, BYTE PTR _pMsg$[ebp+1]
  00155	b9 00 00 00 00	 mov	 ecx, OFFSET ?wsExDbCli@@3VwsJoinServerCli@@A ; wsExDbCli
  0015a	50		 push	 eax
  0015b	8d 45 c4	 lea	 eax, DWORD PTR _pMsg$[ebp]
  0015e	50		 push	 eax
  0015f	e8 00 00 00 00	 call	 ?DataSend@wsJoinServerCli@@QAEHPADH@Z ; wsJoinServerCli::DataSend

; 2425 : 	}
; 2426 : }		

  00164	8b 4d fc	 mov	 ecx, DWORD PTR __$ArrayPad$[ebp]
  00167	5b		 pop	 ebx
  00168	5f		 pop	 edi
  00169	33 cd		 xor	 ecx, ebp
  0016b	5e		 pop	 esi
  0016c	e8 00 00 00 00	 call	 @__security_check_cookie@4
  00171	8b e5		 mov	 esp, ebp
  00173	5d		 pop	 ebp
  00174	c3		 ret	 0
?FriendAddRequest@@YAXPAUPMSG_FRIEND_ADD_REQ@@H@Z ENDP	; FriendAddRequest
_TEXT	ENDS
; Function compile flags: /Ogtp
; File c:\users\michel\desktop\source\gameserver\source\edsprotocol.cpp
; File c:\users\michel\desktop\source\gameserver\common\winutil.h
; File c:\users\michel\desktop\source\gameserver\source\edsprotocol.cpp
; File c:\users\michel\desktop\source\gameserver\common\winutil.h
; File c:\users\michel\desktop\source\gameserver\source\edsprotocol.cpp
; File c:\users\michel\desktop\source\gameserver\include\prodef.h
; File c:\users\michel\desktop\source\gameserver\source\edsprotocol.cpp
;	COMDAT ?FriendStateRecv@@YAXPAUFHP_FRIEND_STATE@@@Z
_TEXT	SEGMENT
_pMsg$ = -32						; size = 14
_Name$ = -16						; size = 11
__$ArrayPad$ = -4					; size = 4
_lpMsg$ = 8						; size = 4
?FriendStateRecv@@YAXPAUFHP_FRIEND_STATE@@@Z PROC	; FriendStateRecv, COMDAT

; 2347 : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	83 ec 20	 sub	 esp, 32			; 00000020H
  00006	a1 00 00 00 00	 mov	 eax, DWORD PTR ___security_cookie
  0000b	33 c5		 xor	 eax, ebp
  0000d	89 45 fc	 mov	 DWORD PTR __$ArrayPad$[ebp], eax
  00010	56		 push	 esi
  00011	8b 75 08	 mov	 esi, DWORD PTR _lpMsg$[ebp]
  00014	0f 57 c0	 xorps	 xmm0, xmm0
; File c:\users\michel\desktop\source\gameserver\common\winutil.h

; 45   : 		memset(this->Name, 0, sizeof(this->Name));

  00017	66 0f d6 45 f0	 movq	 QWORD PTR _Name$[ebp], xmm0
  0001c	66 c7 45 f8 00
	00		 mov	 WORD PTR _Name$[ebp+8], 0
  00022	c6 45 fa 00	 mov	 BYTE PTR _Name$[ebp+10], 0
; File c:\users\michel\desktop\source\gameserver\source\edsprotocol.cpp

; 2348 : 	char_ID Name(lpMsg->Name);

  00026	8d 46 06	 lea	 eax, DWORD PTR [esi+6]
; File c:\users\michel\desktop\source\gameserver\common\winutil.h

; 47   : 		if ( szName != NULL )

  00029	85 c0		 test	 eax, eax
  0002b	74 11		 je	 SHORT $LN5@FriendStat

; 48   : 		{
; 49   : 			memcpy(this->Name, szName, MAX_ACCOUNT_LEN);

  0002d	f3 0f 7e 00	 movq	 xmm0, QWORD PTR [eax]
  00031	66 8b 40 08	 mov	 ax, WORD PTR [eax+8]
  00035	66 0f d6 45 f0	 movq	 QWORD PTR _Name$[ebp], xmm0
  0003a	66 89 45 f8	 mov	 WORD PTR _Name$[ebp+8], ax
$LN5@FriendStat:
; File c:\users\michel\desktop\source\gameserver\source\edsprotocol.cpp

; 2350 : 	if ( !gObjIsConnectedGP(lpMsg->Number, Name.GetBuffer()))

  0003e	8d 45 f0	 lea	 eax, DWORD PTR _Name$[ebp]
  00041	50		 push	 eax
  00042	0f bf 46 04	 movsx	 eax, WORD PTR [esi+4]
  00046	50		 push	 eax
  00047	e8 00 00 00 00	 call	 ?gObjIsConnectedGP@@YAHHPAD@Z ; gObjIsConnectedGP
  0004c	83 c4 08	 add	 esp, 8
  0004f	85 c0		 test	 eax, eax
  00051	75 2b		 jne	 SHORT $LN2@FriendStat

; 2351 : 	{
; 2352 : 		LogAddTD("error-L2 : (%s) Index %s %d ", Name.GetBuffer(), __FILE__, __LINE__);

  00053	68 30 09 00 00	 push	 2352			; 00000930H
  00058	68 00 00 00 00	 push	 OFFSET ??_C@_0BA@FCCBMCDG@EDSProtocol?4cpp?$AA@
  0005d	8d 45 f0	 lea	 eax, DWORD PTR _Name$[ebp]
  00060	50		 push	 eax
  00061	68 00 00 00 00	 push	 OFFSET ??_C@_0BN@DOMMEPOB@error?9L2?5?3?5?$CI?$CFs?$CJ?5Index?5?$CFs?5?$CFd?5?$AA@
  00066	ff 15 00 00 00
	00		 call	 DWORD PTR ?LogAddTD@@3P6AXPADZZA ; LogAddTD
  0006c	83 c4 10	 add	 esp, 16			; 00000010H
  0006f	5e		 pop	 esi

; 2365 : }

  00070	8b 4d fc	 mov	 ecx, DWORD PTR __$ArrayPad$[ebp]
  00073	33 cd		 xor	 ecx, ebp
  00075	e8 00 00 00 00	 call	 @__security_check_cookie@4
  0007a	8b e5		 mov	 esp, ebp
  0007c	5d		 pop	 ebp
  0007d	c3		 ret	 0
$LN2@FriendStat:

; 2359 : 	memcpy(pMsg.Name, lpMsg->FriendName, sizeof(pMsg.Name));

  0007e	66 8b 46 18	 mov	 ax, WORD PTR [esi+24]
  00082	f3 0f 7e 46 10	 movq	 xmm0, QWORD PTR [esi+16]
  00087	66 89 45 eb	 mov	 WORD PTR _pMsg$[ebp+11], ax

; 2360 : 	pMsg.State = lpMsg->State;

  0008b	8a 46 1a	 mov	 al, BYTE PTR [esi+26]
  0008e	88 45 ed	 mov	 BYTE PTR _pMsg$[ebp+13], al

; 2361 : 
; 2362 : 	DataSend(lpMsg->Number, (LPBYTE)&pMsg, sizeof(pMsg));

  00091	8d 45 e0	 lea	 eax, DWORD PTR _pMsg$[ebp]
  00094	6a 0e		 push	 14			; 0000000eH
  00096	50		 push	 eax
  00097	0f bf 46 04	 movsx	 eax, WORD PTR [esi+4]
  0009b	50		 push	 eax
; File c:\users\michel\desktop\source\gameserver\include\prodef.h

; 86   : 		lpBuf[0] = 0xC1;

  0009c	66 c7 45 e0 c1
	0e		 mov	 WORD PTR _pMsg$[ebp], 3777 ; 00000ec1H

; 87   : 		lpBuf[1] = size;
; 88   : 		lpBuf[2] = head;

  000a2	c6 45 e2 c4	 mov	 BYTE PTR _pMsg$[ebp+2], 196 ; 000000c4H
; File c:\users\michel\desktop\source\gameserver\source\edsprotocol.cpp

; 2359 : 	memcpy(pMsg.Name, lpMsg->FriendName, sizeof(pMsg.Name));

  000a6	66 0f d6 45 e3	 movq	 QWORD PTR _pMsg$[ebp+3], xmm0

; 2361 : 
; 2362 : 	DataSend(lpMsg->Number, (LPBYTE)&pMsg, sizeof(pMsg));

  000ab	e8 00 00 00 00	 call	 ?DataSend@@YAHHPAEK@Z	; DataSend

; 2363 : 
; 2364 : 	LogAdd("[%s] Friend State (%d)", gObj[lpMsg->Number].Name, lpMsg->State);

  000b0	0f b6 46 1a	 movzx	 eax, BYTE PTR [esi+26]
  000b4	50		 push	 eax
  000b5	0f bf 46 04	 movsx	 eax, WORD PTR [esi+4]
  000b9	69 c8 40 27 00
	00		 imul	 ecx, eax, 10048
  000bf	a1 00 00 00 00	 mov	 eax, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  000c4	83 c0 5d	 add	 eax, 93			; 0000005dH
  000c7	03 c1		 add	 eax, ecx
  000c9	50		 push	 eax
  000ca	68 00 00 00 00	 push	 OFFSET ??_C@_0BH@OEEJLGGK@?$FL?$CFs?$FN?5Friend?5State?5?$CI?$CFd?$CJ?$AA@
  000cf	ff 15 00 00 00
	00		 call	 DWORD PTR ?LogAdd@@3P6AXPADZZA ; LogAdd

; 2365 : }

  000d5	8b 4d fc	 mov	 ecx, DWORD PTR __$ArrayPad$[ebp]
  000d8	83 c4 18	 add	 esp, 24			; 00000018H
  000db	33 cd		 xor	 ecx, ebp
  000dd	5e		 pop	 esi
  000de	e8 00 00 00 00	 call	 @__security_check_cookie@4
  000e3	8b e5		 mov	 esp, ebp
  000e5	5d		 pop	 ebp
  000e6	c3		 ret	 0
?FriendStateRecv@@YAXPAUFHP_FRIEND_STATE@@@Z ENDP	; FriendStateRecv
_TEXT	ENDS
; Function compile flags: /Ogtp
; File c:\users\michel\desktop\source\gameserver\source\edsprotocol.cpp
; File c:\users\michel\desktop\source\gameserver\include\prodef.h
; File c:\users\michel\desktop\source\gameserver\source\edsprotocol.cpp
;	COMDAT ?FriendStateClientRecv@@YAXPAUPMSG_FRIEND_STATE_C@@H@Z
_TEXT	SEGMENT
_pMsg$ = -24						; size = 18
__$ArrayPad$ = -4					; size = 4
_lpMsg$ = 8						; size = 4
_aIndex$ = 12						; size = 4
?FriendStateClientRecv@@YAXPAUPMSG_FRIEND_STATE_C@@H@Z PROC ; FriendStateClientRecv, COMDAT

; 2326 : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	83 ec 18	 sub	 esp, 24			; 00000018H
  00006	a1 00 00 00 00	 mov	 eax, DWORD PTR ___security_cookie
  0000b	33 c5		 xor	 eax, ebp
  0000d	89 45 fc	 mov	 DWORD PTR __$ArrayPad$[ebp], eax
  00010	56		 push	 esi
  00011	8b 75 0c	 mov	 esi, DWORD PTR _aIndex$[ebp]
  00014	57		 push	 edi
  00015	8b 7d 08	 mov	 edi, DWORD PTR _lpMsg$[ebp]

; 2327 : 	if ( !gObjIsConnectedGP(aIndex))

  00018	56		 push	 esi
  00019	e8 00 00 00 00	 call	 ?gObjIsConnectedGP@@YAHH@Z ; gObjIsConnectedGP
  0001e	83 c4 04	 add	 esp, 4
  00021	85 c0		 test	 eax, eax
  00023	75 28		 jne	 SHORT $LN2@FriendStat

; 2328 : 	{
; 2329 : 		LogAddTD("error-L2 : Index %s %d", __FILE__, __LINE__);

  00025	68 19 09 00 00	 push	 2329			; 00000919H
  0002a	68 00 00 00 00	 push	 OFFSET ??_C@_0BA@FCCBMCDG@EDSProtocol?4cpp?$AA@
  0002f	68 00 00 00 00	 push	 OFFSET ??_C@_0BH@LCDOHCGD@error?9L2?5?3?5Index?5?$CFs?5?$CFd?$AA@
  00034	ff 15 00 00 00
	00		 call	 DWORD PTR ?LogAddTD@@3P6AXPADZZA ; LogAddTD
  0003a	83 c4 0c	 add	 esp, 12			; 0000000cH
  0003d	5f		 pop	 edi
  0003e	5e		 pop	 esi

; 2340 : }

  0003f	8b 4d fc	 mov	 ecx, DWORD PTR __$ArrayPad$[ebp]
  00042	33 cd		 xor	 ecx, ebp
  00044	e8 00 00 00 00	 call	 @__security_check_cookie@4
  00049	8b e5		 mov	 esp, ebp
  0004b	5d		 pop	 ebp
  0004c	c3		 ret	 0
$LN2@FriendStat:

; 2330 : 		return;
; 2331 : 	}
; 2332 : 
; 2333 : 	FHP_FRIEND_STATE_C pMsg;
; 2334 : 
; 2335 : 	pMsg.h.set((LPBYTE)&pMsg, 0x62, sizeof(pMsg));
; 2336 : 	memcpy(pMsg.Name, gObj[aIndex].Name, sizeof(pMsg.Name));

  0004d	a1 00 00 00 00	 mov	 eax, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  00052	69 ce 40 27 00
	00		 imul	 ecx, esi, 10048
; File c:\users\michel\desktop\source\gameserver\include\prodef.h

; 86   : 		lpBuf[0] = 0xC1;

  00058	66 c7 45 e8 c1
	12		 mov	 WORD PTR _pMsg$[ebp], 4801 ; 000012c1H

; 87   : 		lpBuf[1] = size;
; 88   : 		lpBuf[2] = head;

  0005e	c6 45 ea 62	 mov	 BYTE PTR _pMsg$[ebp+2], 98 ; 00000062H
; File c:\users\michel\desktop\source\gameserver\source\edsprotocol.cpp

; 2339 : 	wsExDbCli.DataSend((PCHAR)&pMsg, pMsg.h.size);

  00062	6a 12		 push	 18			; 00000012H
  00064	f3 0f 7e 44 01
	5d		 movq	 xmm0, QWORD PTR [ecx+eax+93]
  0006a	66 0f d6 45 ee	 movq	 QWORD PTR _pMsg$[ebp+6], xmm0
  0006f	66 8b 44 01 65	 mov	 ax, WORD PTR [ecx+eax+101]
  00074	b9 00 00 00 00	 mov	 ecx, OFFSET ?wsExDbCli@@3VwsJoinServerCli@@A ; wsExDbCli
  00079	66 89 45 f6	 mov	 WORD PTR _pMsg$[ebp+14], ax
  0007d	8a 47 03	 mov	 al, BYTE PTR [edi+3]
  00080	88 45 f8	 mov	 BYTE PTR _pMsg$[ebp+16], al
  00083	8d 45 e8	 lea	 eax, DWORD PTR _pMsg$[ebp]
  00086	50		 push	 eax
  00087	e8 00 00 00 00	 call	 ?DataSend@wsJoinServerCli@@QAEHPADH@Z ; wsJoinServerCli::DataSend

; 2340 : }

  0008c	8b 4d fc	 mov	 ecx, DWORD PTR __$ArrayPad$[ebp]
  0008f	5f		 pop	 edi
  00090	33 cd		 xor	 ecx, ebp
  00092	5e		 pop	 esi
  00093	e8 00 00 00 00	 call	 @__security_check_cookie@4
  00098	8b e5		 mov	 esp, ebp
  0009a	5d		 pop	 ebp
  0009b	c3		 ret	 0
?FriendStateClientRecv@@YAXPAUPMSG_FRIEND_STATE_C@@H@Z ENDP ; FriendStateClientRecv
_TEXT	ENDS
; Function compile flags: /Ogtp
; File c:\users\michel\desktop\source\gameserver\source\edsprotocol.cpp
; File c:\users\michel\desktop\source\gameserver\common\winutil.h
; File c:\users\michel\desktop\source\gameserver\source\edsprotocol.cpp
; File c:\users\michel\desktop\source\gameserver\common\winutil.h
; File c:\users\michel\desktop\source\gameserver\source\edsprotocol.cpp
; File c:\users\michel\desktop\source\gameserver\common\winutil.h
; File c:\users\michel\desktop\source\gameserver\source\edsprotocol.cpp
; File c:\users\michel\desktop\source\gameserver\include\prodef.h
; File c:\users\michel\desktop\source\gameserver\source\edsprotocol.cpp
;	COMDAT ?WaitFriendListResult@@YAXPAUFHP_WAITFRIENDLIST_COUNT@@@Z
_TEXT	SEGMENT
_pMsg$ = -32						; size = 13
_Name$ = -16						; size = 11
__$ArrayPad$ = -4					; size = 4
_lpMsg$ = 8						; size = 4
?WaitFriendListResult@@YAXPAUFHP_WAITFRIENDLIST_COUNT@@@Z PROC ; WaitFriendListResult, COMDAT

; 2292 : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	83 ec 20	 sub	 esp, 32			; 00000020H
  00006	a1 00 00 00 00	 mov	 eax, DWORD PTR ___security_cookie
  0000b	33 c5		 xor	 eax, ebp
  0000d	89 45 fc	 mov	 DWORD PTR __$ArrayPad$[ebp], eax
  00010	56		 push	 esi
  00011	8b 75 08	 mov	 esi, DWORD PTR _lpMsg$[ebp]
  00014	0f 57 c0	 xorps	 xmm0, xmm0
; File c:\users\michel\desktop\source\gameserver\common\winutil.h

; 45   : 		memset(this->Name, 0, sizeof(this->Name));

  00017	66 0f d6 45 f0	 movq	 QWORD PTR _Name$[ebp], xmm0
  0001c	66 c7 45 f8 00
	00		 mov	 WORD PTR _Name$[ebp+8], 0
  00022	c6 45 fa 00	 mov	 BYTE PTR _Name$[ebp+10], 0
; File c:\users\michel\desktop\source\gameserver\source\edsprotocol.cpp

; 2294 : 	char_ID Name(lpMsg->Name);

  00026	8d 46 06	 lea	 eax, DWORD PTR [esi+6]
; File c:\users\michel\desktop\source\gameserver\common\winutil.h

; 47   : 		if ( szName != NULL )

  00029	85 c0		 test	 eax, eax
  0002b	74 11		 je	 SHORT $LN6@WaitFriend

; 48   : 		{
; 49   : 			memcpy(this->Name, szName, MAX_ACCOUNT_LEN);

  0002d	f3 0f 7e 00	 movq	 xmm0, QWORD PTR [eax]
  00031	66 8b 40 08	 mov	 ax, WORD PTR [eax+8]
  00035	66 0f d6 45 f0	 movq	 QWORD PTR _Name$[ebp], xmm0
  0003a	66 89 45 f8	 mov	 WORD PTR _Name$[ebp+8], ax
$LN6@WaitFriend:
; File c:\users\michel\desktop\source\gameserver\source\edsprotocol.cpp

; 2296 : 	if ( !gObjIsConnectedGP(lpMsg->Number, Name.GetBuffer()))

  0003e	8d 45 f0	 lea	 eax, DWORD PTR _Name$[ebp]
  00041	50		 push	 eax
  00042	0f bf 46 04	 movsx	 eax, WORD PTR [esi+4]
  00046	50		 push	 eax
  00047	e8 00 00 00 00	 call	 ?gObjIsConnectedGP@@YAHHPAD@Z ; gObjIsConnectedGP
  0004c	83 c4 08	 add	 esp, 8
  0004f	85 c0		 test	 eax, eax
  00051	75 2b		 jne	 SHORT $LN2@WaitFriend

; 2297 : 	{
; 2298 : 		LogAddTD("error-L2 : (%s) Index %s %d ",

  00053	68 fb 08 00 00	 push	 2299			; 000008fbH
  00058	68 00 00 00 00	 push	 OFFSET ??_C@_0BA@FCCBMCDG@EDSProtocol?4cpp?$AA@
  0005d	8d 45 f0	 lea	 eax, DWORD PTR _Name$[ebp]
  00060	50		 push	 eax
  00061	68 00 00 00 00	 push	 OFFSET ??_C@_0BN@DOMMEPOB@error?9L2?5?3?5?$CI?$CFs?$CJ?5Index?5?$CFs?5?$CFd?5?$AA@
  00066	ff 15 00 00 00
	00		 call	 DWORD PTR ?LogAddTD@@3P6AXPADZZA ; LogAddTD
  0006c	83 c4 10	 add	 esp, 16			; 00000010H
  0006f	5e		 pop	 esi

; 2312 : }

  00070	8b 4d fc	 mov	 ecx, DWORD PTR __$ArrayPad$[ebp]
  00073	33 cd		 xor	 ecx, ebp
  00075	e8 00 00 00 00	 call	 @__security_check_cookie@4
  0007a	8b e5		 mov	 esp, ebp
  0007c	5d		 pop	 ebp
  0007d	c3		 ret	 0
$LN2@WaitFriend:
; File c:\users\michel\desktop\source\gameserver\common\winutil.h

; 60   : 		return strlen(this->Name);

  0007e	8d 4d f0	 lea	 ecx, DWORD PTR _Name$[ebp]
  00081	8d 51 01	 lea	 edx, DWORD PTR [ecx+1]
$LL18@WaitFriend:
  00084	8a 01		 mov	 al, BYTE PTR [ecx]
  00086	41		 inc	 ecx
  00087	84 c0		 test	 al, al
  00089	75 f9		 jne	 SHORT $LL18@WaitFriend
  0008b	2b ca		 sub	 ecx, edx
; File c:\users\michel\desktop\source\gameserver\source\edsprotocol.cpp

; 2303 : 	if ( Name.GetLength() < 1 )

  0008d	83 f9 01	 cmp	 ecx, 1
  00090	7c 53		 jl	 SHORT $LN1@WaitFriend

; 2307 : 	memcpy(pMsg.Name, lpMsg->FriendName, sizeof(pMsg.Name));

  00092	66 8b 46 18	 mov	 ax, WORD PTR [esi+24]
  00096	f3 0f 7e 46 10	 movq	 xmm0, QWORD PTR [esi+16]
  0009b	66 89 45 eb	 mov	 WORD PTR _pMsg$[ebp+11], ax

; 2308 : 
; 2309 : 	DataSend(lpMsg->Number, (LPBYTE)&pMsg, sizeof(pMsg));

  0009f	8d 45 e0	 lea	 eax, DWORD PTR _pMsg$[ebp]
  000a2	6a 0d		 push	 13			; 0000000dH
  000a4	50		 push	 eax
  000a5	0f bf 46 04	 movsx	 eax, WORD PTR [esi+4]
  000a9	50		 push	 eax
; File c:\users\michel\desktop\source\gameserver\include\prodef.h

; 86   : 		lpBuf[0] = 0xC1;

  000aa	66 c7 45 e0 c1
	0d		 mov	 WORD PTR _pMsg$[ebp], 3521 ; 00000dc1H

; 87   : 		lpBuf[1] = size;
; 88   : 		lpBuf[2] = head;

  000b0	c6 45 e2 c2	 mov	 BYTE PTR _pMsg$[ebp+2], 194 ; 000000c2H
; File c:\users\michel\desktop\source\gameserver\source\edsprotocol.cpp

; 2307 : 	memcpy(pMsg.Name, lpMsg->FriendName, sizeof(pMsg.Name));

  000b4	66 0f d6 45 e3	 movq	 QWORD PTR _pMsg$[ebp+3], xmm0

; 2308 : 
; 2309 : 	DataSend(lpMsg->Number, (LPBYTE)&pMsg, sizeof(pMsg));

  000b9	e8 00 00 00 00	 call	 ?DataSend@@YAHHPAEK@Z	; DataSend

; 2310 : 
; 2311 : 	LogAdd("[%s] WaitFriend List [%s]", gObj[lpMsg->Number].Name, Name.GetBuffer());

  000be	8d 45 f0	 lea	 eax, DWORD PTR _Name$[ebp]
  000c1	50		 push	 eax
  000c2	0f bf 46 04	 movsx	 eax, WORD PTR [esi+4]
  000c6	69 c8 40 27 00
	00		 imul	 ecx, eax, 10048
  000cc	a1 00 00 00 00	 mov	 eax, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  000d1	83 c0 5d	 add	 eax, 93			; 0000005dH
  000d4	03 c1		 add	 eax, ecx
  000d6	50		 push	 eax
  000d7	68 00 00 00 00	 push	 OFFSET ??_C@_0BK@HLHJLCCE@?$FL?$CFs?$FN?5WaitFriend?5List?5?$FL?$CFs?$FN?$AA@
  000dc	ff 15 00 00 00
	00		 call	 DWORD PTR ?LogAdd@@3P6AXPADZZA ; LogAdd
  000e2	83 c4 18	 add	 esp, 24			; 00000018H
$LN1@WaitFriend:

; 2312 : }

  000e5	8b 4d fc	 mov	 ecx, DWORD PTR __$ArrayPad$[ebp]
  000e8	33 cd		 xor	 ecx, ebp
  000ea	5e		 pop	 esi
  000eb	e8 00 00 00 00	 call	 @__security_check_cookie@4
  000f0	8b e5		 mov	 esp, ebp
  000f2	5d		 pop	 ebp
  000f3	c3		 ret	 0
?WaitFriendListResult@@YAXPAUFHP_WAITFRIENDLIST_COUNT@@@Z ENDP ; WaitFriendListResult
_TEXT	ENDS
; Function compile flags: /Ogtp
; File c:\users\michel\desktop\source\gameserver\source\edsprotocol.cpp
; File c:\users\michel\desktop\source\gameserver\common\winutil.h
; File c:\users\michel\desktop\source\gameserver\source\edsprotocol.cpp
; File c:\users\michel\desktop\source\gameserver\common\winutil.h
; File c:\users\michel\desktop\source\gameserver\source\edsprotocol.cpp
; File c:\users\michel\desktop\source\gameserver\include\prodef.h
; File c:\users\michel\desktop\source\gameserver\source\edsprotocol.cpp
;	COMDAT ?FriendListResult@@YAXPAE@Z
_TEXT	SEGMENT
_pCount$ = -2028					; size = 7
_pCount$1$ = -2017					; size = 1
_Name$ = -2016						; size = 11
_TmpSendBuf$ = -2004					; size = 2000
__$ArrayPad$ = -4					; size = 4
_lpMsg$ = 8						; size = 4
?FriendListResult@@YAXPAE@Z PROC			; FriendListResult, COMDAT

; 2237 : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	81 ec ec 07 00
	00		 sub	 esp, 2028		; 000007ecH
  00009	a1 00 00 00 00	 mov	 eax, DWORD PTR ___security_cookie
  0000e	33 c5		 xor	 eax, ebp
  00010	89 45 fc	 mov	 DWORD PTR __$ArrayPad$[ebp], eax
  00013	53		 push	 ebx
  00014	57		 push	 edi
  00015	8b 7d 08	 mov	 edi, DWORD PTR _lpMsg$[ebp]
  00018	0f 57 c0	 xorps	 xmm0, xmm0

; 2238 : 
; 2239 : 	FHP_FRIENDLIST_COUNT * lpCount;
; 2240 : 	FHP_FRIENDLIST * lpList;
; 2241 : 	int lOfs = sizeof(FHP_FRIENDLIST_COUNT);
; 2242 : 	PMSG_FRIEND_LIST_COUNT pCount;
; 2243 : 	int pOfs = sizeof(PMSG_FRIEND_LIST_COUNT);

  0001b	bb 07 00 00 00	 mov	 ebx, 7
; File c:\users\michel\desktop\source\gameserver\common\winutil.h

; 45   : 		memset(this->Name, 0, sizeof(this->Name));

  00020	66 0f d6 85 20
	f8 ff ff	 movq	 QWORD PTR _Name$[ebp], xmm0
  00028	66 c7 85 28 f8
	ff ff 00 00	 mov	 WORD PTR _Name$[ebp+8], 0
  00031	c6 85 2a f8 ff
	ff 00		 mov	 BYTE PTR _Name$[ebp+10], 0
; File c:\users\michel\desktop\source\gameserver\source\edsprotocol.cpp

; 2248 : 	char_ID Name( lpCount->Name);

  00038	8d 47 06	 lea	 eax, DWORD PTR [edi+6]
; File c:\users\michel\desktop\source\gameserver\common\winutil.h

; 47   : 		if ( szName != NULL )

  0003b	85 c0		 test	 eax, eax
  0003d	74 17		 je	 SHORT $LN9@FriendList

; 48   : 		{
; 49   : 			memcpy(this->Name, szName, MAX_ACCOUNT_LEN);

  0003f	f3 0f 7e 00	 movq	 xmm0, QWORD PTR [eax]
  00043	66 8b 40 08	 mov	 ax, WORD PTR [eax+8]
  00047	66 0f d6 85 20
	f8 ff ff	 movq	 QWORD PTR _Name$[ebp], xmm0
  0004f	66 89 85 28 f8
	ff ff		 mov	 WORD PTR _Name$[ebp+8], ax
$LN9@FriendList:
; File c:\users\michel\desktop\source\gameserver\source\edsprotocol.cpp

; 2251 : 	if ( !gObjIsConnectedGP(lpCount->Number, Name.GetBuffer()))

  00056	8d 85 20 f8 ff
	ff		 lea	 eax, DWORD PTR _Name$[ebp]
  0005c	50		 push	 eax
  0005d	0f bf 47 04	 movsx	 eax, WORD PTR [edi+4]
  00061	50		 push	 eax
  00062	e8 00 00 00 00	 call	 ?gObjIsConnectedGP@@YAHHPAD@Z ; gObjIsConnectedGP
  00067	83 c4 08	 add	 esp, 8
  0006a	85 c0		 test	 eax, eax
  0006c	75 28		 jne	 SHORT $LN5@FriendList

; 2252 : 	{
; 2253 : 		LogAddTD("error-L2 : Index %s %d", __FILE__, __LINE__);

  0006e	68 cd 08 00 00	 push	 2253			; 000008cdH
  00073	68 00 00 00 00	 push	 OFFSET ??_C@_0BA@FCCBMCDG@EDSProtocol?4cpp?$AA@
  00078	68 00 00 00 00	 push	 OFFSET ??_C@_0BH@LCDOHCGD@error?9L2?5?3?5Index?5?$CFs?5?$CFd?$AA@
  0007d	ff 15 00 00 00
	00		 call	 DWORD PTR ?LogAddTD@@3P6AXPADZZA ; LogAddTD
  00083	83 c4 0c	 add	 esp, 12			; 0000000cH
  00086	5f		 pop	 edi
  00087	5b		 pop	 ebx

; 2279 : 		gObj[lpCount->Number].Name, pCount.Count);
; 2280 : }

  00088	8b 4d fc	 mov	 ecx, DWORD PTR __$ArrayPad$[ebp]
  0008b	33 cd		 xor	 ecx, ebp
  0008d	e8 00 00 00 00	 call	 @__security_check_cookie@4
  00092	8b e5		 mov	 esp, ebp
  00094	5d		 pop	 ebp
  00095	c3		 ret	 0
$LN5@FriendList:

; 2254 : 		return;
; 2255 : 	}
; 2256 : 
; 2257 : 	gObj[lpCount->Number].m_FriendServerOnline = 0;

  00096	0f bf 47 04	 movsx	 eax, WORD PTR [edi+4]
  0009a	69 c8 40 27 00
	00		 imul	 ecx, eax, 10048
  000a0	a1 00 00 00 00	 mov	 eax, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj

; 2258 : 	pCount.Count = lpCount->Count;
; 2259 : 	pCount.MemoCount = lpCount->MailCount;
; 2260 : 	pCount.MailTotal = 50;

  000a5	c6 85 19 f8 ff
	ff 32		 mov	 BYTE PTR _pCount$[ebp+5], 50 ; 00000032H
  000ac	c6 84 01 60 05
	00 00 00	 mov	 BYTE PTR [ecx+eax+1376], 0
  000b4	8a 4f 10	 mov	 cl, BYTE PTR [edi+16]
  000b7	8a 47 11	 mov	 al, BYTE PTR [edi+17]
  000ba	88 8d 1f f8 ff
	ff		 mov	 BYTE PTR _pCount$1$[ebp], cl
  000c0	88 85 18 f8 ff
	ff		 mov	 BYTE PTR _pCount$[ebp+4], al

; 2261 : 
; 2262 : 	if ( pCount.Count != 0 )

  000c6	84 c9		 test	 cl, cl
  000c8	74 3f		 je	 SHORT $LN3@FriendList

; 2263 : 	{
; 2264 : 		for ( int n=0;n<pCount.Count;n++)

  000ca	56		 push	 esi
  000cb	0f b6 f1	 movzx	 esi, cl
  000ce	85 f6		 test	 esi, esi
  000d0	7e 36		 jle	 SHORT $LN19@FriendList
  000d2	6b de 0b	 imul	 ebx, esi, 11
  000d5	8d 8d 33 f8 ff
	ff		 lea	 ecx, DWORD PTR _TmpSendBuf$[ebp+7]
  000db	8d 57 12	 lea	 edx, DWORD PTR [edi+18]
  000de	83 c3 07	 add	 ebx, 7
$LL4@FriendList:

; 2265 : 		{
; 2266 : 			lpList = (FHP_FRIENDLIST *)&lpMsg[lOfs];
; 2267 : 			memcpy(&TmpSendBuf[pOfs], lpList, sizeof(FHP_FRIENDLIST));

  000e1	f3 0f 7e 02	 movq	 xmm0, QWORD PTR [edx]

; 2268 : 			lOfs+=sizeof(FHP_FRIENDLIST);
; 2269 : 			pOfs+=sizeof(FHP_FRIENDLIST);	// #warning why plus that??

  000e5	8d 52 0b	 lea	 edx, DWORD PTR [edx+11]
  000e8	66 0f d6 01	 movq	 QWORD PTR [ecx], xmm0
  000ec	66 8b 42 fd	 mov	 ax, WORD PTR [edx-3]
  000f0	66 89 41 08	 mov	 WORD PTR [ecx+8], ax
  000f4	8a 42 ff	 mov	 al, BYTE PTR [edx-1]
  000f7	88 41 0a	 mov	 BYTE PTR [ecx+10], al
  000fa	83 c1 0b	 add	 ecx, 11			; 0000000bH
  000fd	83 ee 01	 sub	 esi, 1
  00100	75 df		 jne	 SHORT $LL4@FriendList
  00102	8a 8d 1f f8 ff
	ff		 mov	 cl, BYTE PTR _pCount$1$[ebp]
$LN19@FriendList:
  00108	5e		 pop	 esi
$LN3@FriendList:
; File c:\users\michel\desktop\source\gameserver\include\prodef.h

; 112  : 		lpBuf[1] = SET_NUMBERH(size);

  00109	8b c3		 mov	 eax, ebx
  0010b	c6 85 14 f8 ff
	ff c2		 mov	 BYTE PTR _pCount$[ebp], 194 ; 000000c2H
  00112	c1 e8 08	 shr	 eax, 8
  00115	88 85 15 f8 ff
	ff		 mov	 BYTE PTR _pCount$[ebp+1], al

; 113  : 		lpBuf[2] = SET_NUMBERL(size);

  0011b	88 9d 16 f8 ff
	ff		 mov	 BYTE PTR _pCount$[ebp+2], bl

; 114  : 		lpBuf[3] = head;

  00121	c6 85 17 f8 ff
	ff c0		 mov	 BYTE PTR _pCount$[ebp+3], 192 ; 000000c0H
; File c:\users\michel\desktop\source\gameserver\source\edsprotocol.cpp

; 2274 : 	memcpy(TmpSendBuf, &pCount, sizeof(PMSG_FRIEND_LIST_COUNT));

  00128	8b 85 14 f8 ff
	ff		 mov	 eax, DWORD PTR _pCount$[ebp]
  0012e	89 85 2c f8 ff
	ff		 mov	 DWORD PTR _TmpSendBuf$[ebp], eax
  00134	66 8b 85 18 f8
	ff ff		 mov	 ax, WORD PTR _pCount$[ebp+4]
  0013b	66 89 85 30 f8
	ff ff		 mov	 WORD PTR _TmpSendBuf$[ebp+4], ax

; 2275 : 
; 2276 : 	DataSend(lpCount->Number, TmpSendBuf, pOfs);

  00142	8d 85 2c f8 ff
	ff		 lea	 eax, DWORD PTR _TmpSendBuf$[ebp]
  00148	53		 push	 ebx
  00149	50		 push	 eax
  0014a	0f bf 47 04	 movsx	 eax, WORD PTR [edi+4]
  0014e	50		 push	 eax
  0014f	88 8d 32 f8 ff
	ff		 mov	 BYTE PTR _TmpSendBuf$[ebp+6], cl
  00155	e8 00 00 00 00	 call	 ?DataSend@@YAHHPAEK@Z	; DataSend

; 2277 : 
; 2278 : 	LogAdd("[%s] Friend List Count (%d) Send",

  0015a	0f b6 85 1f f8
	ff ff		 movzx	 eax, BYTE PTR _pCount$1$[ebp]
  00161	50		 push	 eax
  00162	0f bf 47 04	 movsx	 eax, WORD PTR [edi+4]
  00166	69 c8 40 27 00
	00		 imul	 ecx, eax, 10048
  0016c	a1 00 00 00 00	 mov	 eax, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  00171	83 c0 5d	 add	 eax, 93			; 0000005dH
  00174	03 c1		 add	 eax, ecx
  00176	50		 push	 eax
  00177	68 00 00 00 00	 push	 OFFSET ??_C@_0CB@HGMGGPGK@?$FL?$CFs?$FN?5Friend?5List?5Count?5?$CI?$CFd?$CJ?5Send@
  0017c	ff 15 00 00 00
	00		 call	 DWORD PTR ?LogAdd@@3P6AXPADZZA ; LogAdd

; 2279 : 		gObj[lpCount->Number].Name, pCount.Count);
; 2280 : }

  00182	8b 4d fc	 mov	 ecx, DWORD PTR __$ArrayPad$[ebp]
  00185	83 c4 18	 add	 esp, 24			; 00000018H
  00188	33 cd		 xor	 ecx, ebp
  0018a	5f		 pop	 edi
  0018b	5b		 pop	 ebx
  0018c	e8 00 00 00 00	 call	 @__security_check_cookie@4
  00191	8b e5		 mov	 esp, ebp
  00193	5d		 pop	 ebp
  00194	c3		 ret	 0
?FriendListResult@@YAXPAE@Z ENDP			; FriendListResult
_TEXT	ENDS
; Function compile flags: /Ogtp
; File c:\users\michel\desktop\source\gameserver\source\edsprotocol.cpp
; File c:\users\michel\desktop\source\gameserver\include\prodef.h
; File c:\users\michel\desktop\source\gameserver\source\edsprotocol.cpp
;	COMDAT ?FriendListRequest@@YAXH@Z
_TEXT	SEGMENT
_pMsg$ = -24						; size = 18
__$ArrayPad$ = -4					; size = 4
_aIndex$ = 8						; size = 4
?FriendListRequest@@YAXH@Z PROC				; FriendListRequest, COMDAT

; 2174 : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	83 ec 18	 sub	 esp, 24			; 00000018H
  00006	a1 00 00 00 00	 mov	 eax, DWORD PTR ___security_cookie
  0000b	33 c5		 xor	 eax, ebp
  0000d	89 45 fc	 mov	 DWORD PTR __$ArrayPad$[ebp], eax
  00010	56		 push	 esi
  00011	8b 75 08	 mov	 esi, DWORD PTR _aIndex$[ebp]

; 2175 : 	if ( gObjIsConnectedGP(aIndex) == FALSE )

  00014	56		 push	 esi
  00015	e8 00 00 00 00	 call	 ?gObjIsConnectedGP@@YAHH@Z ; gObjIsConnectedGP
  0001a	83 c4 04	 add	 esp, 4
  0001d	85 c0		 test	 eax, eax
  0001f	75 27		 jne	 SHORT $LN2@FriendList

; 2176 : 	{
; 2177 : 		LogAddTD("error-L2 : Index %s %d", __FILE__, __LINE__);

  00021	68 81 08 00 00	 push	 2177			; 00000881H
  00026	68 00 00 00 00	 push	 OFFSET ??_C@_0BA@FCCBMCDG@EDSProtocol?4cpp?$AA@
  0002b	68 00 00 00 00	 push	 OFFSET ??_C@_0BH@LCDOHCGD@error?9L2?5?3?5Index?5?$CFs?5?$CFd?$AA@
  00030	ff 15 00 00 00
	00		 call	 DWORD PTR ?LogAddTD@@3P6AXPADZZA ; LogAddTD
  00036	83 c4 0c	 add	 esp, 12			; 0000000cH
  00039	5e		 pop	 esi

; 2205 : 
; 2206 : }

  0003a	8b 4d fc	 mov	 ecx, DWORD PTR __$ArrayPad$[ebp]
  0003d	33 cd		 xor	 ecx, ebp
  0003f	e8 00 00 00 00	 call	 @__security_check_cookie@4
  00044	8b e5		 mov	 esp, ebp
  00046	5d		 pop	 ebp
  00047	c3		 ret	 0
$LN2@FriendList:

; 2178 : 		return;
; 2179 : 	}
; 2180 : 
; 2181 : 	if (gObj[aIndex].m_FriendServerOnline == 2 )

  00048	a1 00 00 00 00	 mov	 eax, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  0004d	57		 push	 edi
  0004e	69 fe 40 27 00
	00		 imul	 edi, esi, 10048
  00054	8d 0c 07	 lea	 ecx, DWORD PTR [edi+eax]
  00057	8a 81 60 05 00
	00		 mov	 al, BYTE PTR [ecx+1376]
  0005d	3c 02		 cmp	 al, 2
  0005f	75 26		 jne	 SHORT $LN3@FriendList

; 2182 : 	{
; 2183 : 		LogAddTD("error-L3 : [%s][%s] FriendServer Online Request ", gObj[aIndex].AccountID, gObj[aIndex].Name);

  00061	8d 41 5d	 lea	 eax, DWORD PTR [ecx+93]
  00064	50		 push	 eax
  00065	8d 41 52	 lea	 eax, DWORD PTR [ecx+82]
  00068	50		 push	 eax
  00069	68 00 00 00 00	 push	 OFFSET ??_C@_0DB@ELGELCGP@error?9L3?5?3?5?$FL?$CFs?$FN?$FL?$CFs?$FN?5FriendServer@
  0006e	ff 15 00 00 00
	00		 call	 DWORD PTR ?LogAddTD@@3P6AXPADZZA ; LogAddTD
  00074	83 c4 0c	 add	 esp, 12			; 0000000cH
  00077	5f		 pop	 edi
  00078	5e		 pop	 esi

; 2205 : 
; 2206 : }

  00079	8b 4d fc	 mov	 ecx, DWORD PTR __$ArrayPad$[ebp]
  0007c	33 cd		 xor	 ecx, ebp
  0007e	e8 00 00 00 00	 call	 @__security_check_cookie@4
  00083	8b e5		 mov	 esp, ebp
  00085	5d		 pop	 ebp
  00086	c3		 ret	 0
$LN3@FriendList:

; 2184 : 		return;
; 2185 : 	}
; 2186 : 
; 2187 : 	if (gObj[aIndex].m_FriendServerOnline == FRIEND_SERVER_STATE_OFFLINE )

  00087	3c 01		 cmp	 al, 1
  00089	75 26		 jne	 SHORT $LN4@FriendList

; 2188 : 	{
; 2189 : 		LogAddTD("error-L3 : [%s][%s] FriendServer Offline", gObj[aIndex].AccountID, gObj[aIndex].Name);

  0008b	8d 41 5d	 lea	 eax, DWORD PTR [ecx+93]
  0008e	50		 push	 eax
  0008f	8d 41 52	 lea	 eax, DWORD PTR [ecx+82]
  00092	50		 push	 eax
  00093	68 00 00 00 00	 push	 OFFSET ??_C@_0CJ@EJJNCKNG@error?9L3?5?3?5?$FL?$CFs?$FN?$FL?$CFs?$FN?5FriendServer@
  00098	ff 15 00 00 00
	00		 call	 DWORD PTR ?LogAddTD@@3P6AXPADZZA ; LogAddTD
  0009e	83 c4 0c	 add	 esp, 12			; 0000000cH
  000a1	5f		 pop	 edi
  000a2	5e		 pop	 esi

; 2205 : 
; 2206 : }

  000a3	8b 4d fc	 mov	 ecx, DWORD PTR __$ArrayPad$[ebp]
  000a6	33 cd		 xor	 ecx, ebp
  000a8	e8 00 00 00 00	 call	 @__security_check_cookie@4
  000ad	8b e5		 mov	 esp, ebp
  000af	5d		 pop	 ebp
  000b0	c3		 ret	 0
$LN4@FriendList:
; File c:\users\michel\desktop\source\gameserver\include\prodef.h

; 86   : 		lpBuf[0] = 0xC1;

  000b1	66 c7 45 e8 c1
	12		 mov	 WORD PTR _pMsg$[ebp], 4801 ; 000012c1H

; 87   : 		lpBuf[1] = size;
; 88   : 		lpBuf[2] = head;

  000b7	c6 45 ea 60	 mov	 BYTE PTR _pMsg$[ebp+2], 96 ; 00000060H
; File c:\users\michel\desktop\source\gameserver\source\edsprotocol.cpp

; 2196 : 	memcpy(pMsg.Name, gObj[aIndex].Name, sizeof(pMsg.Name));

  000bb	f3 0f 7e 41 5d	 movq	 xmm0, QWORD PTR [ecx+93]
  000c0	66 0f d6 45 ee	 movq	 QWORD PTR _pMsg$[ebp+6], xmm0
  000c5	66 8b 41 65	 mov	 ax, WORD PTR [ecx+101]

; 2197 : 	pMsg.Number = aIndex;
; 2198 : 	pMsg.pServer = (BYTE)gGameServerCode;
; 2199 : 	
; 2200 : 	wsExDbCli.DataSend((char*)&pMsg, pMsg.h.size);

  000c9	b9 00 00 00 00	 mov	 ecx, OFFSET ?wsExDbCli@@3VwsJoinServerCli@@A ; wsExDbCli
  000ce	66 89 45 f6	 mov	 WORD PTR _pMsg$[ebp+14], ax
  000d2	a0 00 00 00 00	 mov	 al, BYTE PTR ?gGameServerCode@@3FA
  000d7	88 45 f8	 mov	 BYTE PTR _pMsg$[ebp+16], al
  000da	8d 45 e8	 lea	 eax, DWORD PTR _pMsg$[ebp]
  000dd	6a 12		 push	 18			; 00000012H
  000df	50		 push	 eax
  000e0	66 89 75 ec	 mov	 WORD PTR _pMsg$[ebp+4], si
  000e4	e8 00 00 00 00	 call	 ?DataSend@wsJoinServerCli@@QAEHPADH@Z ; wsJoinServerCli::DataSend

; 2201 : 
; 2202 : 	LogAdd("[%s] Friend List Request", gObj[aIndex].Name);

  000e9	a1 00 00 00 00	 mov	 eax, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  000ee	83 c0 5d	 add	 eax, 93			; 0000005dH
  000f1	03 c7		 add	 eax, edi
  000f3	50		 push	 eax
  000f4	68 00 00 00 00	 push	 OFFSET ??_C@_0BJ@BDFPCOJL@?$FL?$CFs?$FN?5Friend?5List?5Request?$AA@
  000f9	ff 15 00 00 00
	00		 call	 DWORD PTR ?LogAdd@@3P6AXPADZZA ; LogAdd

; 2203 : 
; 2204 : 	gObj[aIndex].m_FriendServerOnline = 2;

  000ff	a1 00 00 00 00	 mov	 eax, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  00104	83 c4 08	 add	 esp, 8

; 2205 : 
; 2206 : }

  00107	8b 4d fc	 mov	 ecx, DWORD PTR __$ArrayPad$[ebp]
  0010a	33 cd		 xor	 ecx, ebp
  0010c	c6 84 07 60 05
	00 00 02	 mov	 BYTE PTR [edi+eax+1376], 2
  00114	5f		 pop	 edi
  00115	5e		 pop	 esi
  00116	e8 00 00 00 00	 call	 @__security_check_cookie@4
  0011b	8b e5		 mov	 esp, ebp
  0011d	5d		 pop	 ebp
  0011e	c3		 ret	 0
?FriendListRequest@@YAXH@Z ENDP				; FriendListRequest
_TEXT	ENDS
; Function compile flags: /Ogtp
; File c:\users\michel\desktop\source\gameserver\source\edsprotocol.cpp
; File c:\users\michel\desktop\source\gameserver\include\prodef.h
; File c:\users\michel\desktop\source\gameserver\source\edsprotocol.cpp
; File c:\users\michel\desktop\source\gameserver\source\guildclass.h
; File c:\users\michel\desktop\source\gameserver\source\edsprotocol.cpp
;	COMDAT ?DGRelationShipAnsKickOutUnionMember@@YAXPAUEXSDHP_KICKOUT_UNIONMEMBER_RESULT@@@Z
_TEXT	SEGMENT
_lpUnionMemberGuild$1$ = -300				; size = 4
tv401 = -296						; size = 4
tv400 = -292						; size = 4
tv395 = -288						; size = 4
_lpUnionMasterGuild$1$ = -288				; size = 4
_pMsg$1 = -284						; size = 7
__Notice$2 = -276					; size = 272
__Notice$3 = -276					; size = 272
__$ArrayPad$ = -4					; size = 4
_lpMsg$ = 8						; size = 4
?DGRelationShipAnsKickOutUnionMember@@YAXPAUEXSDHP_KICKOUT_UNIONMEMBER_RESULT@@@Z PROC ; DGRelationShipAnsKickOutUnionMember, COMDAT

; 2086 : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	81 ec 2c 01 00
	00		 sub	 esp, 300		; 0000012cH
  00009	a1 00 00 00 00	 mov	 eax, DWORD PTR ___security_cookie
  0000e	33 c5		 xor	 eax, ebp
  00010	89 45 fc	 mov	 DWORD PTR __$ArrayPad$[ebp], eax
  00013	53		 push	 ebx
  00014	56		 push	 esi
  00015	8b 75 08	 mov	 esi, DWORD PTR _lpMsg$[ebp]

; 2087 : 
; 2088 : 	_GUILD_INFO_STRUCT * lpUnionMasterGuild = Guild.SearchGuild(lpMsg->szUnionMasterGuildName);

  00018	b9 00 00 00 00	 mov	 ecx, OFFSET ?Guild@@3VCGuildClass@@A ; Guild
  0001d	57		 push	 edi
  0001e	8d 46 0a	 lea	 eax, DWORD PTR [esi+10]
  00021	50		 push	 eax
  00022	89 85 d8 fe ff
	ff		 mov	 DWORD PTR tv401[ebp], eax
  00028	e8 00 00 00 00	 call	 ?SearchGuild@CGuildClass@@QAEPAU_GUILD_INFO_STRUCT@@PAD@Z ; CGuildClass::SearchGuild
  0002d	8b f8		 mov	 edi, eax

; 2089 : 	_GUILD_INFO_STRUCT * lpUnionMemberGuild = Guild.SearchGuild(lpMsg->szUnionMemberGuildName);

  0002f	b9 00 00 00 00	 mov	 ecx, OFFSET ?Guild@@3VCGuildClass@@A ; Guild
  00034	8d 46 13	 lea	 eax, DWORD PTR [esi+19]
  00037	89 bd e0 fe ff
	ff		 mov	 DWORD PTR _lpUnionMasterGuild$1$[ebp], edi
  0003d	50		 push	 eax
  0003e	89 85 dc fe ff
	ff		 mov	 DWORD PTR tv400[ebp], eax
  00044	e8 00 00 00 00	 call	 ?SearchGuild@CGuildClass@@QAEPAU_GUILD_INFO_STRUCT@@PAD@Z ; CGuildClass::SearchGuild
  00049	8b d8		 mov	 ebx, eax

; 2090 : 
; 2091 : 	if ( lpMsg->btFlag == 1 )

  0004b	8a 46 04	 mov	 al, BYTE PTR [esi+4]
  0004e	89 9d d4 fe ff
	ff		 mov	 DWORD PTR _lpUnionMemberGuild$1$[ebp], ebx
  00054	3c 01		 cmp	 al, 1
  00056	75 63		 jne	 SHORT $LN8@DGRelation

; 2092 : 	{
; 2093 : 		if ( !lpUnionMasterGuild )

  00058	85 ff		 test	 edi, edi
  0005a	75 04		 jne	 SHORT $LN10@DGRelation

; 2094 : 		{
; 2095 : 			lpMsg->btResult = 0;

  0005c	c6 46 09 00	 mov	 BYTE PTR [esi+9], 0
$LN10@DGRelation:

; 2096 : 		}
; 2097 : 
; 2098 : 		PMSG_KICKOUT_UNIONMEMBER_RESULT pMsg ={0};

  00060	33 c0		 xor	 eax, eax

; 2099 : 
; 2100 : 		pMsg.h.set((LPBYTE)&pMsg, 0xEB, 0x01, sizeof(pMsg));
; 2101 : 		pMsg.btResult = lpMsg->btResult;
; 2102 : 		pMsg.btRequestType = 2;

  00062	66 c7 85 e9 fe
	ff ff 02 01	 mov	 WORD PTR _pMsg$1[ebp+5], 258 ; 00000102H
  0006b	89 85 e5 fe ff
	ff		 mov	 DWORD PTR _pMsg$1[ebp+1], eax
  00071	0f b6 46 09	 movzx	 eax, BYTE PTR [esi+9]
  00075	88 85 e8 fe ff
	ff		 mov	 BYTE PTR _pMsg$1[ebp+4], al

; 2105 : 		DataSend(lpMsg->wRequestUserIndex, (LPBYTE)&pMsg, sizeof(pMsg));

  0007b	8d 85 e4 fe ff
	ff		 lea	 eax, DWORD PTR _pMsg$1[ebp]
  00081	6a 07		 push	 7
  00083	50		 push	 eax
  00084	0f b7 46 06	 movzx	 eax, WORD PTR [esi+6]
  00088	50		 push	 eax
; File c:\users\michel\desktop\source\gameserver\include\prodef.h

; 140  : 		lpBuf[0] = 0xC1;

  00089	c7 85 e4 fe ff
	ff c1 07 eb 01	 mov	 DWORD PTR _pMsg$1[ebp], 32180161 ; 01eb07c1H
; File c:\users\michel\desktop\source\gameserver\source\edsprotocol.cpp

; 2105 : 		DataSend(lpMsg->wRequestUserIndex, (LPBYTE)&pMsg, sizeof(pMsg));

  00093	e8 00 00 00 00	 call	 ?DataSend@@YAHHPAEK@Z	; DataSend

; 2106 : 
; 2107 : 		if ( lpMsg->btResult == 0 || lpMsg->btResult == 0x10 )

  00098	8a 46 09	 mov	 al, BYTE PTR [esi+9]
  0009b	83 c4 0c	 add	 esp, 12			; 0000000cH
  0009e	84 c0		 test	 al, al
  000a0	0f 84 33 01 00
	00		 je	 $LN6@DGRelation
  000a6	3c 10		 cmp	 al, 16			; 00000010H
  000a8	75 30		 jne	 SHORT $LN15@DGRelation
  000aa	5f		 pop	 edi
  000ab	5e		 pop	 esi
  000ac	5b		 pop	 ebx

; 2151 : 			}
; 2152 : 		}
; 2153 : 	}
; 2154 : 
; 2155 : }

  000ad	8b 4d fc	 mov	 ecx, DWORD PTR __$ArrayPad$[ebp]
  000b0	33 cd		 xor	 ecx, ebp
  000b2	e8 00 00 00 00	 call	 @__security_check_cookie@4
  000b7	8b e5		 mov	 esp, ebp
  000b9	5d		 pop	 ebp
  000ba	c3		 ret	 0
$LN8@DGRelation:

; 2108 : 			return;
; 2109 : 	}
; 2110 : 	else if ( lpMsg->btFlag == 0 )

  000bb	84 c0		 test	 al, al
  000bd	75 1b		 jne	 SHORT $LN15@DGRelation

; 2111 : 	{
; 2112 : 		if ( !lpUnionMemberGuild )

  000bf	85 db		 test	 ebx, ebx
  000c1	0f 84 12 01 00
	00		 je	 $LN6@DGRelation

; 2113 : 			return;
; 2114 : 
; 2115 : 		if ( lpMsg->btResult == 0 || lpMsg->btResult == 0x10 )

  000c7	8a 46 09	 mov	 al, BYTE PTR [esi+9]
  000ca	84 c0		 test	 al, al
  000cc	0f 84 07 01 00
	00		 je	 $LN6@DGRelation
  000d2	3c 10		 cmp	 al, 16			; 00000010H
  000d4	0f 84 ff 00 00
	00		 je	 $LN6@DGRelation
$LN15@DGRelation:

; 2116 : 			return;
; 2117 : 	}		
; 2118 : 
; 2119 : 	if ( lpUnionMasterGuild )

  000da	85 ff		 test	 edi, edi
  000dc	74 7a		 je	 SHORT $LN3@DGRelation

; 2120 : 	{
; 2121 : 		for ( int n=0;n<MAX_USER_GUILD;n++)

  000de	8b 85 e0 fe ff
	ff		 mov	 eax, DWORD PTR _lpUnionMasterGuild$1$[ebp]
  000e4	33 f6		 xor	 esi, esi
  000e6	8b 9d d8 fe ff
	ff		 mov	 ebx, DWORD PTR tv401[ebp]
  000ec	81 c7 a0 03 00
	00		 add	 edi, 928		; 000003a0H
  000f2	05 40 04 00 00	 add	 eax, 1088		; 00000440H
  000f7	89 85 e0 fe ff
	ff		 mov	 DWORD PTR tv395[ebp], eax
  000fd	0f 1f 00	 npad	 3
$LL4@DGRelation:

; 2122 : 		{
; 2123 : 			if ( lpUnionMasterGuild->Use[n] > 0 )

  00100	80 3c 30 00	 cmp	 BYTE PTR [eax+esi], 0
  00104	76 43		 jbe	 SHORT $LN2@DGRelation

; 2124 : 			{
; 2125 : 				if ( lpUnionMasterGuild->Index[n] >= 0 )

  00106	66 83 3f 00	 cmp	 WORD PTR [edi], 0
  0010a	7c 3d		 jl	 SHORT $LN2@DGRelation

; 2126 : 				{
; 2127 : 					TNotice _Notice(1);

  0010c	6a 01		 push	 1
  0010e	8d 8d ec fe ff
	ff		 lea	 ecx, DWORD PTR __Notice$3[ebp]
  00114	e8 00 00 00 00	 call	 ??0TNotice@@QAE@E@Z	; TNotice::TNotice

; 2128 : 					_Notice.SendToUser(lpUnionMasterGuild->Index[n], lMsg.Get(MSGGET(6, 169)),

  00119	53		 push	 ebx
  0011a	ff b5 dc fe ff
	ff		 push	 DWORD PTR tv400[ebp]
  00120	b9 00 00 00 00	 mov	 ecx, OFFSET ?lMsg@@3VMessage@@A ; lMsg
  00125	68 a9 06 00 00	 push	 1705			; 000006a9H
  0012a	e8 00 00 00 00	 call	 ?Get@Message@@QAEPADH@Z	; Message::Get
  0012f	50		 push	 eax
  00130	0f bf 07	 movsx	 eax, WORD PTR [edi]
  00133	50		 push	 eax
  00134	8d 85 ec fe ff
	ff		 lea	 eax, DWORD PTR __Notice$3[ebp]
  0013a	50		 push	 eax
  0013b	e8 00 00 00 00	 call	 ?SendToUser@TNotice@@QAAXHPADZZ ; TNotice::SendToUser
  00140	8b 85 e0 fe ff
	ff		 mov	 eax, DWORD PTR tv395[ebp]
  00146	83 c4 14	 add	 esp, 20			; 00000014H
$LN2@DGRelation:

; 2120 : 	{
; 2121 : 		for ( int n=0;n<MAX_USER_GUILD;n++)

  00149	46		 inc	 esi
  0014a	83 c7 02	 add	 edi, 2
  0014d	83 fe 50	 cmp	 esi, 80			; 00000050H
  00150	7c ae		 jl	 SHORT $LL4@DGRelation
  00152	8b 9d d4 fe ff
	ff		 mov	 ebx, DWORD PTR _lpUnionMemberGuild$1$[ebp]
$LN3@DGRelation:

; 2129 : 						lpMsg->szUnionMemberGuildName, lpMsg->szUnionMasterGuildName);
; 2130 : 				}
; 2131 : 			}
; 2132 : 		}
; 2133 : 	}
; 2134 : 
; 2135 : 	LogAddTD("[GS][U.System][Union][KickOut] ( Union Master Guild: %s ), (Union Member Guild: %s)",

  00158	ff b5 dc fe ff
	ff		 push	 DWORD PTR tv400[ebp]
  0015e	ff b5 d8 fe ff
	ff		 push	 DWORD PTR tv401[ebp]
  00164	68 00 00 00 00	 push	 OFFSET ??_C@_0FE@MHBNIMHI@?$FLGS?$FN?$FLU?4System?$FN?$FLUnion?$FN?$FLKickOut?$FN?5?$CI@
  00169	ff 15 00 00 00
	00		 call	 DWORD PTR ?LogAddTD@@3P6AXPADZZA ; LogAddTD
  0016f	83 c4 0c	 add	 esp, 12			; 0000000cH

; 2136 : 		lpMsg->szUnionMasterGuildName, lpMsg->szUnionMemberGuildName);
; 2137 : 
; 2138 : 	if ( !lpUnionMemberGuild )

  00172	85 db		 test	 ebx, ebx
  00174	74 63		 je	 SHORT $LN6@DGRelation
; File c:\users\michel\desktop\source\gameserver\source\guildclass.h

; 150  : 		this->iTimeStamp++;

  00176	ff 83 4c 07 00
	00		 inc	 DWORD PTR [ebx+1868]

; 138  : 		this->iGuildUnion = iGuildNumber;

  0017c	8d bb a0 03 00
	00		 lea	 edi, DWORD PTR [ebx+928]
  00182	c7 83 44 07 00
	00 00 00 00 00	 mov	 DWORD PTR [ebx+1860], 0
; File c:\users\michel\desktop\source\gameserver\source\edsprotocol.cpp

; 2143 : 	for ( int n=0;n<MAX_USER_GUILD;n++)

  0018c	33 f6		 xor	 esi, esi
  0018e	66 90		 npad	 2
$LL7@DGRelation:

; 2144 : 	{
; 2145 : 		if ( lpUnionMemberGuild->Use[n] > 0 )

  00190	80 bc 33 40 04
	00 00 00	 cmp	 BYTE PTR [ebx+esi+1088], 0
  00198	76 36		 jbe	 SHORT $LN5@DGRelation

; 2146 : 		{
; 2147 : 			if ( lpUnionMemberGuild->Index[n] >= 0 )

  0019a	66 83 3f 00	 cmp	 WORD PTR [edi], 0
  0019e	7c 30		 jl	 SHORT $LN5@DGRelation

; 2148 : 			{
; 2149 : 				TNotice _Notice(1);

  001a0	6a 01		 push	 1
  001a2	8d 8d ec fe ff
	ff		 lea	 ecx, DWORD PTR __Notice$2[ebp]
  001a8	e8 00 00 00 00	 call	 ??0TNotice@@QAE@E@Z	; TNotice::TNotice

; 2150 : 				_Notice.SendToUser(lpUnionMemberGuild->Index[n], lMsg.Get(MSGGET(6, 168)));

  001ad	68 a8 06 00 00	 push	 1704			; 000006a8H
  001b2	b9 00 00 00 00	 mov	 ecx, OFFSET ?lMsg@@3VMessage@@A ; lMsg
  001b7	e8 00 00 00 00	 call	 ?Get@Message@@QAEPADH@Z	; Message::Get
  001bc	50		 push	 eax
  001bd	0f bf 07	 movsx	 eax, WORD PTR [edi]
  001c0	50		 push	 eax
  001c1	8d 85 ec fe ff
	ff		 lea	 eax, DWORD PTR __Notice$2[ebp]
  001c7	50		 push	 eax
  001c8	e8 00 00 00 00	 call	 ?SendToUser@TNotice@@QAAXHPADZZ ; TNotice::SendToUser
  001cd	83 c4 0c	 add	 esp, 12			; 0000000cH
$LN5@DGRelation:

; 2143 : 	for ( int n=0;n<MAX_USER_GUILD;n++)

  001d0	46		 inc	 esi
  001d1	83 c7 02	 add	 edi, 2
  001d4	83 fe 50	 cmp	 esi, 80			; 00000050H
  001d7	7c b7		 jl	 SHORT $LL7@DGRelation
$LN6@DGRelation:

; 2151 : 			}
; 2152 : 		}
; 2153 : 	}
; 2154 : 
; 2155 : }

  001d9	8b 4d fc	 mov	 ecx, DWORD PTR __$ArrayPad$[ebp]
  001dc	5f		 pop	 edi
  001dd	5e		 pop	 esi
  001de	33 cd		 xor	 ecx, ebp
  001e0	5b		 pop	 ebx
  001e1	e8 00 00 00 00	 call	 @__security_check_cookie@4
  001e6	8b e5		 mov	 esp, ebp
  001e8	5d		 pop	 ebp
  001e9	c3		 ret	 0
?DGRelationShipAnsKickOutUnionMember@@YAXPAUEXSDHP_KICKOUT_UNIONMEMBER_RESULT@@@Z ENDP ; DGRelationShipAnsKickOutUnionMember
_TEXT	ENDS
; Function compile flags: /Ogtp
; File c:\users\michel\desktop\source\gameserver\source\edsprotocol.cpp
; File c:\users\michel\desktop\source\gameserver\include\prodef.h
; File c:\users\michel\desktop\source\gameserver\source\edsprotocol.cpp
;	COMDAT ?GDRelationShipReqKickOutUnionMember@@YAXHPAD@Z
_TEXT	SEGMENT
_pMsg$ = -28						; size = 24
__$ArrayPad$ = -4					; size = 4
_aIndex$ = 8						; size = 4
_szTargetGuildName$ = 12				; size = 4
?GDRelationShipReqKickOutUnionMember@@YAXHPAD@Z PROC	; GDRelationShipReqKickOutUnionMember, COMDAT

; 2055 : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	83 ec 1c	 sub	 esp, 28			; 0000001cH
  00006	a1 00 00 00 00	 mov	 eax, DWORD PTR ___security_cookie
  0000b	33 c5		 xor	 eax, ebp
  0000d	89 45 fc	 mov	 DWORD PTR __$ArrayPad$[ebp], eax
  00010	8b 55 08	 mov	 edx, DWORD PTR _aIndex$[ebp]

; 2056 : 	_GUILD_INFO_STRUCT * lpGuildInfo = gObj[aIndex].lpGuild;

  00013	a1 00 00 00 00	 mov	 eax, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  00018	69 ca 40 27 00
	00		 imul	 ecx, edx, 10048
  0001e	56		 push	 esi
  0001f	8b 75 0c	 mov	 esi, DWORD PTR _szTargetGuildName$[ebp]
  00022	8b 8c 01 18 06
	00 00		 mov	 ecx, DWORD PTR [ecx+eax+1560]

; 2057 : 
; 2058 : 	if ( lpGuildInfo == NULL )

  00029	85 c9		 test	 ecx, ecx
  0002b	74 4e		 je	 SHORT $LN1@GDRelation

; 2059 : 	{
; 2060 : 		return;
; 2061 : 	}
; 2062 : 
; 2063 : 
; 2064 : 	EXSDHP_KICKOUT_UNIONMEMBER_REQ pMsg = {0};

  0002d	0f 57 c0	 xorps	 xmm0, xmm0
  00030	c7 45 f5 00 00
	00 00		 mov	 DWORD PTR _pMsg$[ebp+17], 0
  00037	0f 11 45 e5	 movups	 XMMWORD PTR _pMsg$[ebp+1], xmm0
  0003b	66 c7 45 f9 00
	00		 mov	 WORD PTR _pMsg$[ebp+21], 0
  00041	c6 45 fb 00	 mov	 BYTE PTR _pMsg$[ebp+23], 0
; File c:\users\michel\desktop\source\gameserver\include\prodef.h

; 140  : 		lpBuf[0] = 0xC1;

  00045	c7 45 e4 c1 18
	eb 01		 mov	 DWORD PTR _pMsg$[ebp], 32184513 ; 01eb18c1H
; File c:\users\michel\desktop\source\gameserver\source\edsprotocol.cpp

; 2066 : 	pMsg.wRequestUserIndex = aIndex;

  0004c	66 89 55 e8	 mov	 WORD PTR _pMsg$[ebp+4], dx

; 2067 : 	pMsg.btRelationShipType = GUILD_RELATION_UNION;

  00050	c6 45 ea 01	 mov	 BYTE PTR _pMsg$[ebp+6], 1

; 2068 : 	memcpy(pMsg.szUnionMasterGuildName, lpGuildInfo->Name, sizeof(pMsg.szUnionMasterGuildName));

  00054	8b 41 04	 mov	 eax, DWORD PTR [ecx+4]
  00057	89 45 eb	 mov	 DWORD PTR _pMsg$[ebp+7], eax
  0005a	8b 41 08	 mov	 eax, DWORD PTR [ecx+8]

; 2069 : 	memcpy(pMsg.szUnionMemberGuildName, szTargetGuildName, sizeof(pMsg.szUnionMemberGuildName));
; 2070 : 
; 2071 : 	wsExDbCli.DataSend((char*)&pMsg, pMsg.h.size);

  0005d	b9 00 00 00 00	 mov	 ecx, OFFSET ?wsExDbCli@@3VwsJoinServerCli@@A ; wsExDbCli
  00062	89 45 ef	 mov	 DWORD PTR _pMsg$[ebp+11], eax
  00065	8b 06		 mov	 eax, DWORD PTR [esi]
  00067	89 45 f3	 mov	 DWORD PTR _pMsg$[ebp+15], eax
  0006a	8b 46 04	 mov	 eax, DWORD PTR [esi+4]
  0006d	89 45 f7	 mov	 DWORD PTR _pMsg$[ebp+19], eax
  00070	8d 45 e4	 lea	 eax, DWORD PTR _pMsg$[ebp]
  00073	6a 18		 push	 24			; 00000018H
  00075	50		 push	 eax
  00076	e8 00 00 00 00	 call	 ?DataSend@wsJoinServerCli@@QAEHPADH@Z ; wsJoinServerCli::DataSend
$LN1@GDRelation:

; 2072 : }

  0007b	8b 4d fc	 mov	 ecx, DWORD PTR __$ArrayPad$[ebp]
  0007e	33 cd		 xor	 ecx, ebp
  00080	5e		 pop	 esi
  00081	e8 00 00 00 00	 call	 @__security_check_cookie@4
  00086	8b e5		 mov	 esp, ebp
  00088	5d		 pop	 ebp
  00089	c3		 ret	 0
?GDRelationShipReqKickOutUnionMember@@YAXHPAD@Z ENDP	; GDRelationShipReqKickOutUnionMember
_TEXT	ENDS
; Function compile flags: /Ogtp
; File c:\users\michel\desktop\source\gameserver\source\edsprotocol.cpp
;	COMDAT ?DGUnionListRecv@@YAXPAE@Z
_TEXT	SEGMENT
_aRecv$GSCopy$1$ = -6012				; size = 4
tv491 = -6008						; size = 4
_cBUFFER_V1$ = -6004					; size = 6000
__$ArrayPad$ = -4					; size = 4
_aRecv$ = 8						; size = 4
?DGUnionListRecv@@YAXPAE@Z PROC				; DGUnionListRecv, COMDAT

; 2004 : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	b8 7c 17 00 00	 mov	 eax, 6012		; 0000177cH
  00008	e8 00 00 00 00	 call	 __chkstk
  0000d	a1 00 00 00 00	 mov	 eax, DWORD PTR ___security_cookie
  00012	33 c5		 xor	 eax, ebp
  00014	89 45 fc	 mov	 DWORD PTR __$ArrayPad$[ebp], eax
  00017	56		 push	 esi
  00018	8b 75 08	 mov	 esi, DWORD PTR _aRecv$[ebp]

; 2005 : 	EXSDHP_UNION_LIST_COUNT * lpRecvMsg = (EXSDHP_UNION_LIST_COUNT *)aRecv;
; 2006 : 	EXSDHP_UNION_LIST * lpRecvMsgBody = (EXSDHP_UNION_LIST *)((DWORD)aRecv + 0x10 ) ;	// #error it 0x10 ???
; 2007 : 	char cBUFFER_V1[6000];
; 2008 : 	memset(cBUFFER_V1, 0, sizeof(cBUFFER_V1));

  0001b	8d 85 8c e8 ff
	ff		 lea	 eax, DWORD PTR _cBUFFER_V1$[ebp]
  00021	68 70 17 00 00	 push	 6000			; 00001770H
  00026	6a 00		 push	 0
  00028	50		 push	 eax
  00029	89 b5 84 e8 ff
	ff		 mov	 DWORD PTR _aRecv$GSCopy$1$[ebp], esi
  0002f	e8 00 00 00 00	 call	 _memset

; 2009 : 	int iSize = MAKE_NUMBERW(lpRecvMsg->h.sizeH, lpRecvMsg->h.sizeL);

  00034	0f b6 46 01	 movzx	 eax, BYTE PTR [esi+1]
  00038	83 c4 0c	 add	 esp, 12			; 0000000cH
  0003b	66 c1 e0 08	 shl	 ax, 8

; 2010 : 	int iBodySize = iSize - 0x10;	// #error

  0003f	0f b7 c8	 movzx	 ecx, ax
  00042	0f b6 46 02	 movzx	 eax, BYTE PTR [esi+2]
  00046	0b c8		 or	 ecx, eax
  00048	83 e9 10	 sub	 ecx, 16			; 00000010H

; 2011 : 
; 2012 : 	if ( iBodySize < 0 )

  0004b	81 f9 20 4e 00
	00		 cmp	 ecx, 20000		; 00004e20H
  00051	0f 87 f5 00 00
	00		 ja	 $LN8@DGUnionLis

; 2013 : 		return;
; 2014 : 
; 2015 : 	//if ( iBodySize > MAX_BUFF_SIZE )
; 2016 : 	if ( iBodySize > MAX_BUFF_SIZE )
; 2017 : 		return;
; 2018 : 
; 2019 : 	if ( lpRecvMsg->btCount < 0 || lpRecvMsg->btCount > 100 )

  00057	8a 56 04	 mov	 dl, BYTE PTR [esi+4]
  0005a	80 fa 64	 cmp	 dl, 100			; 00000064H
  0005d	0f 87 e9 00 00
	00		 ja	 $LN8@DGUnionLis

; 2020 : 		return;
; 2021 : 
; 2022 : 	PMSG_UNIONLIST_COUNT * lpMsg = (PMSG_UNIONLIST_COUNT *)cBUFFER_V1;
; 2023 : 	PMSG_UNIONLIST * lpMsgBody = (PMSG_UNIONLIST *)((DWORD)cBUFFER_V1+sizeof(PMSG_UNIONLIST_COUNT));
; 2024 : 	lpMsg->btResult = lpRecvMsg->btResult;

  00063	0f b6 46 05	 movzx	 eax, BYTE PTR [esi+5]
  00067	88 85 91 e8 ff
	ff		 mov	 BYTE PTR _cBUFFER_V1$[ebp+5], al

; 2025 : 	lpMsg->btCount = lpRecvMsg->btCount;
; 2026 : 	lpMsg->btRivalMemberNum = lpRecvMsg->btRivalMemberNum;

  0006d	0f b6 46 0c	 movzx	 eax, BYTE PTR [esi+12]
  00071	53		 push	 ebx
  00072	88 85 92 e8 ff
	ff		 mov	 BYTE PTR _cBUFFER_V1$[ebp+6], al

; 2027 : 	lpMsg->btUnionMemberNum = lpRecvMsg->btUnionMemberNum;
; 2028 : 
; 2029 : 	for (int i=0;i<lpMsg->btCount;i++)

  00078	33 db		 xor	 ebx, ebx
  0007a	0f b6 46 0d	 movzx	 eax, BYTE PTR [esi+13]
  0007e	88 95 90 e8 ff
	ff		 mov	 BYTE PTR _cBUFFER_V1$[ebp+4], dl
  00084	88 85 93 e8 ff
	ff		 mov	 BYTE PTR _cBUFFER_V1$[ebp+7], al
  0008a	84 d2		 test	 dl, dl
  0008c	74 76		 je	 SHORT $LN3@DGUnionLis
  0008e	8d 46 10	 lea	 eax, DWORD PTR [esi+16]
  00091	57		 push	 edi
  00092	8d bd b4 e8 ff
	ff		 lea	 edi, DWORD PTR _cBUFFER_V1$[ebp+40]
  00098	8d b5 93 e8 ff
	ff		 lea	 esi, DWORD PTR _cBUFFER_V1$[ebp+7]
  0009e	2b f8		 sub	 edi, eax
  000a0	8d 95 94 e8 ff
	ff		 lea	 edx, DWORD PTR _cBUFFER_V1$[ebp+8]
  000a6	2b f0		 sub	 esi, eax
  000a8	2b d0		 sub	 edx, eax
  000aa	8d 48 01	 lea	 ecx, DWORD PTR [eax+1]
  000ad	89 95 88 e8 ff
	ff		 mov	 DWORD PTR tv491[ebp], edx
  000b3	eb 11		 jmp	 SHORT $LN4@DGUnionLis
  000b5	66 66 66 0f 1f
	84 00 00 00 00
	00		 npad	 11
$LL14@DGUnionLis:
  000c0	8b 95 88 e8 ff
	ff		 mov	 edx, DWORD PTR tv491[ebp]
$LN4@DGUnionLis:

; 2030 : 	{
; 2031 : 		lpMsgBody[i].btMemberNum = lpRecvMsgBody[i].btMemberNum;
; 2032 : 		memcpy(lpMsgBody[i].szGuildName, lpRecvMsgBody[i].szGuildName, sizeof(lpMsgBody->szGuildName));
; 2033 : 		memcpy(lpMsgBody[i].Mark, lpRecvMsgBody[i].Mark, sizeof(lpMsgBody->Mark));

  000c6	0f 10 01	 movups	 xmm0, XMMWORD PTR [ecx]
  000c9	8a 41 ff	 mov	 al, BYTE PTR [ecx-1]
  000cc	8d 49 29	 lea	 ecx, DWORD PTR [ecx+41]
  000cf	88 44 0e d7	 mov	 BYTE PTR [esi+ecx-41], al
  000d3	43		 inc	 ebx
  000d4	8b 41 f7	 mov	 eax, DWORD PTR [ecx-9]
  000d7	0f 11 44 0a d7	 movups	 XMMWORD PTR [edx+ecx-41], xmm0
  000dc	89 44 0f d7	 mov	 DWORD PTR [edi+ecx-41], eax
  000e0	0f 10 41 e7	 movups	 xmm0, XMMWORD PTR [ecx-25]
  000e4	8b 41 fb	 mov	 eax, DWORD PTR [ecx-5]
  000e7	89 44 0f db	 mov	 DWORD PTR [edi+ecx-37], eax
  000eb	0f 11 44 0a e7	 movups	 XMMWORD PTR [edx+ecx-25], xmm0
  000f0	8a 95 90 e8 ff
	ff		 mov	 dl, BYTE PTR _cBUFFER_V1$[ebp+4]
  000f6	0f b6 c2	 movzx	 eax, dl
  000f9	3b d8		 cmp	 ebx, eax
  000fb	7c c3		 jl	 SHORT $LL14@DGUnionLis
  000fd	8b b5 84 e8 ff
	ff		 mov	 esi, DWORD PTR _aRecv$GSCopy$1$[ebp]
  00103	5f		 pop	 edi
$LN3@DGUnionLis:

; 2034 : 	}
; 2035 : 
; 2036 : 	PHeadSetW((LPBYTE)lpMsg, 0xE9, lpMsg->btCount * sizeof(PMSG_UNIONLIST) + 0x10);	// #warning Check plus operation ( why 0x10 ??? )

  00104	0f b6 c2	 movzx	 eax, dl
  00107	6b c0 29	 imul	 eax, eax, 41
  0010a	83 c0 10	 add	 eax, 16			; 00000010H
  0010d	50		 push	 eax
  0010e	8d 85 8c e8 ff
	ff		 lea	 eax, DWORD PTR _cBUFFER_V1$[ebp]
  00114	68 e9 00 00 00	 push	 233			; 000000e9H
  00119	50		 push	 eax
  0011a	e8 00 00 00 00	 call	 ?PHeadSetW@@YAXPAEEH@Z	; PHeadSetW

; 2037 : 	DataSend(lpRecvMsg->wRequestUserIndex, (LPBYTE)lpMsg, MAKE_NUMBERW(lpMsg->h.sizeH, lpMsg->h.sizeL));

  0011f	0f b6 85 8d e8
	ff ff		 movzx	 eax, BYTE PTR _cBUFFER_V1$[ebp+1]
  00126	66 c1 e0 08	 shl	 ax, 8
  0012a	0f b7 c8	 movzx	 ecx, ax
  0012d	0f b6 85 8e e8
	ff ff		 movzx	 eax, BYTE PTR _cBUFFER_V1$[ebp+2]
  00134	0b c8		 or	 ecx, eax
  00136	8d 85 8c e8 ff
	ff		 lea	 eax, DWORD PTR _cBUFFER_V1$[ebp]
  0013c	51		 push	 ecx
  0013d	50		 push	 eax
  0013e	0f b7 46 06	 movzx	 eax, WORD PTR [esi+6]
  00142	50		 push	 eax
  00143	e8 00 00 00 00	 call	 ?DataSend@@YAHHPAEK@Z	; DataSend
  00148	83 c4 18	 add	 esp, 24			; 00000018H
  0014b	5b		 pop	 ebx
$LN8@DGUnionLis:

; 2038 : }

  0014c	8b 4d fc	 mov	 ecx, DWORD PTR __$ArrayPad$[ebp]
  0014f	33 cd		 xor	 ecx, ebp
  00151	5e		 pop	 esi
  00152	e8 00 00 00 00	 call	 @__security_check_cookie@4
  00157	8b e5		 mov	 esp, ebp
  00159	5d		 pop	 ebp
  0015a	c3		 ret	 0
?DGUnionListRecv@@YAXPAE@Z ENDP				; DGUnionListRecv
_TEXT	ENDS
; Function compile flags: /Ogtp
; File c:\users\michel\desktop\source\gameserver\source\edsprotocol.cpp
; File c:\users\michel\desktop\source\gameserver\include\prodef.h
; File c:\users\michel\desktop\source\gameserver\source\edsprotocol.cpp
;	COMDAT ?GDUnionListSend@@YAXHH@Z
_TEXT	SEGMENT
_pMsg$ = -16						; size = 12
__$ArrayPad$ = -4					; size = 4
_iUserIndex$ = 8					; size = 4
_iUnionMasterGuildNumber$ = 12				; size = 4
?GDUnionListSend@@YAXHH@Z PROC				; GDUnionListSend, COMDAT

; 1952 : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	83 ec 10	 sub	 esp, 16			; 00000010H
  00006	a1 00 00 00 00	 mov	 eax, DWORD PTR ___security_cookie
  0000b	33 c5		 xor	 eax, ebp
  0000d	89 45 fc	 mov	 DWORD PTR __$ArrayPad$[ebp], eax

; 1953 : 	EXSDHP_UNION_LIST_REQ pMsg = {0};
; 1954 : 
; 1955 : 	pMsg.h.set((LPBYTE)&pMsg, 0xE9, sizeof(EXSDHP_UNION_LIST_REQ));
; 1956 : 	pMsg.wRequestUserIndex = iUserIndex;

  00010	66 8b 45 08	 mov	 ax, WORD PTR _iUserIndex$[ebp]
  00014	0f 57 c0	 xorps	 xmm0, xmm0
  00017	66 0f d6 45 f1	 movq	 QWORD PTR _pMsg$[ebp+1], xmm0

; 1959 : 	wsExDbCli.DataSend((char*)&pMsg, pMsg.h.size);

  0001c	b9 00 00 00 00	 mov	 ecx, OFFSET ?wsExDbCli@@3VwsJoinServerCli@@A ; wsExDbCli
  00021	66 89 45 f4	 mov	 WORD PTR _pMsg$[ebp+4], ax
  00025	8b 45 0c	 mov	 eax, DWORD PTR _iUnionMasterGuildNumber$[ebp]
  00028	66 c7 45 f9 00
	00		 mov	 WORD PTR _pMsg$[ebp+9], 0
  0002e	c6 45 fb 00	 mov	 BYTE PTR _pMsg$[ebp+11], 0
  00032	89 45 f8	 mov	 DWORD PTR _pMsg$[ebp+8], eax
  00035	8d 45 f0	 lea	 eax, DWORD PTR _pMsg$[ebp]
  00038	6a 0c		 push	 12			; 0000000cH
  0003a	50		 push	 eax
; File c:\users\michel\desktop\source\gameserver\include\prodef.h

; 86   : 		lpBuf[0] = 0xC1;

  0003b	66 c7 45 f0 c1
	0c		 mov	 WORD PTR _pMsg$[ebp], 3265 ; 00000cc1H

; 87   : 		lpBuf[1] = size;
; 88   : 		lpBuf[2] = head;

  00041	c6 45 f2 e9	 mov	 BYTE PTR _pMsg$[ebp+2], 233 ; 000000e9H
; File c:\users\michel\desktop\source\gameserver\source\edsprotocol.cpp

; 1959 : 	wsExDbCli.DataSend((char*)&pMsg, pMsg.h.size);

  00045	e8 00 00 00 00	 call	 ?DataSend@wsJoinServerCli@@QAEHPADH@Z ; wsJoinServerCli::DataSend

; 1960 : }

  0004a	8b 4d fc	 mov	 ecx, DWORD PTR __$ArrayPad$[ebp]
  0004d	33 cd		 xor	 ecx, ebp
  0004f	e8 00 00 00 00	 call	 @__security_check_cookie@4
  00054	8b e5		 mov	 esp, ebp
  00056	5d		 pop	 ebp
  00057	c3		 ret	 0
?GDUnionListSend@@YAXHH@Z ENDP				; GDUnionListSend
_TEXT	ENDS
; Function compile flags: /Ogtp
; File c:\users\michel\desktop\source\gameserver\source\edsprotocol.cpp
;	COMDAT ?DGRelationShipListRecv@@YAXPAUEXSDHP_UNION_RELATIONSHIP_LIST@@@Z
_TEXT	SEGMENT
_lpMsg$ = 8						; size = 4
?DGRelationShipListRecv@@YAXPAUEXSDHP_UNION_RELATIONSHIP_LIST@@@Z PROC ; DGRelationShipListRecv, COMDAT

; 1928 : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	56		 push	 esi

; 1929 : 	if ( lpMsg->btRelationShipType == G_RELATIONSHIP_UNION )

  00004	8b 75 08	 mov	 esi, DWORD PTR _lpMsg$[ebp]
  00007	8a 46 05	 mov	 al, BYTE PTR [esi+5]
  0000a	3c 01		 cmp	 al, 1
  0000c	75 2a		 jne	 SHORT $LN2@DGRelation

; 1930 : 	{
; 1931 : 		UnionManager.AddUnion(lpMsg->iUnionMasterGuildNumber, lpMsg->szUnionMasterGuildName);

  0000e	8d 46 07	 lea	 eax, DWORD PTR [esi+7]
  00011	b9 00 00 00 00	 mov	 ecx, OFFSET ?UnionManager@@3VTUnion@@A ; UnionManager
  00016	50		 push	 eax
  00017	ff 76 10	 push	 DWORD PTR [esi+16]
  0001a	e8 00 00 00 00	 call	 ?AddUnion@TUnion@@QAEHHPAD@Z ; TUnion::AddUnion

; 1932 : 		UnionManager.SetGuildUnionMemberList(lpMsg->iUnionMasterGuildNumber, lpMsg->btRelationShipMemberCount, lpMsg->iRelationShipMember);

  0001f	8d 46 14	 lea	 eax, DWORD PTR [esi+20]
  00022	b9 00 00 00 00	 mov	 ecx, OFFSET ?UnionManager@@3VTUnion@@A ; UnionManager
  00027	50		 push	 eax
  00028	0f b6 46 06	 movzx	 eax, BYTE PTR [esi+6]
  0002c	50		 push	 eax
  0002d	ff 76 10	 push	 DWORD PTR [esi+16]
  00030	e8 00 00 00 00	 call	 ?SetGuildUnionMemberList@TUnion@@QAEHHHPBH@Z ; TUnion::SetGuildUnionMemberList
  00035	5e		 pop	 esi

; 1938 : 	}
; 1939 : }

  00036	5d		 pop	 ebp
  00037	c3		 ret	 0
$LN2@DGRelation:

; 1933 : 	}
; 1934 : 	else if ( lpMsg->btRelationShipType == G_RELATIONSHIP_RIVAL )

  00038	3c 02		 cmp	 al, 2
  0003a	75 27		 jne	 SHORT $LN4@DGRelation

; 1935 : 	{
; 1936 : 		UnionManager.AddUnion(lpMsg->iUnionMasterGuildNumber, lpMsg->szUnionMasterGuildName);

  0003c	8d 46 07	 lea	 eax, DWORD PTR [esi+7]
  0003f	b9 00 00 00 00	 mov	 ecx, OFFSET ?UnionManager@@3VTUnion@@A ; UnionManager
  00044	50		 push	 eax
  00045	ff 76 10	 push	 DWORD PTR [esi+16]
  00048	e8 00 00 00 00	 call	 ?AddUnion@TUnion@@QAEHHPAD@Z ; TUnion::AddUnion

; 1937 : 		UnionManager.SetGuildRivalMemberList(lpMsg->iUnionMasterGuildNumber, lpMsg->btRelationShipMemberCount, lpMsg->iRelationShipMember);

  0004d	8d 46 14	 lea	 eax, DWORD PTR [esi+20]
  00050	b9 00 00 00 00	 mov	 ecx, OFFSET ?UnionManager@@3VTUnion@@A ; UnionManager
  00055	50		 push	 eax
  00056	0f b6 46 06	 movzx	 eax, BYTE PTR [esi+6]
  0005a	50		 push	 eax
  0005b	ff 76 10	 push	 DWORD PTR [esi+16]
  0005e	e8 00 00 00 00	 call	 ?SetGuildRivalMemberList@TUnion@@QAEHHHPBH@Z ; TUnion::SetGuildRivalMemberList
$LN4@DGRelation:
  00063	5e		 pop	 esi

; 1938 : 	}
; 1939 : }

  00064	5d		 pop	 ebp
  00065	c3		 ret	 0
?DGRelationShipListRecv@@YAXPAUEXSDHP_UNION_RELATIONSHIP_LIST@@@Z ENDP ; DGRelationShipListRecv
_TEXT	ENDS
; Function compile flags: /Ogtp
; File c:\users\michel\desktop\source\gameserver\source\edsprotocol.cpp
; File c:\users\michel\desktop\source\gameserver\source\guildclass.h
; File c:\users\michel\desktop\source\gameserver\source\edsprotocol.cpp
; File c:\users\michel\desktop\source\gameserver\source\guildclass.h
; File c:\users\michel\desktop\source\gameserver\source\edsprotocol.cpp
;	COMDAT ?DGRelationShipNotificationRecv@@YAXPAUEXSDHP_NOTIFICATION_RELATIONSHIP@@@Z
_TEXT	SEGMENT
_lpMsg$GSCopy$1$ = -288					; size = 4
tv323 = -284						; size = 4
tv322 = -280						; size = 4
_lpGuildInfo$1$ = -280					; size = 4
__Notice$1 = -276					; size = 272
__$ArrayPad$ = -4					; size = 4
_lpMsg$ = 8						; size = 4
?DGRelationShipNotificationRecv@@YAXPAUEXSDHP_NOTIFICATION_RELATIONSHIP@@@Z PROC ; DGRelationShipNotificationRecv, COMDAT

; 1885 : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	81 ec 20 01 00
	00		 sub	 esp, 288		; 00000120H
  00009	a1 00 00 00 00	 mov	 eax, DWORD PTR ___security_cookie
  0000e	33 c5		 xor	 eax, ebp
  00010	89 45 fc	 mov	 DWORD PTR __$ArrayPad$[ebp], eax
  00013	53		 push	 ebx
  00014	8b 5d 08	 mov	 ebx, DWORD PTR _lpMsg$[ebp]
  00017	56		 push	 esi
  00018	57		 push	 edi
  00019	89 9d e0 fe ff
	ff		 mov	 DWORD PTR _lpMsg$GSCopy$1$[ebp], ebx

; 1886 : 	if ( lpMsg->btUpdateFlag == EX_RESULT_FAIL_FOR_CASTLE )

  0001f	80 7b 05 10	 cmp	 BYTE PTR [ebx+5], 16	; 00000010H
  00023	0f 85 b9 00 00
	00		 jne	 $LN3@DGRelation

; 1887 : 	{
; 1888 : 		_GUILD_INFO_STRUCT * lpGuildInfo = Guild.SearchGuild_Number(lpMsg->iGuildList[0]);

  00029	ff 73 08	 push	 DWORD PTR [ebx+8]
  0002c	b9 00 00 00 00	 mov	 ecx, OFFSET ?Guild@@3VCGuildClass@@A ; Guild
  00031	e8 00 00 00 00	 call	 ?SearchGuild_Number@CGuildClass@@QAEPAU_GUILD_INFO_STRUCT@@H@Z ; CGuildClass::SearchGuild_Number
  00036	8b f8		 mov	 edi, eax
  00038	89 bd e8 fe ff
	ff		 mov	 DWORD PTR _lpGuildInfo$1$[ebp], edi

; 1889 : 
; 1890 : 		if ( lpGuildInfo )

  0003e	85 ff		 test	 edi, edi
  00040	0f 84 9c 00 00
	00		 je	 $LN3@DGRelation
; File c:\users\michel\desktop\source\gameserver\source\guildclass.h

; 150  : 		this->iTimeStamp++;

  00046	ff 87 4c 07 00
	00		 inc	 DWORD PTR [edi+1868]
; File c:\users\michel\desktop\source\gameserver\source\edsprotocol.cpp

; 1895 : 			LogAddTD("[U.System][Union][Auto BreakOff] ( Union Master Guild: %s ), (Union Member Guild: %s)",

  0004c	8d 47 04	 lea	 eax, DWORD PTR [edi+4]
  0004f	50		 push	 eax
  00050	50		 push	 eax
  00051	68 00 00 00 00	 push	 OFFSET ??_C@_0FG@CCGCMLDE@?$FLU?4System?$FN?$FLUnion?$FN?$FLAuto?5BreakOff?$FN@
  00056	c7 87 44 07 00
	00 00 00 00 00	 mov	 DWORD PTR [edi+1860], 0
  00060	89 85 e4 fe ff
	ff		 mov	 DWORD PTR tv323[ebp], eax
  00066	ff 15 00 00 00
	00		 call	 DWORD PTR ?LogAddTD@@3P6AXPADZZA ; LogAddTD

; 1896 : 				lpGuildInfo->Name, lpGuildInfo->Name);
; 1897 : 
; 1898 : 			for ( int n=0;n<MAX_USER_GUILD;n++)

  0006c	8b 85 e8 fe ff
	ff		 mov	 eax, DWORD PTR _lpGuildInfo$1$[ebp]
  00072	83 c4 0c	 add	 esp, 12			; 0000000cH
  00075	8b 9d e4 fe ff
	ff		 mov	 ebx, DWORD PTR tv323[ebp]
  0007b	33 f6		 xor	 esi, esi
  0007d	81 c7 a0 03 00
	00		 add	 edi, 928		; 000003a0H
  00083	05 40 04 00 00	 add	 eax, 1088		; 00000440H
  00088	89 85 e8 fe ff
	ff		 mov	 DWORD PTR tv322[ebp], eax
  0008e	66 90		 npad	 2
$LL4@DGRelation:

; 1899 : 			{
; 1900 : 				if ( lpGuildInfo->Use[n] > 0 )

  00090	80 3c 30 00	 cmp	 BYTE PTR [eax+esi], 0
  00094	76 3d		 jbe	 SHORT $LN2@DGRelation

; 1901 : 				{
; 1902 : 					if ( lpGuildInfo->Index[n] >= 0 )

  00096	66 83 3f 00	 cmp	 WORD PTR [edi], 0
  0009a	7c 37		 jl	 SHORT $LN2@DGRelation

; 1903 : 					{
; 1904 : 						TNotice _Notice(1);

  0009c	6a 01		 push	 1
  0009e	8d 8d ec fe ff
	ff		 lea	 ecx, DWORD PTR __Notice$1[ebp]
  000a4	e8 00 00 00 00	 call	 ??0TNotice@@QAE@E@Z	; TNotice::TNotice

; 1905 : 						_Notice.SendToUser(lpGuildInfo->Index[n], lMsg.Get(MSGGET(6, 172)), lpGuildInfo->Name);

  000a9	53		 push	 ebx
  000aa	68 ac 06 00 00	 push	 1708			; 000006acH
  000af	b9 00 00 00 00	 mov	 ecx, OFFSET ?lMsg@@3VMessage@@A ; lMsg
  000b4	e8 00 00 00 00	 call	 ?Get@Message@@QAEPADH@Z	; Message::Get
  000b9	50		 push	 eax
  000ba	0f bf 07	 movsx	 eax, WORD PTR [edi]
  000bd	50		 push	 eax
  000be	8d 85 ec fe ff
	ff		 lea	 eax, DWORD PTR __Notice$1[ebp]
  000c4	50		 push	 eax
  000c5	e8 00 00 00 00	 call	 ?SendToUser@TNotice@@QAAXHPADZZ ; TNotice::SendToUser
  000ca	8b 85 e8 fe ff
	ff		 mov	 eax, DWORD PTR tv322[ebp]
  000d0	83 c4 10	 add	 esp, 16			; 00000010H
$LN2@DGRelation:

; 1896 : 				lpGuildInfo->Name, lpGuildInfo->Name);
; 1897 : 
; 1898 : 			for ( int n=0;n<MAX_USER_GUILD;n++)

  000d3	46		 inc	 esi
  000d4	83 c7 02	 add	 edi, 2
  000d7	83 fe 50	 cmp	 esi, 80			; 00000050H
  000da	7c b4		 jl	 SHORT $LL4@DGRelation
  000dc	8b 9d e0 fe ff
	ff		 mov	 ebx, DWORD PTR _lpMsg$GSCopy$1$[ebp]
$LN3@DGRelation:

; 1912 : 	for ( int i=0;i<lpMsg->btGuildListCount;i++)

  000e2	33 f6		 xor	 esi, esi
  000e4	80 7b 06 00	 cmp	 BYTE PTR [ebx+6], 0
  000e8	76 28		 jbe	 SHORT $LN6@DGRelation
  000ea	8d 7b 08	 lea	 edi, DWORD PTR [ebx+8]
  000ed	0f 1f 00	 npad	 3
$LL7@DGRelation:

; 1913 : 	{
; 1914 : 		_GUILD_INFO_STRUCT * lpGuildInfo = Guild.SearchGuild_Number(lpMsg->iGuildList[i]);

  000f0	ff 37		 push	 DWORD PTR [edi]
  000f2	b9 00 00 00 00	 mov	 ecx, OFFSET ?Guild@@3VCGuildClass@@A ; Guild
  000f7	e8 00 00 00 00	 call	 ?SearchGuild_Number@CGuildClass@@QAEPAU_GUILD_INFO_STRUCT@@H@Z ; CGuildClass::SearchGuild_Number

; 1915 : 
; 1916 : 		if ( lpGuildInfo )

  000fc	85 c0		 test	 eax, eax
  000fe	74 06		 je	 SHORT $LN5@DGRelation
; File c:\users\michel\desktop\source\gameserver\source\guildclass.h

; 150  : 		this->iTimeStamp++;

  00100	ff 80 4c 07 00
	00		 inc	 DWORD PTR [eax+1868]
$LN5@DGRelation:
; File c:\users\michel\desktop\source\gameserver\source\edsprotocol.cpp

; 1912 : 	for ( int i=0;i<lpMsg->btGuildListCount;i++)

  00106	0f b6 43 06	 movzx	 eax, BYTE PTR [ebx+6]
  0010a	46		 inc	 esi
  0010b	83 c7 04	 add	 edi, 4
  0010e	3b f0		 cmp	 esi, eax
  00110	7c de		 jl	 SHORT $LL7@DGRelation
$LN6@DGRelation:

; 1917 : 		{
; 1918 : 			lpGuildInfo->SetTimeStamp();
; 1919 : 		}
; 1920 : 	}
; 1921 : }

  00112	8b 4d fc	 mov	 ecx, DWORD PTR __$ArrayPad$[ebp]
  00115	5f		 pop	 edi
  00116	5e		 pop	 esi
  00117	33 cd		 xor	 ecx, ebp
  00119	5b		 pop	 ebx
  0011a	e8 00 00 00 00	 call	 @__security_check_cookie@4
  0011f	8b e5		 mov	 esp, ebp
  00121	5d		 pop	 ebp
  00122	c3		 ret	 0
?DGRelationShipNotificationRecv@@YAXPAUEXSDHP_NOTIFICATION_RELATIONSHIP@@@Z ENDP ; DGRelationShipNotificationRecv
_TEXT	ENDS
; Function compile flags: /Ogtp
; File c:\users\michel\desktop\source\gameserver\source\edsprotocol.cpp
; File c:\users\michel\desktop\source\gameserver\include\prodef.h
; File c:\users\michel\desktop\source\gameserver\source\edsprotocol.cpp
; File c:\users\michel\desktop\source\gameserver\source\guildclass.h
; File c:\users\michel\desktop\source\gameserver\source\edsprotocol.cpp
;	COMDAT ?DGRelationShipAnsBreakOff@@YAXPAUEXSDHP_RELATIONSHIP_BREAKOFF_RESULT@@@Z
_TEXT	SEGMENT
tv396 = -288						; size = 4
_lpReqGuild$1$ = -288					; size = 4
_pMsg$1 = -284						; size = 8
tv397 = -280						; size = 4
__Notice$2 = -276					; size = 272
__$ArrayPad$ = -4					; size = 4
_lpMsg$ = 8						; size = 4
?DGRelationShipAnsBreakOff@@YAXPAUEXSDHP_RELATIONSHIP_BREAKOFF_RESULT@@@Z PROC ; DGRelationShipAnsBreakOff, COMDAT

; 1799 : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	81 ec 20 01 00
	00		 sub	 esp, 288		; 00000120H
  00009	a1 00 00 00 00	 mov	 eax, DWORD PTR ___security_cookie
  0000e	33 c5		 xor	 eax, ebp
  00010	89 45 fc	 mov	 DWORD PTR __$ArrayPad$[ebp], eax
  00013	53		 push	 ebx
  00014	8b 5d 08	 mov	 ebx, DWORD PTR _lpMsg$[ebp]

; 1800 : 	if ( lpMsg->btRelationShipType == G_RELATIONSHIP_UNION )

  00017	80 7b 09 01	 cmp	 BYTE PTR [ebx+9], 1
  0001b	75 18		 jne	 SHORT $LN5@DGRelation

; 1801 : 	{
; 1802 : 		DGUnionBreakOff(lpMsg);

  0001d	53		 push	 ebx
  0001e	e8 00 00 00 00	 call	 ?DGUnionBreakOff@@YAXPAUEXSDHP_RELATIONSHIP_BREAKOFF_RESULT@@@Z ; DGUnionBreakOff
  00023	83 c4 04	 add	 esp, 4
  00026	5b		 pop	 ebx

; 1875 : 				}
; 1876 : 			}
; 1877 : 		}
; 1878 : 	}
; 1879 : }

  00027	8b 4d fc	 mov	 ecx, DWORD PTR __$ArrayPad$[ebp]
  0002a	33 cd		 xor	 ecx, ebp
  0002c	e8 00 00 00 00	 call	 @__security_check_cookie@4
  00031	8b e5		 mov	 esp, ebp
  00033	5d		 pop	 ebp
  00034	c3		 ret	 0
$LN5@DGRelation:
  00035	56		 push	 esi
  00036	57		 push	 edi

; 1803 : 		return;
; 1804 : 	}
; 1805 : 
; 1806 : 
; 1807 : 	_GUILD_INFO_STRUCT * lpReqGuild = Guild.SearchGuild_Number(lpMsg->iRequestGuildNum);

  00037	ff 73 0c	 push	 DWORD PTR [ebx+12]
  0003a	b9 00 00 00 00	 mov	 ecx, OFFSET ?Guild@@3VCGuildClass@@A ; Guild
  0003f	e8 00 00 00 00	 call	 ?SearchGuild_Number@CGuildClass@@QAEPAU_GUILD_INFO_STRUCT@@H@Z ; CGuildClass::SearchGuild_Number

; 1808 : 	_GUILD_INFO_STRUCT * lpTargetGuild = Guild.SearchGuild_Number(lpMsg->iTargetGuildNum);

  00044	ff 73 10	 push	 DWORD PTR [ebx+16]
  00047	8b f0		 mov	 esi, eax
  00049	b9 00 00 00 00	 mov	 ecx, OFFSET ?Guild@@3VCGuildClass@@A ; Guild
  0004e	89 b5 e0 fe ff
	ff		 mov	 DWORD PTR _lpReqGuild$1$[ebp], esi
  00054	e8 00 00 00 00	 call	 ?SearchGuild_Number@CGuildClass@@QAEPAU_GUILD_INFO_STRUCT@@H@Z ; CGuildClass::SearchGuild_Number
  00059	8b f8		 mov	 edi, eax

; 1809 : 
; 1810 : 	if ( lpMsg->btFlag == 1 )

  0005b	8a 43 03	 mov	 al, BYTE PTR [ebx+3]
  0005e	3c 01		 cmp	 al, 1
  00060	0f 85 a6 00 00
	00		 jne	 $LN6@DGRelation

; 1811 : 	{
; 1812 : 		if ( !lpReqGuild || !lpTargetGuild )

  00066	85 f6		 test	 esi, esi
  00068	74 04		 je	 SHORT $LN9@DGRelation
  0006a	85 ff		 test	 edi, edi
  0006c	75 04		 jne	 SHORT $LN8@DGRelation
$LN9@DGRelation:

; 1813 : 		{
; 1814 : 			lpMsg->btResult = 0;

  0006e	c6 43 08 00	 mov	 BYTE PTR [ebx+8], 0
$LN8@DGRelation:

; 1815 : 		}
; 1816 : 
; 1817 : 		PMSG_RELATIONSHIP_JOIN_BREAKOFF_ANS pMsg ={0};

  00072	33 c0		 xor	 eax, eax
  00074	89 85 e5 fe ff
	ff		 mov	 DWORD PTR _pMsg$1[ebp+1], eax
  0007a	66 89 85 e9 fe
	ff ff		 mov	 WORD PTR _pMsg$1[ebp+5], ax

; 1818 : 
; 1819 : 		pMsg.h.set((LPBYTE)&pMsg, 0xE6, sizeof(pMsg));
; 1820 : 		pMsg.btResult = lpMsg->btResult;

  00081	0f b6 43 08	 movzx	 eax, BYTE PTR [ebx+8]
  00085	88 85 e9 fe ff
	ff		 mov	 BYTE PTR _pMsg$1[ebp+5], al

; 1822 : 		pMsg.btRelationShipType = lpMsg->btRelationShipType;

  0008b	0f b6 43 09	 movzx	 eax, BYTE PTR [ebx+9]
  0008f	88 85 e7 fe ff
	ff		 mov	 BYTE PTR _pMsg$1[ebp+3], al

; 1823 : 		pMsg.btTargetUserIndexH = SET_NUMBERH(lpMsg->wTargetUserIndex);

  00095	0f b6 43 07	 movzx	 eax, BYTE PTR [ebx+7]
  00099	88 85 ea fe ff
	ff		 mov	 BYTE PTR _pMsg$1[ebp+6], al

; 1824 : 		pMsg.btTargetUserIndexL = SET_NUMBERL(lpMsg->wTargetUserIndex);

  0009f	0f b6 43 06	 movzx	 eax, BYTE PTR [ebx+6]
  000a3	88 85 eb fe ff
	ff		 mov	 BYTE PTR _pMsg$1[ebp+7], al

; 1825 : 
; 1826 : 		if ( lpMsg->wRequestUserIndex != -1 )

  000a9	0f b7 43 04	 movzx	 eax, WORD PTR [ebx+4]
; File c:\users\michel\desktop\source\gameserver\include\prodef.h

; 86   : 		lpBuf[0] = 0xC1;

  000ad	66 c7 85 e4 fe
	ff ff c1 08	 mov	 WORD PTR _pMsg$1[ebp], 2241 ; 000008c1H

; 87   : 		lpBuf[1] = size;
; 88   : 		lpBuf[2] = head;

  000b6	c6 85 e6 fe ff
	ff e6		 mov	 BYTE PTR _pMsg$1[ebp+2], 230 ; 000000e6H
; File c:\users\michel\desktop\source\gameserver\source\edsprotocol.cpp

; 1821 : 		pMsg.btRequestType = 2;

  000bd	c6 85 e8 fe ff
	ff 02		 mov	 BYTE PTR _pMsg$1[ebp+4], 2

; 1825 : 
; 1826 : 		if ( lpMsg->wRequestUserIndex != -1 )

  000c4	83 f8 ff	 cmp	 eax, -1
  000c7	74 12		 je	 SHORT $LN10@DGRelation

; 1827 : 			DataSend(lpMsg->wRequestUserIndex, (LPBYTE)&pMsg, sizeof(pMsg));

  000c9	6a 08		 push	 8
  000cb	8d 8d e4 fe ff
	ff		 lea	 ecx, DWORD PTR _pMsg$1[ebp]
  000d1	51		 push	 ecx
  000d2	50		 push	 eax
  000d3	e8 00 00 00 00	 call	 ?DataSend@@YAHHPAEK@Z	; DataSend
  000d8	83 c4 0c	 add	 esp, 12			; 0000000cH
$LN10@DGRelation:

; 1828 : 
; 1829 : 		pMsg.btTargetUserIndexH = SET_NUMBERH(lpMsg->wRequestUserIndex);

  000db	0f b6 43 05	 movzx	 eax, BYTE PTR [ebx+5]
  000df	88 85 ea fe ff
	ff		 mov	 BYTE PTR _pMsg$1[ebp+6], al

; 1830 : 		pMsg.btTargetUserIndexL = SET_NUMBERL(lpMsg->wRequestUserIndex);

  000e5	0f b6 43 04	 movzx	 eax, BYTE PTR [ebx+4]
  000e9	88 85 eb fe ff
	ff		 mov	 BYTE PTR _pMsg$1[ebp+7], al

; 1831 : 
; 1832 : 		if ( lpMsg->wTargetUserIndex != -1 )

  000ef	0f b7 43 06	 movzx	 eax, WORD PTR [ebx+6]
  000f3	83 f8 ff	 cmp	 eax, -1
  000f6	74 28		 je	 SHORT $LN11@DGRelation

; 1833 : 			DataSend(lpMsg->wTargetUserIndex, (LPBYTE)&pMsg, sizeof(pMsg));

  000f8	6a 08		 push	 8
  000fa	8d 8d e4 fe ff
	ff		 lea	 ecx, DWORD PTR _pMsg$1[ebp]
  00100	51		 push	 ecx
  00101	50		 push	 eax
  00102	e8 00 00 00 00	 call	 ?DataSend@@YAHHPAEK@Z	; DataSend
  00107	83 c4 0c	 add	 esp, 12			; 0000000cH

; 1834 : 
; 1835 : 		if ( lpMsg->btResult == EX_RESULT_FAIL ||lpMsg->btResult == EX_RESULT_FAIL_FOR_CASTLE )
; 1836 : 			return;

  0010a	eb 14		 jmp	 SHORT $LN11@DGRelation
$LN6@DGRelation:

; 1837 : 
; 1838 : 	}
; 1839 : 	else if ( lpMsg->btFlag == 0 )

  0010c	84 c0		 test	 al, al
  0010e	75 23		 jne	 SHORT $LN17@DGRelation

; 1840 : 	{
; 1841 : 		if ( !lpReqGuild || !lpTargetGuild )

  00110	85 f6		 test	 esi, esi
  00112	0f 84 f1 00 00
	00		 je	 $LN41@DGRelation
  00118	85 ff		 test	 edi, edi
  0011a	0f 84 e9 00 00
	00		 je	 $LN41@DGRelation
$LN11@DGRelation:

; 1842 : 			return;
; 1843 : 
; 1844 : 		if ( lpMsg->btResult == EX_RESULT_FAIL ||lpMsg->btResult == EX_RESULT_FAIL_FOR_CASTLE )

  00120	8a 43 08	 mov	 al, BYTE PTR [ebx+8]
  00123	84 c0		 test	 al, al
  00125	0f 84 de 00 00
	00		 je	 $LN41@DGRelation
  0012b	3c 10		 cmp	 al, 16			; 00000010H
  0012d	0f 84 d6 00 00
	00		 je	 $LN41@DGRelation
$LN17@DGRelation:

; 1845 : 			return;
; 1846 : 
; 1847 : 	}
; 1848 : 
; 1849 : 	if ( lpMsg->btRelationShipType == G_RELATIONSHIP_RIVAL )

  00133	80 7b 09 02	 cmp	 BYTE PTR [ebx+9], 2
  00137	75 2e		 jne	 SHORT $LN19@DGRelation
; File c:\users\michel\desktop\source\gameserver\source\guildclass.h

; 150  : 		this->iTimeStamp++;

  00139	ff 86 4c 07 00
	00		 inc	 DWORD PTR [esi+1868]

; 144  : 		this->iGuildRival = iGuildNumber;

  0013f	c7 86 48 07 00
	00 00 00 00 00	 mov	 DWORD PTR [esi+1864], 0

; 150  : 		this->iTimeStamp++;

  00149	ff 87 4c 07 00
	00		 inc	 DWORD PTR [edi+1868]

; 144  : 		this->iGuildRival = iGuildNumber;

  0014f	c7 87 48 07 00
	00 00 00 00 00	 mov	 DWORD PTR [edi+1864], 0
; File c:\users\michel\desktop\source\gameserver\source\edsprotocol.cpp

; 1853 : 		lpReqGuild->szGuildRivalName[0]=0;

  00159	c6 86 50 07 00
	00 00		 mov	 BYTE PTR [esi+1872], 0

; 1854 : 		lpTargetGuild->szGuildRivalName[0]=0;

  00160	c6 87 50 07 00
	00 00		 mov	 BYTE PTR [edi+1872], 0
$LN19@DGRelation:

; 1855 : 	}
; 1856 : 
; 1857 : 	LogAddTD("[U.System][Rival][BreakOff] (  %s ) vs ( %s )",

  00167	8d 47 04	 lea	 eax, DWORD PTR [edi+4]
  0016a	50		 push	 eax
  0016b	89 85 e8 fe ff
	ff		 mov	 DWORD PTR tv397[ebp], eax
  00171	8d 46 04	 lea	 eax, DWORD PTR [esi+4]
  00174	50		 push	 eax
  00175	68 00 00 00 00	 push	 OFFSET ??_C@_0CO@FKCLICLC@?$FLU?4System?$FN?$FLRival?$FN?$FLBreakOff?$FN?5?$CI?5?5?$CF@
  0017a	ff 15 00 00 00
	00		 call	 DWORD PTR ?LogAddTD@@3P6AXPADZZA ; LogAddTD

; 1858 : 		lpReqGuild->Name, lpTargetGuild->Name);
; 1859 : 
; 1860 : 	for ( int n=0;n<MAX_USER_GUILD;n++)

  00180	8b 85 e0 fe ff
	ff		 mov	 eax, DWORD PTR _lpReqGuild$1$[ebp]
  00186	83 c4 0c	 add	 esp, 12			; 0000000cH
  00189	33 ff		 xor	 edi, edi
  0018b	81 c6 a0 03 00
	00		 add	 esi, 928		; 000003a0H
  00191	05 40 04 00 00	 add	 eax, 1088		; 00000440H
  00196	89 85 e0 fe ff
	ff		 mov	 DWORD PTR tv396[ebp], eax
  0019c	0f 1f 40 00	 npad	 4
$LL4@DGRelation:

; 1861 : 	{
; 1862 : 		if ( lpReqGuild->Use[n] > 0 )

  001a0	80 3c 38 00	 cmp	 BYTE PTR [eax+edi], 0
  001a4	76 5a		 jbe	 SHORT $LN2@DGRelation

; 1863 : 		{
; 1864 : 			if ( lpReqGuild->Index[n] >= 0 )

  001a6	66 83 3e 00	 cmp	 WORD PTR [esi], 0
  001aa	7c 54		 jl	 SHORT $LN2@DGRelation

; 1865 : 			{
; 1866 : 				TNotice _Notice(1);

  001ac	6a 01		 push	 1
  001ae	8d 8d ec fe ff
	ff		 lea	 ecx, DWORD PTR __Notice$2[ebp]
  001b4	e8 00 00 00 00	 call	 ??0TNotice@@QAE@E@Z	; TNotice::TNotice

; 1867 : 
; 1868 : 				if ( lpMsg->btRelationShipType == G_RELATIONSHIP_UNION )

  001b9	8a 43 09	 mov	 al, BYTE PTR [ebx+9]
  001bc	3c 01		 cmp	 al, 1
  001be	75 0d		 jne	 SHORT $LN22@DGRelation

; 1869 : 				{
; 1870 : 					_Notice.SendToUser(lpReqGuild->Index[n], lMsg.Get(MSGGET(6, 170)), lpTargetGuild->Name);

  001c0	ff b5 e8 fe ff
	ff		 push	 DWORD PTR tv397[ebp]
  001c6	68 aa 06 00 00	 push	 1706			; 000006aaH
  001cb	eb 0f		 jmp	 SHORT $LN45@DGRelation
$LN22@DGRelation:

; 1871 : 				}
; 1872 : 				else if ( lpMsg->btRelationShipType == G_RELATIONSHIP_RIVAL )

  001cd	3c 02		 cmp	 al, 2
  001cf	75 29		 jne	 SHORT $LN40@DGRelation

; 1873 : 				{
; 1874 : 					_Notice.SendToUser(lpReqGuild->Index[n], lMsg.Get(MSGGET(6, 171)), lpTargetGuild->Name);

  001d1	ff b5 e8 fe ff
	ff		 push	 DWORD PTR tv397[ebp]
  001d7	68 ab 06 00 00	 push	 1707			; 000006abH
$LN45@DGRelation:
  001dc	b9 00 00 00 00	 mov	 ecx, OFFSET ?lMsg@@3VMessage@@A ; lMsg
  001e1	e8 00 00 00 00	 call	 ?Get@Message@@QAEPADH@Z	; Message::Get
  001e6	50		 push	 eax
  001e7	0f bf 06	 movsx	 eax, WORD PTR [esi]
  001ea	50		 push	 eax
  001eb	8d 85 ec fe ff
	ff		 lea	 eax, DWORD PTR __Notice$2[ebp]
  001f1	50		 push	 eax
  001f2	e8 00 00 00 00	 call	 ?SendToUser@TNotice@@QAAXHPADZZ ; TNotice::SendToUser
  001f7	83 c4 10	 add	 esp, 16			; 00000010H
$LN40@DGRelation:
  001fa	8b 85 e0 fe ff
	ff		 mov	 eax, DWORD PTR tv396[ebp]
$LN2@DGRelation:

; 1858 : 		lpReqGuild->Name, lpTargetGuild->Name);
; 1859 : 
; 1860 : 	for ( int n=0;n<MAX_USER_GUILD;n++)

  00200	47		 inc	 edi
  00201	83 c6 02	 add	 esi, 2
  00204	83 ff 50	 cmp	 edi, 80			; 00000050H
  00207	7c 97		 jl	 SHORT $LL4@DGRelation
$LN41@DGRelation:

; 1875 : 				}
; 1876 : 			}
; 1877 : 		}
; 1878 : 	}
; 1879 : }

  00209	8b 4d fc	 mov	 ecx, DWORD PTR __$ArrayPad$[ebp]
  0020c	5f		 pop	 edi
  0020d	5e		 pop	 esi
  0020e	33 cd		 xor	 ecx, ebp
  00210	5b		 pop	 ebx
  00211	e8 00 00 00 00	 call	 @__security_check_cookie@4
  00216	8b e5		 mov	 esp, ebp
  00218	5d		 pop	 ebp
  00219	c3		 ret	 0
?DGRelationShipAnsBreakOff@@YAXPAUEXSDHP_RELATIONSHIP_BREAKOFF_RESULT@@@Z ENDP ; DGRelationShipAnsBreakOff
_TEXT	ENDS
; Function compile flags: /Ogtp
; File c:\users\michel\desktop\source\gameserver\source\edsprotocol.cpp
; File c:\users\michel\desktop\source\gameserver\include\prodef.h
; File c:\users\michel\desktop\source\gameserver\source\edsprotocol.cpp
;	COMDAT ?GDRelationShipReqBreakOff@@YAXHHH@Z
_TEXT	SEGMENT
_pMsg$ = -24						; size = 20
__$ArrayPad$ = -4					; size = 4
_aIndex$ = 8						; size = 4
_iTargetUserIndex$ = 12					; size = 4
_iRelationShipType$ = 16				; size = 4
?GDRelationShipReqBreakOff@@YAXHHH@Z PROC		; GDRelationShipReqBreakOff, COMDAT

; 1775 : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	83 ec 18	 sub	 esp, 24			; 00000018H
  00006	a1 00 00 00 00	 mov	 eax, DWORD PTR ___security_cookie
  0000b	33 c5		 xor	 eax, ebp
  0000d	89 45 fc	 mov	 DWORD PTR __$ArrayPad$[ebp], eax
  00010	8b 55 08	 mov	 edx, DWORD PTR _aIndex$[ebp]

; 1776 : 	_GUILD_INFO_STRUCT * lpGuildInfo = gObj[aIndex].lpGuild;

  00013	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  00019	69 c2 40 27 00
	00		 imul	 eax, edx, 10048
  0001f	56		 push	 esi
  00020	8b 75 0c	 mov	 esi, DWORD PTR _iTargetUserIndex$[ebp]
  00023	57		 push	 edi
  00024	8b bc 08 18 06
	00 00		 mov	 edi, DWORD PTR [eax+ecx+1560]

; 1777 : 	_GUILD_INFO_STRUCT * lpTargetGuildInfo = gObj[iTargetUserIndex].lpGuild;

  0002b	69 c6 40 27 00
	00		 imul	 eax, esi, 10048
  00031	8b 8c 08 18 06
	00 00		 mov	 ecx, DWORD PTR [eax+ecx+1560]

; 1778 : 
; 1779 : 	if ( !lpGuildInfo || !lpTargetGuildInfo )

  00038	85 ff		 test	 edi, edi
  0003a	74 47		 je	 SHORT $LN3@GDRelation
  0003c	85 c9		 test	 ecx, ecx
  0003e	74 43		 je	 SHORT $LN3@GDRelation

; 1787 : 	pMsg.btRelationShipType = iRelationShipType;

  00040	8a 45 10	 mov	 al, BYTE PTR _iRelationShipType$[ebp]
  00043	0f 57 c0	 xorps	 xmm0, xmm0
  00046	0f 11 45 e9	 movups	 XMMWORD PTR _pMsg$[ebp+1], xmm0
  0004a	66 c7 45 f9 00
	00		 mov	 WORD PTR _pMsg$[ebp+17], 0
  00050	c6 45 fb 00	 mov	 BYTE PTR _pMsg$[ebp+19], 0
  00054	88 45 f0	 mov	 BYTE PTR _pMsg$[ebp+8], al
; File c:\users\michel\desktop\source\gameserver\include\prodef.h

; 86   : 		lpBuf[0] = 0xC1;

  00057	66 c7 45 e8 c1
	14		 mov	 WORD PTR _pMsg$[ebp], 5313 ; 000014c1H

; 87   : 		lpBuf[1] = size;
; 88   : 		lpBuf[2] = head;

  0005d	c6 45 ea e6	 mov	 BYTE PTR _pMsg$[ebp+2], 230 ; 000000e6H
; File c:\users\michel\desktop\source\gameserver\source\edsprotocol.cpp

; 1785 : 	pMsg.wRequestUserIndex = aIndex;

  00061	66 89 55 ec	 mov	 WORD PTR _pMsg$[ebp+4], dx

; 1786 : 	pMsg.wTargetUserIndex = iTargetUserIndex;

  00065	66 89 75 ee	 mov	 WORD PTR _pMsg$[ebp+6], si

; 1788 : 	pMsg.iRequestGuildNum = lpGuildInfo->Number;

  00069	8b 07		 mov	 eax, DWORD PTR [edi]
  0006b	89 45 f4	 mov	 DWORD PTR _pMsg$[ebp+12], eax

; 1789 : 	pMsg.iTargetGuildNum = lpTargetGuildInfo->Number;

  0006e	8b 01		 mov	 eax, DWORD PTR [ecx]

; 1790 : 
; 1791 : 	wsExDbCli.DataSend((char*)&pMsg, pMsg.h.size);

  00070	b9 00 00 00 00	 mov	 ecx, OFFSET ?wsExDbCli@@3VwsJoinServerCli@@A ; wsExDbCli
  00075	89 45 f8	 mov	 DWORD PTR _pMsg$[ebp+16], eax
  00078	8d 45 e8	 lea	 eax, DWORD PTR _pMsg$[ebp]
  0007b	6a 14		 push	 20			; 00000014H
  0007d	50		 push	 eax
  0007e	e8 00 00 00 00	 call	 ?DataSend@wsJoinServerCli@@QAEHPADH@Z ; wsJoinServerCli::DataSend
$LN3@GDRelation:

; 1792 : }

  00083	8b 4d fc	 mov	 ecx, DWORD PTR __$ArrayPad$[ebp]
  00086	5f		 pop	 edi
  00087	33 cd		 xor	 ecx, ebp
  00089	5e		 pop	 esi
  0008a	e8 00 00 00 00	 call	 @__security_check_cookie@4
  0008f	8b e5		 mov	 esp, ebp
  00091	5d		 pop	 ebp
  00092	c3		 ret	 0
?GDRelationShipReqBreakOff@@YAXHHH@Z ENDP		; GDRelationShipReqBreakOff
_TEXT	ENDS
; Function compile flags: /Ogtp
; File c:\users\michel\desktop\source\gameserver\source\edsprotocol.cpp
; File c:\users\michel\desktop\source\gameserver\include\prodef.h
; File c:\users\michel\desktop\source\gameserver\source\edsprotocol.cpp
; File c:\users\michel\desktop\source\gameserver\source\guildclass.h
; File c:\users\michel\desktop\source\gameserver\source\edsprotocol.cpp
; File c:\users\michel\desktop\source\gameserver\source\guildclass.h
; File c:\users\michel\desktop\source\gameserver\source\edsprotocol.cpp
; File c:\users\michel\desktop\source\gameserver\source\guildclass.h
; File c:\users\michel\desktop\source\gameserver\source\edsprotocol.cpp
;	COMDAT ?DGUnionBreakOff@@YAXPAUEXSDHP_RELATIONSHIP_BREAKOFF_RESULT@@@Z
_TEXT	SEGMENT
_lpTargetGuild$1$ = -288				; size = 4
_pMsg$1 = -284						; size = 8
tv407 = -280						; size = 4
__Notice$2 = -276					; size = 272
__Notice$3 = -276					; size = 272
__$ArrayPad$ = -4					; size = 4
_lpMsg$ = 8						; size = 4
?DGUnionBreakOff@@YAXPAUEXSDHP_RELATIONSHIP_BREAKOFF_RESULT@@@Z PROC ; DGUnionBreakOff, COMDAT

; 1697 : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	81 ec 20 01 00
	00		 sub	 esp, 288		; 00000120H
  00009	a1 00 00 00 00	 mov	 eax, DWORD PTR ___security_cookie
  0000e	33 c5		 xor	 eax, ebp
  00010	89 45 fc	 mov	 DWORD PTR __$ArrayPad$[ebp], eax
  00013	53		 push	 ebx
  00014	56		 push	 esi
  00015	8b 75 08	 mov	 esi, DWORD PTR _lpMsg$[ebp]

; 1698 : 	_GUILD_INFO_STRUCT * lpReqGuild = Guild.SearchGuild_Number(lpMsg->iRequestGuildNum);

  00018	b9 00 00 00 00	 mov	 ecx, OFFSET ?Guild@@3VCGuildClass@@A ; Guild
  0001d	ff 76 0c	 push	 DWORD PTR [esi+12]
  00020	e8 00 00 00 00	 call	 ?SearchGuild_Number@CGuildClass@@QAEPAU_GUILD_INFO_STRUCT@@H@Z ; CGuildClass::SearchGuild_Number

; 1699 : 	_GUILD_INFO_STRUCT * lpTargetGuild = Guild.SearchGuild_Number(lpMsg->iTargetGuildNum);

  00025	ff 76 10	 push	 DWORD PTR [esi+16]
  00028	b9 00 00 00 00	 mov	 ecx, OFFSET ?Guild@@3VCGuildClass@@A ; Guild
  0002d	8b d8		 mov	 ebx, eax
  0002f	e8 00 00 00 00	 call	 ?SearchGuild_Number@CGuildClass@@QAEPAU_GUILD_INFO_STRUCT@@H@Z ; CGuildClass::SearchGuild_Number

; 1700 : 
; 1701 : 	if ( lpMsg->btFlag == 1 )

  00034	8a 4e 03	 mov	 cl, BYTE PTR [esi+3]
  00037	89 85 e0 fe ff
	ff		 mov	 DWORD PTR _lpTargetGuild$1$[ebp], eax
  0003d	80 f9 01	 cmp	 cl, 1
  00040	75 7a		 jne	 SHORT $LN8@DGUnionBre

; 1702 : 	{
; 1703 : 		if ( !lpReqGuild )

  00042	85 db		 test	 ebx, ebx
  00044	75 03		 jne	 SHORT $LN10@DGUnionBre

; 1704 : 		{
; 1705 : 			lpMsg->btResult = 0;

  00046	88 5e 08	 mov	 BYTE PTR [esi+8], bl
$LN10@DGUnionBre:

; 1706 : 		}
; 1707 : 
; 1708 : 		PMSG_RELATIONSHIP_JOIN_BREAKOFF_ANS pMsg ={0};

  00049	33 c0		 xor	 eax, eax
  0004b	89 85 e5 fe ff
	ff		 mov	 DWORD PTR _pMsg$1[ebp+1], eax
  00051	66 89 85 e9 fe
	ff ff		 mov	 WORD PTR _pMsg$1[ebp+5], ax

; 1709 : 
; 1710 : 		pMsg.h.set((LPBYTE)&pMsg, 0xE6, sizeof(pMsg));
; 1711 : 		pMsg.btResult = lpMsg->btResult;

  00058	0f b6 46 08	 movzx	 eax, BYTE PTR [esi+8]
  0005c	88 85 e9 fe ff
	ff		 mov	 BYTE PTR _pMsg$1[ebp+5], al

; 1713 : 		pMsg.btRelationShipType = G_RELATIONSHIP_UNION;
; 1714 : 		pMsg.btTargetUserIndexH = SET_NUMBERH(lpMsg->wTargetUserIndex);

  00062	0f b6 46 07	 movzx	 eax, BYTE PTR [esi+7]
  00066	88 85 ea fe ff
	ff		 mov	 BYTE PTR _pMsg$1[ebp+6], al

; 1715 : 		pMsg.btTargetUserIndexL = SET_NUMBERL(lpMsg->wTargetUserIndex);

  0006c	0f b6 46 06	 movzx	 eax, BYTE PTR [esi+6]
  00070	88 85 eb fe ff
	ff		 mov	 BYTE PTR _pMsg$1[ebp+7], al

; 1716 : 
; 1717 : 		DataSend(lpMsg->wRequestUserIndex, (LPBYTE)&pMsg, sizeof(pMsg));

  00076	8d 85 e4 fe ff
	ff		 lea	 eax, DWORD PTR _pMsg$1[ebp]
  0007c	6a 08		 push	 8
  0007e	50		 push	 eax
  0007f	0f b7 46 04	 movzx	 eax, WORD PTR [esi+4]
  00083	50		 push	 eax
; File c:\users\michel\desktop\source\gameserver\include\prodef.h

; 86   : 		lpBuf[0] = 0xC1;

  00084	c7 85 e4 fe ff
	ff c1 08 e6 01	 mov	 DWORD PTR _pMsg$1[ebp], 31852737 ; 01e608c1H
; File c:\users\michel\desktop\source\gameserver\source\edsprotocol.cpp

; 1712 : 		pMsg.btRequestType = G_RELATION_OPERATION_BREAKOFF;

  0008e	c6 85 e8 fe ff
	ff 02		 mov	 BYTE PTR _pMsg$1[ebp+4], 2

; 1716 : 
; 1717 : 		DataSend(lpMsg->wRequestUserIndex, (LPBYTE)&pMsg, sizeof(pMsg));

  00095	e8 00 00 00 00	 call	 ?DataSend@@YAHHPAEK@Z	; DataSend

; 1718 : 
; 1719 : 		if ( lpMsg->btResult == EX_RESULT_FAIL ||lpMsg->btResult == EX_RESULT_FAIL_FOR_CASTLE )

  0009a	8a 46 08	 mov	 al, BYTE PTR [esi+8]
  0009d	83 c4 0c	 add	 esp, 12			; 0000000cH
  000a0	84 c0		 test	 al, al
  000a2	0f 84 3f 01 00
	00		 je	 $LN6@DGUnionBre
  000a8	3c 10		 cmp	 al, 16			; 00000010H
  000aa	75 2f		 jne	 SHORT $LN15@DGUnionBre
  000ac	5e		 pop	 esi
  000ad	5b		 pop	 ebx

; 1765 : 			}
; 1766 : 		}
; 1767 : 	}
; 1768 : }

  000ae	8b 4d fc	 mov	 ecx, DWORD PTR __$ArrayPad$[ebp]
  000b1	33 cd		 xor	 ecx, ebp
  000b3	e8 00 00 00 00	 call	 @__security_check_cookie@4
  000b8	8b e5		 mov	 esp, ebp
  000ba	5d		 pop	 ebp
  000bb	c3		 ret	 0
$LN8@DGUnionBre:

; 1720 : 			return;
; 1721 : 
; 1722 : 	}
; 1723 : 	else if ( lpMsg->btFlag == 0 )

  000bc	84 c9		 test	 cl, cl
  000be	75 1b		 jne	 SHORT $LN15@DGUnionBre

; 1724 : 	{
; 1725 : 		if ( !lpReqGuild )

  000c0	85 db		 test	 ebx, ebx
  000c2	0f 84 1f 01 00
	00		 je	 $LN6@DGUnionBre

; 1726 : 			return;
; 1727 : 
; 1728 : 		if ( lpMsg->btResult == EX_RESULT_FAIL ||lpMsg->btResult == EX_RESULT_FAIL_FOR_CASTLE )

  000c8	8a 46 08	 mov	 al, BYTE PTR [esi+8]
  000cb	84 c0		 test	 al, al
  000cd	0f 84 14 01 00
	00		 je	 $LN6@DGUnionBre
  000d3	3c 10		 cmp	 al, 16			; 00000010H
  000d5	0f 84 0c 01 00
	00		 je	 $LN6@DGUnionBre
$LN15@DGUnionBre:
; File c:\users\michel\desktop\source\gameserver\source\guildclass.h

; 150  : 		this->iTimeStamp++;

  000db	ff 83 4c 07 00
	00		 inc	 DWORD PTR [ebx+1868]
; File c:\users\michel\desktop\source\gameserver\source\edsprotocol.cpp

; 1735 : 	LogAddTD("[GS][U.System][Union][BreakOff] Request Union Member Guild: %s)",

  000e1	8d 43 04	 lea	 eax, DWORD PTR [ebx+4]
  000e4	57		 push	 edi
  000e5	50		 push	 eax
  000e6	68 00 00 00 00	 push	 OFFSET ??_C@_0EA@EGALHNLI@?$FLGS?$FN?$FLU?4System?$FN?$FLUnion?$FN?$FLBreakOff?$FN?5@
; File c:\users\michel\desktop\source\gameserver\source\guildclass.h

; 138  : 		this->iGuildUnion = iGuildNumber;

  000eb	c7 83 44 07 00
	00 00 00 00 00	 mov	 DWORD PTR [ebx+1860], 0
; File c:\users\michel\desktop\source\gameserver\source\edsprotocol.cpp

; 1735 : 	LogAddTD("[GS][U.System][Union][BreakOff] Request Union Member Guild: %s)",

  000f5	89 85 e8 fe ff
	ff		 mov	 DWORD PTR tv407[ebp], eax
  000fb	ff 15 00 00 00
	00		 call	 DWORD PTR ?LogAddTD@@3P6AXPADZZA ; LogAddTD
  00101	83 c4 08	 add	 esp, 8
; File c:\users\michel\desktop\source\gameserver\source\guildclass.h

; 138  : 		this->iGuildUnion = iGuildNumber;

  00104	8d bb a0 03 00
	00		 lea	 edi, DWORD PTR [ebx+928]
; File c:\users\michel\desktop\source\gameserver\source\edsprotocol.cpp

; 1739 : 	for ( n=0;n<MAX_USER_GUILD;n++)

  0010a	33 f6		 xor	 esi, esi
  0010c	0f 1f 40 00	 npad	 4
$LL4@DGUnionBre:

; 1740 : 	{
; 1741 : 		if ( lpReqGuild->Use[n] > 0 )

  00110	80 bc 33 40 04
	00 00 00	 cmp	 BYTE PTR [ebx+esi+1088], 0
  00118	76 36		 jbe	 SHORT $LN2@DGUnionBre

; 1742 : 		{
; 1743 : 			if ( lpReqGuild->Index[n] >= 0 )

  0011a	66 83 3f 00	 cmp	 WORD PTR [edi], 0
  0011e	7c 30		 jl	 SHORT $LN2@DGUnionBre

; 1744 : 			{
; 1745 : 				TNotice _Notice(1);

  00120	6a 01		 push	 1
  00122	8d 8d ec fe ff
	ff		 lea	 ecx, DWORD PTR __Notice$3[ebp]
  00128	e8 00 00 00 00	 call	 ??0TNotice@@QAE@E@Z	; TNotice::TNotice

; 1746 : 				_Notice.SendToUser(lpReqGuild->Index[n], lMsg.Get(MSGGET(6, 168)));

  0012d	68 a8 06 00 00	 push	 1704			; 000006a8H
  00132	b9 00 00 00 00	 mov	 ecx, OFFSET ?lMsg@@3VMessage@@A ; lMsg
  00137	e8 00 00 00 00	 call	 ?Get@Message@@QAEPADH@Z	; Message::Get
  0013c	50		 push	 eax
  0013d	0f bf 07	 movsx	 eax, WORD PTR [edi]
  00140	50		 push	 eax
  00141	8d 85 ec fe ff
	ff		 lea	 eax, DWORD PTR __Notice$3[ebp]
  00147	50		 push	 eax
  00148	e8 00 00 00 00	 call	 ?SendToUser@TNotice@@QAAXHPADZZ ; TNotice::SendToUser
  0014d	83 c4 0c	 add	 esp, 12			; 0000000cH
$LN2@DGUnionBre:

; 1739 : 	for ( n=0;n<MAX_USER_GUILD;n++)

  00150	46		 inc	 esi
  00151	83 c7 02	 add	 edi, 2
  00154	83 fe 50	 cmp	 esi, 80			; 00000050H
  00157	7c b7		 jl	 SHORT $LL4@DGUnionBre

; 1747 : 			}
; 1748 : 		}
; 1749 : 	}
; 1750 : 
; 1751 : 	if ( !lpTargetGuild)

  00159	8b 85 e0 fe ff
	ff		 mov	 eax, DWORD PTR _lpTargetGuild$1$[ebp]
  0015f	85 c0		 test	 eax, eax
  00161	0f 84 7f 00 00
	00		 je	 $LN37@DGUnionBre

; 1752 : 		return;
; 1753 : 
; 1754 : 	LogAddTD("[GS][U.System][Union][BreakOff] ( Union Master Guild: %s ), (Union Member Guild: %s)",

  00167	ff b5 e8 fe ff
	ff		 push	 DWORD PTR tv407[ebp]
  0016d	8d 58 04	 lea	 ebx, DWORD PTR [eax+4]
  00170	53		 push	 ebx
  00171	68 00 00 00 00	 push	 OFFSET ??_C@_0FF@IACINBOG@?$FLGS?$FN?$FLU?4System?$FN?$FLUnion?$FN?$FLBreakOff?$FN?5@
  00176	ff 15 00 00 00
	00		 call	 DWORD PTR ?LogAddTD@@3P6AXPADZZA ; LogAddTD
  0017c	8b 85 e0 fe ff
	ff		 mov	 eax, DWORD PTR _lpTargetGuild$1$[ebp]
  00182	83 c4 0c	 add	 esp, 12			; 0000000cH

; 1755 : 		lpTargetGuild->Name, lpReqGuild->Name);
; 1756 : 
; 1757 : 	for ( n=0;n<MAX_USER_GUILD;n++)

  00185	33 f6		 xor	 esi, esi
  00187	8d b8 a0 03 00
	00		 lea	 edi, DWORD PTR [eax+928]
  0018d	0f 1f 00	 npad	 3
$LL7@DGUnionBre:

; 1758 : 	{
; 1759 : 		if ( lpTargetGuild->Use[n] > 0 )

  00190	80 bc 30 40 04
	00 00 00	 cmp	 BYTE PTR [eax+esi+1088], 0
  00198	76 43		 jbe	 SHORT $LN5@DGUnionBre

; 1760 : 		{
; 1761 : 			if ( lpTargetGuild->Index[n] >= 0 )

  0019a	66 83 3f 00	 cmp	 WORD PTR [edi], 0
  0019e	7c 3d		 jl	 SHORT $LN5@DGUnionBre

; 1762 : 			{
; 1763 : 				TNotice _Notice(1);

  001a0	6a 01		 push	 1
  001a2	8d 8d ec fe ff
	ff		 lea	 ecx, DWORD PTR __Notice$2[ebp]
  001a8	e8 00 00 00 00	 call	 ??0TNotice@@QAE@E@Z	; TNotice::TNotice

; 1764 : 				_Notice.SendToUser(lpTargetGuild->Index[n], lMsg.Get(MSGGET(6, 169)), lpReqGuild->Name, lpTargetGuild->Name);

  001ad	53		 push	 ebx
  001ae	ff b5 e8 fe ff
	ff		 push	 DWORD PTR tv407[ebp]
  001b4	b9 00 00 00 00	 mov	 ecx, OFFSET ?lMsg@@3VMessage@@A ; lMsg
  001b9	68 a9 06 00 00	 push	 1705			; 000006a9H
  001be	e8 00 00 00 00	 call	 ?Get@Message@@QAEPADH@Z	; Message::Get
  001c3	50		 push	 eax
  001c4	0f bf 07	 movsx	 eax, WORD PTR [edi]
  001c7	50		 push	 eax
  001c8	8d 85 ec fe ff
	ff		 lea	 eax, DWORD PTR __Notice$2[ebp]
  001ce	50		 push	 eax
  001cf	e8 00 00 00 00	 call	 ?SendToUser@TNotice@@QAAXHPADZZ ; TNotice::SendToUser
  001d4	8b 85 e0 fe ff
	ff		 mov	 eax, DWORD PTR _lpTargetGuild$1$[ebp]
  001da	83 c4 14	 add	 esp, 20			; 00000014H
$LN5@DGUnionBre:

; 1755 : 		lpTargetGuild->Name, lpReqGuild->Name);
; 1756 : 
; 1757 : 	for ( n=0;n<MAX_USER_GUILD;n++)

  001dd	46		 inc	 esi
  001de	83 c7 02	 add	 edi, 2
  001e1	83 fe 50	 cmp	 esi, 80			; 00000050H
  001e4	7c aa		 jl	 SHORT $LL7@DGUnionBre
$LN37@DGUnionBre:
  001e6	5f		 pop	 edi
$LN6@DGUnionBre:

; 1765 : 			}
; 1766 : 		}
; 1767 : 	}
; 1768 : }

  001e7	8b 4d fc	 mov	 ecx, DWORD PTR __$ArrayPad$[ebp]
  001ea	5e		 pop	 esi
  001eb	33 cd		 xor	 ecx, ebp
  001ed	5b		 pop	 ebx
  001ee	e8 00 00 00 00	 call	 @__security_check_cookie@4
  001f3	8b e5		 mov	 esp, ebp
  001f5	5d		 pop	 ebp
  001f6	c3		 ret	 0
?DGUnionBreakOff@@YAXPAUEXSDHP_RELATIONSHIP_BREAKOFF_RESULT@@@Z ENDP ; DGUnionBreakOff
_TEXT	ENDS
; Function compile flags: /Ogtp
; File c:\users\michel\desktop\source\gameserver\source\edsprotocol.cpp
; File c:\users\michel\desktop\source\gameserver\include\prodef.h
; File c:\users\michel\desktop\source\gameserver\source\edsprotocol.cpp
;	COMDAT ?GDUnionBreakOff@@YAXHH@Z
_TEXT	SEGMENT
_pMsg$ = -24						; size = 20
__$ArrayPad$ = -4					; size = 4
_aIndex$ = 8						; size = 4
_iUnionNumber$ = 12					; size = 4
?GDUnionBreakOff@@YAXHH@Z PROC				; GDUnionBreakOff, COMDAT

; 1671 : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	83 ec 18	 sub	 esp, 24			; 00000018H
  00006	a1 00 00 00 00	 mov	 eax, DWORD PTR ___security_cookie
  0000b	33 c5		 xor	 eax, ebp
  0000d	89 45 fc	 mov	 DWORD PTR __$ArrayPad$[ebp], eax
  00010	8b 55 08	 mov	 edx, DWORD PTR _aIndex$[ebp]

; 1672 : 	_GUILD_INFO_STRUCT * lpGuildInfo = gObj[aIndex].lpGuild;

  00013	a1 00 00 00 00	 mov	 eax, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  00018	69 ca 40 27 00
	00		 imul	 ecx, edx, 10048
  0001e	8b 84 01 18 06
	00 00		 mov	 eax, DWORD PTR [ecx+eax+1560]

; 1673 : 
; 1674 : 	if ( !lpGuildInfo )

  00025	85 c0		 test	 eax, eax
  00027	74 47		 je	 SHORT $LN1@GDUnionBre

; 1675 : 	{
; 1676 : 		return;
; 1677 : 	}
; 1678 : 
; 1679 : 	EXSDHP_RELATIONSHIP_BREAKOFF_REQ pMsg = {0};

  00029	0f 57 c0	 xorps	 xmm0, xmm0
  0002c	66 c7 45 f9 00
	00		 mov	 WORD PTR _pMsg$[ebp+17], 0
  00032	0f 11 45 e9	 movups	 XMMWORD PTR _pMsg$[ebp+1], xmm0

; 1683 : 	pMsg.wTargetUserIndex = -1;

  00036	b9 ff ff 00 00	 mov	 ecx, 65535		; 0000ffffH
  0003b	c6 45 fb 00	 mov	 BYTE PTR _pMsg$[ebp+19], 0
  0003f	66 89 4d ee	 mov	 WORD PTR _pMsg$[ebp+6], cx

; 1687 : 
; 1688 : 	wsExDbCli.DataSend((char*)&pMsg, pMsg.h.size);

  00043	b9 00 00 00 00	 mov	 ecx, OFFSET ?wsExDbCli@@3VwsJoinServerCli@@A ; wsExDbCli
; File c:\users\michel\desktop\source\gameserver\include\prodef.h

; 86   : 		lpBuf[0] = 0xC1;

  00048	66 c7 45 e8 c1
	14		 mov	 WORD PTR _pMsg$[ebp], 5313 ; 000014c1H

; 87   : 		lpBuf[1] = size;
; 88   : 		lpBuf[2] = head;

  0004e	c6 45 ea e6	 mov	 BYTE PTR _pMsg$[ebp+2], 230 ; 000000e6H
; File c:\users\michel\desktop\source\gameserver\source\edsprotocol.cpp

; 1682 : 	pMsg.wRequestUserIndex = aIndex;

  00052	66 89 55 ec	 mov	 WORD PTR _pMsg$[ebp+4], dx

; 1684 : 	pMsg.btRelationShipType = G_RELATIONSHIP_UNION;

  00056	c6 45 f0 01	 mov	 BYTE PTR _pMsg$[ebp+8], 1

; 1685 : 	pMsg.iRequestGuildNum = lpGuildInfo->Number;

  0005a	8b 00		 mov	 eax, DWORD PTR [eax]
  0005c	89 45 f4	 mov	 DWORD PTR _pMsg$[ebp+12], eax

; 1686 : 	pMsg.iTargetGuildNum = iUnionNumber;

  0005f	8b 45 0c	 mov	 eax, DWORD PTR _iUnionNumber$[ebp]
  00062	89 45 f8	 mov	 DWORD PTR _pMsg$[ebp+16], eax

; 1687 : 
; 1688 : 	wsExDbCli.DataSend((char*)&pMsg, pMsg.h.size);

  00065	8d 45 e8	 lea	 eax, DWORD PTR _pMsg$[ebp]
  00068	6a 14		 push	 20			; 00000014H
  0006a	50		 push	 eax
  0006b	e8 00 00 00 00	 call	 ?DataSend@wsJoinServerCli@@QAEHPADH@Z ; wsJoinServerCli::DataSend
$LN1@GDUnionBre:

; 1689 : 
; 1690 : }

  00070	8b 4d fc	 mov	 ecx, DWORD PTR __$ArrayPad$[ebp]
  00073	33 cd		 xor	 ecx, ebp
  00075	e8 00 00 00 00	 call	 @__security_check_cookie@4
  0007a	8b e5		 mov	 esp, ebp
  0007c	5d		 pop	 ebp
  0007d	c3		 ret	 0
?GDUnionBreakOff@@YAXHH@Z ENDP				; GDUnionBreakOff
_TEXT	ENDS
; Function compile flags: /Ogtp
; File c:\users\michel\desktop\source\gameserver\source\edsprotocol.cpp
; File c:\users\michel\desktop\source\gameserver\include\prodef.h
; File c:\users\michel\desktop\source\gameserver\source\edsprotocol.cpp
; File c:\users\michel\desktop\source\gameserver\source\guildclass.h
; File c:\users\michel\desktop\source\gameserver\source\edsprotocol.cpp
; File c:\users\michel\desktop\source\gameserver\source\guildclass.h
; File c:\users\michel\desktop\source\gameserver\source\edsprotocol.cpp
;	COMDAT ?DGRelationShipAnsJoin@@YAXPAUEXSDHP_RELATIONSHIP_JOIN_RESULT@@@Z
_TEXT	SEGMENT
_lpMsg$GSCopy$1$ = -292					; size = 4
_lpReqGuild$1$ = -288					; size = 4
_pMsg$1 = -284						; size = 8
tv513 = -280						; size = 4
__Notice$2 = -276					; size = 272
__Notice$3 = -276					; size = 272
__$ArrayPad$ = -4					; size = 4
_lpMsg$ = 8						; size = 4
?DGRelationShipAnsJoin@@YAXPAUEXSDHP_RELATIONSHIP_JOIN_RESULT@@@Z PROC ; DGRelationShipAnsJoin, COMDAT

; 1554 : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	81 ec 24 01 00
	00		 sub	 esp, 292		; 00000124H
  00009	a1 00 00 00 00	 mov	 eax, DWORD PTR ___security_cookie
  0000e	33 c5		 xor	 eax, ebp
  00010	89 45 fc	 mov	 DWORD PTR __$ArrayPad$[ebp], eax
  00013	53		 push	 ebx
  00014	8b 5d 08	 mov	 ebx, DWORD PTR _lpMsg$[ebp]

; 1555 : 	_GUILD_INFO_STRUCT * lpReqGuild = Guild.SearchGuild_Number(lpMsg->iRequestGuildNum);

  00017	b9 00 00 00 00	 mov	 ecx, OFFSET ?Guild@@3VCGuildClass@@A ; Guild
  0001c	56		 push	 esi
  0001d	57		 push	 edi
  0001e	89 9d dc fe ff
	ff		 mov	 DWORD PTR _lpMsg$GSCopy$1$[ebp], ebx
  00024	ff 73 0c	 push	 DWORD PTR [ebx+12]
  00027	e8 00 00 00 00	 call	 ?SearchGuild_Number@CGuildClass@@QAEPAU_GUILD_INFO_STRUCT@@H@Z ; CGuildClass::SearchGuild_Number

; 1556 : 	_GUILD_INFO_STRUCT * lpTargetGuild = Guild.SearchGuild_Number(lpMsg->iTargetGuildNum);

  0002c	ff 73 10	 push	 DWORD PTR [ebx+16]
  0002f	8b f8		 mov	 edi, eax
  00031	b9 00 00 00 00	 mov	 ecx, OFFSET ?Guild@@3VCGuildClass@@A ; Guild
  00036	89 bd e0 fe ff
	ff		 mov	 DWORD PTR _lpReqGuild$1$[ebp], edi
  0003c	e8 00 00 00 00	 call	 ?SearchGuild_Number@CGuildClass@@QAEPAU_GUILD_INFO_STRUCT@@H@Z ; CGuildClass::SearchGuild_Number
  00041	8b f0		 mov	 esi, eax

; 1557 : 
; 1558 : 	if ( lpMsg->btFlag == 1 )

  00043	8a 43 03	 mov	 al, BYTE PTR [ebx+3]
  00046	3c 01		 cmp	 al, 1
  00048	0f 85 b7 00 00
	00		 jne	 $LN8@DGRelation

; 1559 : 	{
; 1560 : 		if ( !lpReqGuild || !lpTargetGuild )

  0004e	85 ff		 test	 edi, edi
  00050	74 04		 je	 SHORT $LN11@DGRelation
  00052	85 f6		 test	 esi, esi
  00054	75 04		 jne	 SHORT $LN10@DGRelation
$LN11@DGRelation:

; 1561 : 		{
; 1562 : 			lpMsg->btResult = 0;

  00056	c6 43 08 00	 mov	 BYTE PTR [ebx+8], 0
$LN10@DGRelation:

; 1563 : 		}
; 1564 : 
; 1565 : 		PMSG_RELATIONSHIP_JOIN_BREAKOFF_ANS pMsg ={0};

  0005a	33 c0		 xor	 eax, eax
  0005c	89 85 e5 fe ff
	ff		 mov	 DWORD PTR _pMsg$1[ebp+1], eax
  00062	66 89 85 e9 fe
	ff ff		 mov	 WORD PTR _pMsg$1[ebp+5], ax

; 1566 : 
; 1567 : 		pMsg.h.set((LPBYTE)&pMsg, 0xE6, sizeof(pMsg));
; 1568 : 		pMsg.btResult = lpMsg->btResult;

  00069	0f b6 43 08	 movzx	 eax, BYTE PTR [ebx+8]
  0006d	88 85 e9 fe ff
	ff		 mov	 BYTE PTR _pMsg$1[ebp+5], al

; 1570 : 		pMsg.btRelationShipType = lpMsg->btRelationShipType;

  00073	0f b6 43 09	 movzx	 eax, BYTE PTR [ebx+9]
  00077	88 85 e7 fe ff
	ff		 mov	 BYTE PTR _pMsg$1[ebp+3], al

; 1571 : 		pMsg.btTargetUserIndexH = SET_NUMBERH(lpMsg->wTargetUserIndex);

  0007d	0f b6 43 07	 movzx	 eax, BYTE PTR [ebx+7]
  00081	88 85 ea fe ff
	ff		 mov	 BYTE PTR _pMsg$1[ebp+6], al

; 1572 : 		pMsg.btTargetUserIndexL = SET_NUMBERL(lpMsg->wTargetUserIndex);

  00087	0f b6 43 06	 movzx	 eax, BYTE PTR [ebx+6]
  0008b	88 85 eb fe ff
	ff		 mov	 BYTE PTR _pMsg$1[ebp+7], al

; 1573 : 
; 1574 : 		DataSend(lpMsg->wRequestUserIndex, (LPBYTE)&pMsg, sizeof(pMsg));

  00091	8d 85 e4 fe ff
	ff		 lea	 eax, DWORD PTR _pMsg$1[ebp]
  00097	6a 08		 push	 8
  00099	50		 push	 eax
  0009a	0f b7 43 04	 movzx	 eax, WORD PTR [ebx+4]
  0009e	50		 push	 eax
; File c:\users\michel\desktop\source\gameserver\include\prodef.h

; 86   : 		lpBuf[0] = 0xC1;

  0009f	66 c7 85 e4 fe
	ff ff c1 08	 mov	 WORD PTR _pMsg$1[ebp], 2241 ; 000008c1H

; 87   : 		lpBuf[1] = size;
; 88   : 		lpBuf[2] = head;

  000a8	c6 85 e6 fe ff
	ff e6		 mov	 BYTE PTR _pMsg$1[ebp+2], 230 ; 000000e6H
; File c:\users\michel\desktop\source\gameserver\source\edsprotocol.cpp

; 1569 : 		pMsg.btRequestType = G_RELATION_OPERATION_JOIN;

  000af	c6 85 e8 fe ff
	ff 01		 mov	 BYTE PTR _pMsg$1[ebp+4], 1

; 1573 : 
; 1574 : 		DataSend(lpMsg->wRequestUserIndex, (LPBYTE)&pMsg, sizeof(pMsg));

  000b6	e8 00 00 00 00	 call	 ?DataSend@@YAHHPAEK@Z	; DataSend

; 1575 : 
; 1576 : 		pMsg.btTargetUserIndexH = SET_NUMBERH(lpMsg->wRequestUserIndex);

  000bb	0f b6 43 05	 movzx	 eax, BYTE PTR [ebx+5]
  000bf	88 85 ea fe ff
	ff		 mov	 BYTE PTR _pMsg$1[ebp+6], al

; 1577 : 		pMsg.btTargetUserIndexL = SET_NUMBERL(lpMsg->wRequestUserIndex);

  000c5	0f b6 43 04	 movzx	 eax, BYTE PTR [ebx+4]
  000c9	88 85 eb fe ff
	ff		 mov	 BYTE PTR _pMsg$1[ebp+7], al

; 1578 : 
; 1579 : 		DataSend(lpMsg->wTargetUserIndex, (LPBYTE)&pMsg, sizeof(pMsg));

  000cf	8d 85 e4 fe ff
	ff		 lea	 eax, DWORD PTR _pMsg$1[ebp]
  000d5	6a 08		 push	 8
  000d7	50		 push	 eax
  000d8	0f b7 43 06	 movzx	 eax, WORD PTR [ebx+6]
  000dc	50		 push	 eax
  000dd	e8 00 00 00 00	 call	 ?DataSend@@YAHHPAEK@Z	; DataSend

; 1580 : 
; 1581 : 		if ( lpMsg->btResult == EX_RESULT_FAIL ||lpMsg->btResult == EX_RESULT_FAIL_FOR_CASTLE )

  000e2	8a 43 08	 mov	 al, BYTE PTR [ebx+8]
  000e5	83 c4 18	 add	 esp, 24			; 00000018H
  000e8	84 c0		 test	 al, al
  000ea	0f 84 03 02 00
	00		 je	 $LN6@DGRelation
  000f0	3c 10		 cmp	 al, 16			; 00000010H
  000f2	75 38		 jne	 SHORT $LN17@DGRelation
  000f4	5f		 pop	 edi
  000f5	5e		 pop	 esi
  000f6	5b		 pop	 ebx

; 1650 : 				}
; 1651 : 			}
; 1652 : 		}
; 1653 : 	}
; 1654 : }

  000f7	8b 4d fc	 mov	 ecx, DWORD PTR __$ArrayPad$[ebp]
  000fa	33 cd		 xor	 ecx, ebp
  000fc	e8 00 00 00 00	 call	 @__security_check_cookie@4
  00101	8b e5		 mov	 esp, ebp
  00103	5d		 pop	 ebp
  00104	c3		 ret	 0
$LN8@DGRelation:

; 1582 : 			return;
; 1583 : 
; 1584 : 	}
; 1585 : 	else if ( lpMsg->btFlag == 0 )

  00105	84 c0		 test	 al, al
  00107	75 23		 jne	 SHORT $LN17@DGRelation

; 1586 : 	{
; 1587 : 		if ( !lpReqGuild || !lpTargetGuild )

  00109	85 ff		 test	 edi, edi
  0010b	0f 84 e2 01 00
	00		 je	 $LN6@DGRelation
  00111	85 f6		 test	 esi, esi
  00113	0f 84 da 01 00
	00		 je	 $LN6@DGRelation

; 1588 : 			return;
; 1589 : 
; 1590 : 		if ( lpMsg->btResult == EX_RESULT_FAIL ||lpMsg->btResult == EX_RESULT_FAIL_FOR_CASTLE )

  00119	8a 43 08	 mov	 al, BYTE PTR [ebx+8]
  0011c	84 c0		 test	 al, al
  0011e	0f 84 cf 01 00
	00		 je	 $LN6@DGRelation
  00124	3c 10		 cmp	 al, 16			; 00000010H
  00126	0f 84 c7 01 00
	00		 je	 $LN6@DGRelation
$LN17@DGRelation:

; 1591 : 			return;
; 1592 : 
; 1593 : 	}
; 1594 : 
; 1595 : 	if (lpMsg->btRelationShipType == G_RELATIONSHIP_UNION )

  0012c	8a 43 09	 mov	 al, BYTE PTR [ebx+9]
  0012f	3c 01		 cmp	 al, 1
  00131	75 2b		 jne	 SHORT $LN19@DGRelation
; File c:\users\michel\desktop\source\gameserver\source\guildclass.h

; 138  : 		this->iGuildUnion = iGuildNumber;

  00133	8b 06		 mov	 eax, DWORD PTR [esi]

; 145  : 		this->SetTimeStamp();
; 146  : 	};	// line : 111
; 147  : 
; 148  : 	void SetTimeStamp()	// line : 117
; 149  : 	{
; 150  : 		this->iTimeStamp++;

  00135	ff 87 4c 07 00
	00		 inc	 DWORD PTR [edi+1868]

; 138  : 		this->iGuildUnion = iGuildNumber;

  0013b	89 87 44 07 00
	00		 mov	 DWORD PTR [edi+1860], eax
  00141	8b 06		 mov	 eax, DWORD PTR [esi]

; 145  : 		this->SetTimeStamp();
; 146  : 	};	// line : 111
; 147  : 
; 148  : 	void SetTimeStamp()	// line : 117
; 149  : 	{
; 150  : 		this->iTimeStamp++;

  00143	ff 86 4c 07 00
	00		 inc	 DWORD PTR [esi+1868]

; 138  : 		this->iGuildUnion = iGuildNumber;

  00149	89 86 44 07 00
	00		 mov	 DWORD PTR [esi+1860], eax
; File c:\users\michel\desktop\source\gameserver\source\edsprotocol.cpp

; 1600 : 		LogAddTD("[U.System][Union][Join] ( Union Master Guild: %s ), (Union Member Guild: %s)",

  0014f	8d 47 04	 lea	 eax, DWORD PTR [edi+4]
  00152	50		 push	 eax
  00153	8d 46 04	 lea	 eax, DWORD PTR [esi+4]
  00156	50		 push	 eax
  00157	68 00 00 00 00	 push	 OFFSET ??_C@_0EN@PFEKLNHO@?$FLU?4System?$FN?$FLUnion?$FN?$FLJoin?$FN?5?$CI?5Union?5@
  0015c	eb 51		 jmp	 SHORT $LN60@DGRelation
$LN19@DGRelation:

; 1601 : 			lpTargetGuild->Name, lpReqGuild->Name);
; 1602 : 	}
; 1603 : 	else if ( lpMsg->btRelationShipType == G_RELATIONSHIP_RIVAL )

  0015e	3c 02		 cmp	 al, 2
  00160	75 56		 jne	 SHORT $LN21@DGRelation
; File c:\users\michel\desktop\source\gameserver\source\guildclass.h

; 144  : 		this->iGuildRival = iGuildNumber;

  00162	8b 06		 mov	 eax, DWORD PTR [esi]

; 145  : 		this->SetTimeStamp();
; 146  : 	};	// line : 111
; 147  : 
; 148  : 	void SetTimeStamp()	// line : 117
; 149  : 	{
; 150  : 		this->iTimeStamp++;

  00164	ff 87 4c 07 00
	00		 inc	 DWORD PTR [edi+1868]

; 144  : 		this->iGuildRival = iGuildNumber;

  0016a	89 87 48 07 00
	00		 mov	 DWORD PTR [edi+1864], eax
  00170	8b 07		 mov	 eax, DWORD PTR [edi]

; 145  : 		this->SetTimeStamp();
; 146  : 	};	// line : 111
; 147  : 
; 148  : 	void SetTimeStamp()	// line : 117
; 149  : 	{
; 150  : 		this->iTimeStamp++;

  00172	ff 86 4c 07 00
	00		 inc	 DWORD PTR [esi+1868]

; 144  : 		this->iGuildRival = iGuildNumber;

  00178	89 86 48 07 00
	00		 mov	 DWORD PTR [esi+1864], eax
; File c:\users\michel\desktop\source\gameserver\source\edsprotocol.cpp

; 1607 : 		memcpy(lpReqGuild->szGuildRivalName, lpMsg->szTargetGuildName, MAX_GUILD_LEN);

  0017e	8b 43 1d	 mov	 eax, DWORD PTR [ebx+29]
  00181	89 87 50 07 00
	00		 mov	 DWORD PTR [edi+1872], eax
  00187	8b 43 21	 mov	 eax, DWORD PTR [ebx+33]
  0018a	89 87 54 07 00
	00		 mov	 DWORD PTR [edi+1876], eax

; 1608 : 		memcpy(lpTargetGuild->szGuildRivalName, lpMsg->szRequestGuildName, MAX_GUILD_LEN);

  00190	8b 43 14	 mov	 eax, DWORD PTR [ebx+20]
  00193	89 86 50 07 00
	00		 mov	 DWORD PTR [esi+1872], eax
  00199	8b 43 18	 mov	 eax, DWORD PTR [ebx+24]
  0019c	89 86 54 07 00
	00		 mov	 DWORD PTR [esi+1876], eax

; 1609 : 
; 1610 : 		LogAddTD("[U.System][Rival][Join] (  %s ) vs ( %s )",

  001a2	8d 46 04	 lea	 eax, DWORD PTR [esi+4]
  001a5	50		 push	 eax
  001a6	8d 47 04	 lea	 eax, DWORD PTR [edi+4]
  001a9	50		 push	 eax
  001aa	68 00 00 00 00	 push	 OFFSET ??_C@_0CK@CDNGEFAB@?$FLU?4System?$FN?$FLRival?$FN?$FLJoin?$FN?5?$CI?5?5?$CFs?5?$CJ?5@
$LN60@DGRelation:
  001af	ff 15 00 00 00
	00		 call	 DWORD PTR ?LogAddTD@@3P6AXPADZZA ; LogAddTD
  001b5	83 c4 0c	 add	 esp, 12			; 0000000cH
$LN21@DGRelation:

; 1611 : 			lpReqGuild->Name, lpTargetGuild->Name);
; 1612 : 	}
; 1613 : 
; 1614 : 	int n;
; 1615 : 	for ( n=0;n<MAX_USER_GUILD;n++)

  001b8	8b 85 e0 fe ff
	ff		 mov	 eax, DWORD PTR _lpReqGuild$1$[ebp]
  001be	33 db		 xor	 ebx, ebx
  001c0	81 c7 a0 03 00
	00		 add	 edi, 928		; 000003a0H
  001c6	05 40 04 00 00	 add	 eax, 1088		; 00000440H
  001cb	89 85 e8 fe ff
	ff		 mov	 DWORD PTR tv513[ebp], eax
$LL4@DGRelation:

; 1616 : 	{
; 1617 : 		if ( lpReqGuild->Use[n] > 0 )

  001d1	80 3c 18 00	 cmp	 BYTE PTR [eax+ebx], 0
  001d5	76 5c		 jbe	 SHORT $LN2@DGRelation

; 1618 : 		{
; 1619 : 			if ( lpReqGuild->Index[n] >= 0 )

  001d7	66 83 3f 00	 cmp	 WORD PTR [edi], 0
  001db	7c 56		 jl	 SHORT $LN2@DGRelation

; 1620 : 			{
; 1621 : 				TNotice _Notice(1);

  001dd	6a 01		 push	 1
  001df	8d 8d ec fe ff
	ff		 lea	 ecx, DWORD PTR __Notice$3[ebp]
  001e5	e8 00 00 00 00	 call	 ??0TNotice@@QAE@E@Z	; TNotice::TNotice

; 1622 : 
; 1623 : 				if ( lpMsg->btRelationShipType == G_RELATIONSHIP_UNION )

  001ea	8b 85 dc fe ff
	ff		 mov	 eax, DWORD PTR _lpMsg$GSCopy$1$[ebp]
  001f0	8a 40 09	 mov	 al, BYTE PTR [eax+9]
  001f3	3c 01		 cmp	 al, 1
  001f5	75 0b		 jne	 SHORT $LN24@DGRelation

; 1624 : 				{
; 1625 : 					_Notice.SendToUser(lpReqGuild->Index[n], lMsg.Get(MSGGET(6, 165)), lpTargetGuild->Name);

  001f7	8d 46 04	 lea	 eax, DWORD PTR [esi+4]
  001fa	50		 push	 eax
  001fb	68 a5 06 00 00	 push	 1701			; 000006a5H
  00200	eb 0d		 jmp	 SHORT $LN61@DGRelation
$LN24@DGRelation:

; 1626 : 				}
; 1627 : 				else if ( lpMsg->btRelationShipType == G_RELATIONSHIP_RIVAL )

  00202	3c 02		 cmp	 al, 2
  00204	75 27		 jne	 SHORT $LN59@DGRelation

; 1628 : 				{
; 1629 : 					_Notice.SendToUser(lpReqGuild->Index[n], lMsg.Get(MSGGET(6, 166)), lpTargetGuild->Name);

  00206	8d 46 04	 lea	 eax, DWORD PTR [esi+4]
  00209	50		 push	 eax
  0020a	68 a6 06 00 00	 push	 1702			; 000006a6H
$LN61@DGRelation:
  0020f	b9 00 00 00 00	 mov	 ecx, OFFSET ?lMsg@@3VMessage@@A ; lMsg
  00214	e8 00 00 00 00	 call	 ?Get@Message@@QAEPADH@Z	; Message::Get
  00219	50		 push	 eax
  0021a	0f bf 07	 movsx	 eax, WORD PTR [edi]
  0021d	50		 push	 eax
  0021e	8d 85 ec fe ff
	ff		 lea	 eax, DWORD PTR __Notice$3[ebp]
  00224	50		 push	 eax
  00225	e8 00 00 00 00	 call	 ?SendToUser@TNotice@@QAAXHPADZZ ; TNotice::SendToUser
  0022a	83 c4 10	 add	 esp, 16			; 00000010H
$LN59@DGRelation:
  0022d	8b 85 e8 fe ff
	ff		 mov	 eax, DWORD PTR tv513[ebp]
$LN2@DGRelation:

; 1611 : 			lpReqGuild->Name, lpTargetGuild->Name);
; 1612 : 	}
; 1613 : 
; 1614 : 	int n;
; 1615 : 	for ( n=0;n<MAX_USER_GUILD;n++)

  00233	43		 inc	 ebx
  00234	83 c7 02	 add	 edi, 2
  00237	83 fb 50	 cmp	 ebx, 80			; 00000050H
  0023a	7c 95		 jl	 SHORT $LL4@DGRelation

; 1630 : 				}
; 1631 : 			}
; 1632 : 		}
; 1633 : 	}
; 1634 : 
; 1635 : 	for ( n=0;n<MAX_USER_GUILD;n++)

  0023c	33 db		 xor	 ebx, ebx
  0023e	8d be a0 03 00
	00		 lea	 edi, DWORD PTR [esi+928]
  00244	0f 1f 40 00 0f
	1f 84 00 00 00
	00 00		 npad	 12
$LL7@DGRelation:

; 1636 : 	{
; 1637 : 		if ( lpTargetGuild->Use[n] > 0 )

  00250	80 bc 1e 40 04
	00 00 00	 cmp	 BYTE PTR [esi+ebx+1088], 0
  00258	0f 86 88 00 00
	00		 jbe	 $LN5@DGRelation

; 1638 : 		{
; 1639 : 			if ( lpTargetGuild->Index[n] >= 0 )

  0025e	66 83 3f 00	 cmp	 WORD PTR [edi], 0
  00262	0f 8c 7e 00 00
	00		 jl	 $LN5@DGRelation

; 1640 : 			{
; 1641 : 				TNotice _Notice(1);

  00268	6a 01		 push	 1
  0026a	8d 8d ec fe ff
	ff		 lea	 ecx, DWORD PTR __Notice$2[ebp]
  00270	e8 00 00 00 00	 call	 ??0TNotice@@QAE@E@Z	; TNotice::TNotice

; 1642 : 
; 1643 : 				if ( lpMsg->btRelationShipType == G_RELATIONSHIP_UNION )

  00275	8b 85 dc fe ff
	ff		 mov	 eax, DWORD PTR _lpMsg$GSCopy$1$[ebp]
  0027b	8a 40 09	 mov	 al, BYTE PTR [eax+9]
  0027e	3c 01		 cmp	 al, 1
  00280	75 33		 jne	 SHORT $LN29@DGRelation

; 1644 : 				{
; 1645 : 					_Notice.SendToUser(lpTargetGuild->Index[n], lMsg.Get(MSGGET(6, 167)), lpReqGuild->Name, lpTargetGuild->Name);

  00282	8d 46 04	 lea	 eax, DWORD PTR [esi+4]
  00285	b9 00 00 00 00	 mov	 ecx, OFFSET ?lMsg@@3VMessage@@A ; lMsg
  0028a	50		 push	 eax
  0028b	8b 85 e0 fe ff
	ff		 mov	 eax, DWORD PTR _lpReqGuild$1$[ebp]
  00291	83 c0 04	 add	 eax, 4
  00294	50		 push	 eax
  00295	68 a7 06 00 00	 push	 1703			; 000006a7H
  0029a	e8 00 00 00 00	 call	 ?Get@Message@@QAEPADH@Z	; Message::Get
  0029f	50		 push	 eax
  002a0	0f bf 07	 movsx	 eax, WORD PTR [edi]
  002a3	50		 push	 eax
  002a4	8d 85 ec fe ff
	ff		 lea	 eax, DWORD PTR __Notice$2[ebp]
  002aa	50		 push	 eax
  002ab	e8 00 00 00 00	 call	 ?SendToUser@TNotice@@QAAXHPADZZ ; TNotice::SendToUser
  002b0	83 c4 14	 add	 esp, 20			; 00000014H
  002b3	eb 31		 jmp	 SHORT $LN5@DGRelation
$LN29@DGRelation:

; 1646 : 				}
; 1647 : 				else if ( lpMsg->btRelationShipType == G_RELATIONSHIP_RIVAL )

  002b5	3c 02		 cmp	 al, 2
  002b7	75 2d		 jne	 SHORT $LN5@DGRelation

; 1648 : 				{
; 1649 : 					_Notice.SendToUser(lpTargetGuild->Index[n], lMsg.Get(MSGGET(6, 166)), lpReqGuild->Name);

  002b9	8b 85 e0 fe ff
	ff		 mov	 eax, DWORD PTR _lpReqGuild$1$[ebp]
  002bf	b9 00 00 00 00	 mov	 ecx, OFFSET ?lMsg@@3VMessage@@A ; lMsg
  002c4	83 c0 04	 add	 eax, 4
  002c7	50		 push	 eax
  002c8	68 a6 06 00 00	 push	 1702			; 000006a6H
  002cd	e8 00 00 00 00	 call	 ?Get@Message@@QAEPADH@Z	; Message::Get
  002d2	50		 push	 eax
  002d3	0f bf 07	 movsx	 eax, WORD PTR [edi]
  002d6	50		 push	 eax
  002d7	8d 85 ec fe ff
	ff		 lea	 eax, DWORD PTR __Notice$2[ebp]
  002dd	50		 push	 eax
  002de	e8 00 00 00 00	 call	 ?SendToUser@TNotice@@QAAXHPADZZ ; TNotice::SendToUser
  002e3	83 c4 10	 add	 esp, 16			; 00000010H
$LN5@DGRelation:

; 1630 : 				}
; 1631 : 			}
; 1632 : 		}
; 1633 : 	}
; 1634 : 
; 1635 : 	for ( n=0;n<MAX_USER_GUILD;n++)

  002e6	43		 inc	 ebx
  002e7	83 c7 02	 add	 edi, 2
  002ea	83 fb 50	 cmp	 ebx, 80			; 00000050H
  002ed	0f 8c 5d ff ff
	ff		 jl	 $LL7@DGRelation
$LN6@DGRelation:

; 1650 : 				}
; 1651 : 			}
; 1652 : 		}
; 1653 : 	}
; 1654 : }

  002f3	8b 4d fc	 mov	 ecx, DWORD PTR __$ArrayPad$[ebp]
  002f6	5f		 pop	 edi
  002f7	5e		 pop	 esi
  002f8	33 cd		 xor	 ecx, ebp
  002fa	5b		 pop	 ebx
  002fb	e8 00 00 00 00	 call	 @__security_check_cookie@4
  00300	8b e5		 mov	 esp, ebp
  00302	5d		 pop	 ebp
  00303	c3		 ret	 0
?DGRelationShipAnsJoin@@YAXPAUEXSDHP_RELATIONSHIP_JOIN_RESULT@@@Z ENDP ; DGRelationShipAnsJoin
_TEXT	ENDS
; Function compile flags: /Ogtp
; File c:\users\michel\desktop\source\gameserver\source\edsprotocol.cpp
; File c:\users\michel\desktop\source\gameserver\include\prodef.h
; File c:\users\michel\desktop\source\gameserver\source\edsprotocol.cpp
;	COMDAT ?GDRelationShipReqJoin@@YAXHHH@Z
_TEXT	SEGMENT
_pMsg$ = -24						; size = 20
__$ArrayPad$ = -4					; size = 4
_aIndex$ = 8						; size = 4
_iTargetUserIndex$ = 12					; size = 4
_iRelationShipType$ = 16				; size = 4
?GDRelationShipReqJoin@@YAXHHH@Z PROC			; GDRelationShipReqJoin, COMDAT

; 1526 : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	83 ec 18	 sub	 esp, 24			; 00000018H
  00006	a1 00 00 00 00	 mov	 eax, DWORD PTR ___security_cookie
  0000b	33 c5		 xor	 eax, ebp
  0000d	89 45 fc	 mov	 DWORD PTR __$ArrayPad$[ebp], eax
  00010	8b 55 08	 mov	 edx, DWORD PTR _aIndex$[ebp]

; 1527 : 	_GUILD_INFO_STRUCT * lpGuildInfo = gObj[aIndex].lpGuild;

  00013	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  00019	56		 push	 esi
  0001a	69 f2 40 27 00
	00		 imul	 esi, edx, 10048
  00020	57		 push	 edi
  00021	8b 7d 0c	 mov	 edi, DWORD PTR _iTargetUserIndex$[ebp]
  00024	03 f1		 add	 esi, ecx

; 1529 : 
; 1530 : 	if ( !lpGuildInfo || !lpTargetGuildInfo )

  00026	83 be 18 06 00
	00 00		 cmp	 DWORD PTR [esi+1560], 0
  0002d	74 60		 je	 SHORT $LN3@GDRelation

; 1528 : 	_GUILD_INFO_STRUCT * lpTargetGuildInfo = gObj[iTargetUserIndex].lpGuild;

  0002f	69 c7 40 27 00
	00		 imul	 eax, edi, 10048
  00035	03 c8		 add	 ecx, eax

; 1529 : 
; 1530 : 	if ( !lpGuildInfo || !lpTargetGuildInfo )

  00037	83 b9 18 06 00
	00 00		 cmp	 DWORD PTR [ecx+1560], 0
  0003e	74 4f		 je	 SHORT $LN3@GDRelation

; 1540 : 	pMsg.btRelationShipType = iRelationShipType;

  00040	8a 45 10	 mov	 al, BYTE PTR _iRelationShipType$[ebp]
  00043	0f 57 c0	 xorps	 xmm0, xmm0
  00046	0f 11 45 e9	 movups	 XMMWORD PTR _pMsg$[ebp+1], xmm0
  0004a	66 c7 45 f9 00
	00		 mov	 WORD PTR _pMsg$[ebp+17], 0
  00050	c6 45 fb 00	 mov	 BYTE PTR _pMsg$[ebp+19], 0
  00054	88 45 f0	 mov	 BYTE PTR _pMsg$[ebp+8], al
; File c:\users\michel\desktop\source\gameserver\include\prodef.h

; 86   : 		lpBuf[0] = 0xC1;

  00057	66 c7 45 e8 c1
	14		 mov	 WORD PTR _pMsg$[ebp], 5313 ; 000014c1H

; 87   : 		lpBuf[1] = size;
; 88   : 		lpBuf[2] = head;

  0005d	c6 45 ea e5	 mov	 BYTE PTR _pMsg$[ebp+2], 229 ; 000000e5H
; File c:\users\michel\desktop\source\gameserver\source\edsprotocol.cpp

; 1538 : 	pMsg.wRequestUserIndex = aIndex;

  00061	66 89 55 ec	 mov	 WORD PTR _pMsg$[ebp+4], dx

; 1539 : 	pMsg.wTargetUserIndex = iTargetUserIndex;

  00065	66 89 7d ee	 mov	 WORD PTR _pMsg$[ebp+6], di

; 1541 : 	pMsg.iRequestGuildNum = gObj[aIndex].lpGuild->Number;

  00069	8b 86 18 06 00
	00		 mov	 eax, DWORD PTR [esi+1560]

; 1542 : 	pMsg.iTargetGuildNum = gObj[iTargetUserIndex].lpGuild->Number;
; 1543 : 
; 1544 : 	wsExDbCli.DataSend((char*)&pMsg, pMsg.h.size);

  0006f	6a 14		 push	 20			; 00000014H
  00071	8b 00		 mov	 eax, DWORD PTR [eax]
  00073	89 45 f4	 mov	 DWORD PTR _pMsg$[ebp+12], eax
  00076	8b 81 18 06 00
	00		 mov	 eax, DWORD PTR [ecx+1560]
  0007c	b9 00 00 00 00	 mov	 ecx, OFFSET ?wsExDbCli@@3VwsJoinServerCli@@A ; wsExDbCli
  00081	8b 00		 mov	 eax, DWORD PTR [eax]
  00083	89 45 f8	 mov	 DWORD PTR _pMsg$[ebp+16], eax
  00086	8d 45 e8	 lea	 eax, DWORD PTR _pMsg$[ebp]
  00089	50		 push	 eax
  0008a	e8 00 00 00 00	 call	 ?DataSend@wsJoinServerCli@@QAEHPADH@Z ; wsJoinServerCli::DataSend
$LN3@GDRelation:

; 1545 : }

  0008f	8b 4d fc	 mov	 ecx, DWORD PTR __$ArrayPad$[ebp]
  00092	5f		 pop	 edi
  00093	33 cd		 xor	 ecx, ebp
  00095	5e		 pop	 esi
  00096	e8 00 00 00 00	 call	 @__security_check_cookie@4
  0009b	8b e5		 mov	 esp, ebp
  0009d	5d		 pop	 ebp
  0009e	c3		 ret	 0
?GDRelationShipReqJoin@@YAXHHH@Z ENDP			; GDRelationShipReqJoin
_TEXT	ENDS
; Function compile flags: /Ogtp
; File c:\users\michel\desktop\source\gameserver\source\edsprotocol.cpp
; File c:\users\michel\desktop\source\gameserver\include\prodef.h
; File c:\users\michel\desktop\source\gameserver\source\edsprotocol.cpp
;	COMDAT ?DGGuildAnsAssignType@@YAXPAUEXSDHP_GUILD_ASSIGN_TYPE_RESULT@@@Z
_TEXT	SEGMENT
_pMsg$1 = -288						; size = 5
_lpNode$1$ = -280					; size = 4
_lpNode$1$ = -280					; size = 4
__Notice$2 = -276					; size = 272
_pNotice$3 = -276					; size = 272
__$ArrayPad$ = -4					; size = 4
_lpMsg$ = 8						; size = 4
?DGGuildAnsAssignType@@YAXPAUEXSDHP_GUILD_ASSIGN_TYPE_RESULT@@@Z PROC ; DGGuildAnsAssignType, COMDAT

; 1449 : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	81 ec 20 01 00
	00		 sub	 esp, 288		; 00000120H
  00009	a1 00 00 00 00	 mov	 eax, DWORD PTR ___security_cookie
  0000e	33 c5		 xor	 eax, ebp
  00010	89 45 fc	 mov	 DWORD PTR __$ArrayPad$[ebp], eax
  00013	53		 push	 ebx
  00014	8b 5d 08	 mov	 ebx, DWORD PTR _lpMsg$[ebp]
  00017	56		 push	 esi
  00018	57		 push	 edi

; 1450 : 	if ( lpMsg->btFlag == 1 )

  00019	8a 43 03	 mov	 al, BYTE PTR [ebx+3]
  0001c	3c 01		 cmp	 al, 1
  0001e	0f 85 f5 00 00
	00		 jne	 $LN8@DGGuildAns

; 1451 : 	{
; 1452 : 		_GUILD_INFO_STRUCT * lpNode = Guild.SearchGuild(lpMsg->szGuildName);

  00024	8d 73 08	 lea	 esi, DWORD PTR [ebx+8]
  00027	b9 00 00 00 00	 mov	 ecx, OFFSET ?Guild@@3VCGuildClass@@A ; Guild
  0002c	56		 push	 esi
  0002d	e8 00 00 00 00	 call	 ?SearchGuild@CGuildClass@@QAEPAU_GUILD_INFO_STRUCT@@PAD@Z ; CGuildClass::SearchGuild
  00032	89 85 e8 fe ff
	ff		 mov	 DWORD PTR _lpNode$1$[ebp], eax

; 1453 : 
; 1454 : 		if ( lpNode == NULL )

  00038	85 c0		 test	 eax, eax
  0003a	75 03		 jne	 SHORT $LN10@DGGuildAns

; 1455 : 		{
; 1456 : 			lpMsg->btResult = 0;

  0003c	88 43 07	 mov	 BYTE PTR [ebx+7], al
$LN10@DGGuildAns:

; 1457 : 		}
; 1458 : 
; 1459 : 		PMSG_GUILD_ASSIGN_TYPE_RESULT pMsg = {0};
; 1460 : 
; 1461 : 		pMsg.h.set((LPBYTE)&pMsg, 0xE2, sizeof(PMSG_GUILD_ASSIGN_TYPE_RESULT));
; 1462 : 		pMsg.btGuildType = lpMsg->btGuildType;

  0003f	0f b6 43 06	 movzx	 eax, BYTE PTR [ebx+6]
  00043	c7 85 e1 fe ff
	ff 00 00 00 00	 mov	 DWORD PTR _pMsg$1[ebp+1], 0
  0004d	88 85 e3 fe ff
	ff		 mov	 BYTE PTR _pMsg$1[ebp+3], al

; 1463 : 		pMsg.btResult = lpMsg->btResult;

  00053	0f b6 43 07	 movzx	 eax, BYTE PTR [ebx+7]
  00057	88 85 e4 fe ff
	ff		 mov	 BYTE PTR _pMsg$1[ebp+4], al

; 1465 : 		DataSend(lpMsg->wUserIndex, (LPBYTE)&pMsg,sizeof(pMsg));

  0005d	8d 85 e0 fe ff
	ff		 lea	 eax, DWORD PTR _pMsg$1[ebp]
  00063	6a 05		 push	 5
  00065	50		 push	 eax
  00066	0f b7 43 04	 movzx	 eax, WORD PTR [ebx+4]
  0006a	50		 push	 eax
; File c:\users\michel\desktop\source\gameserver\include\prodef.h

; 86   : 		lpBuf[0] = 0xC1;

  0006b	66 c7 85 e0 fe
	ff ff c1 05	 mov	 WORD PTR _pMsg$1[ebp], 1473 ; 000005c1H

; 87   : 		lpBuf[1] = size;
; 88   : 		lpBuf[2] = head;

  00074	c6 85 e2 fe ff
	ff e2		 mov	 BYTE PTR _pMsg$1[ebp+2], 226 ; 000000e2H
; File c:\users\michel\desktop\source\gameserver\source\edsprotocol.cpp

; 1465 : 		DataSend(lpMsg->wUserIndex, (LPBYTE)&pMsg,sizeof(pMsg));

  0007b	e8 00 00 00 00	 call	 ?DataSend@@YAHHPAEK@Z	; DataSend
  00080	83 c4 0c	 add	 esp, 12			; 0000000cH

; 1466 : 
; 1467 : 		if ( lpMsg->btResult == 0 )

  00083	80 7b 07 00	 cmp	 BYTE PTR [ebx+7], 0
  00087	0f 84 2b 01 00
	00		 je	 $LN6@DGGuildAns

; 1468 : 		{
; 1469 : 			return;
; 1470 : 		}
; 1471 : 
; 1472 : 		Guild.SetGuildType(lpMsg->szGuildName, lpMsg->btGuildType);

  0008d	0f b6 43 06	 movzx	 eax, BYTE PTR [ebx+6]
  00091	b9 00 00 00 00	 mov	 ecx, OFFSET ?Guild@@3VCGuildClass@@A ; Guild
  00096	50		 push	 eax
  00097	56		 push	 esi
  00098	e8 00 00 00 00	 call	 ?SetGuildType@CGuildClass@@QAEHPADH@Z ; CGuildClass::SetGuildType
  0009d	8b 85 e8 fe ff
	ff		 mov	 eax, DWORD PTR _lpNode$1$[ebp]

; 1473 : 
; 1474 : 		for ( int i=0;i<MAX_USER_GUILD;i++)

  000a3	33 f6		 xor	 esi, esi
  000a5	8d b8 a0 03 00
	00		 lea	 edi, DWORD PTR [eax+928]
  000ab	0f 1f 44 00 00	 npad	 5
$LL4@DGGuildAns:

; 1475 : 		{
; 1476 : 			if ( lpNode->Use[i] > 0 && lpNode->Index[i] >= 0)

  000b0	80 bc 30 40 04
	00 00 00	 cmp	 BYTE PTR [eax+esi+1088], 0
  000b8	76 45		 jbe	 SHORT $LN2@DGGuildAns
  000ba	66 83 3f 00	 cmp	 WORD PTR [edi], 0
  000be	7c 3f		 jl	 SHORT $LN2@DGGuildAns

; 1477 : 			{
; 1478 : 				TNotice pNotice(0);

  000c0	6a 00		 push	 0
  000c2	8d 8d ec fe ff
	ff		 lea	 ecx, DWORD PTR _pNotice$3[ebp]
  000c8	e8 00 00 00 00	 call	 ??0TNotice@@QAE@E@Z	; TNotice::TNotice

; 1479 : 				pNotice.SendToUser(lpNode->Index[i], lMsg.Get(MSGGET(6, 187)), lpMsg->szGuildName, lpMsg->btGuildType);

  000cd	0f b6 43 06	 movzx	 eax, BYTE PTR [ebx+6]
  000d1	b9 00 00 00 00	 mov	 ecx, OFFSET ?lMsg@@3VMessage@@A ; lMsg
  000d6	50		 push	 eax
  000d7	8d 43 08	 lea	 eax, DWORD PTR [ebx+8]
  000da	50		 push	 eax
  000db	68 bb 06 00 00	 push	 1723			; 000006bbH
  000e0	e8 00 00 00 00	 call	 ?Get@Message@@QAEPADH@Z	; Message::Get
  000e5	50		 push	 eax
  000e6	0f bf 07	 movsx	 eax, WORD PTR [edi]
  000e9	50		 push	 eax
  000ea	8d 85 ec fe ff
	ff		 lea	 eax, DWORD PTR _pNotice$3[ebp]
  000f0	50		 push	 eax
  000f1	e8 00 00 00 00	 call	 ?SendToUser@TNotice@@QAAXHPADZZ ; TNotice::SendToUser
  000f6	8b 85 e8 fe ff
	ff		 mov	 eax, DWORD PTR _lpNode$1$[ebp]
  000fc	83 c4 14	 add	 esp, 20			; 00000014H
$LN2@DGGuildAns:

; 1473 : 
; 1474 : 		for ( int i=0;i<MAX_USER_GUILD;i++)

  000ff	46		 inc	 esi
  00100	83 c7 02	 add	 edi, 2
  00103	83 fe 50	 cmp	 esi, 80			; 00000050H
  00106	7c a8		 jl	 SHORT $LL4@DGGuildAns
  00108	5f		 pop	 edi
  00109	5e		 pop	 esi
  0010a	5b		 pop	 ebx

; 1505 : 			}
; 1506 : 		}
; 1507 : 	}
; 1508 : }

  0010b	8b 4d fc	 mov	 ecx, DWORD PTR __$ArrayPad$[ebp]
  0010e	33 cd		 xor	 ecx, ebp
  00110	e8 00 00 00 00	 call	 @__security_check_cookie@4
  00115	8b e5		 mov	 esp, ebp
  00117	5d		 pop	 ebp
  00118	c3		 ret	 0
$LN8@DGGuildAns:

; 1480 : 			}
; 1481 : 		}
; 1482 : 	}
; 1483 : 	else if ( lpMsg->btFlag == 0 )

  00119	84 c0		 test	 al, al
  0011b	0f 85 97 00 00
	00		 jne	 $LN6@DGGuildAns

; 1484 : 	{
; 1485 : 		_GUILD_INFO_STRUCT * lpNode = Guild.SearchGuild(lpMsg->szGuildName);

  00121	8d 73 08	 lea	 esi, DWORD PTR [ebx+8]
  00124	b9 00 00 00 00	 mov	 ecx, OFFSET ?Guild@@3VCGuildClass@@A ; Guild
  00129	56		 push	 esi
  0012a	e8 00 00 00 00	 call	 ?SearchGuild@CGuildClass@@QAEPAU_GUILD_INFO_STRUCT@@PAD@Z ; CGuildClass::SearchGuild
  0012f	89 85 e8 fe ff
	ff		 mov	 DWORD PTR _lpNode$1$[ebp], eax

; 1486 : 
; 1487 : 		if ( lpNode == NULL )

  00135	85 c0		 test	 eax, eax
  00137	74 7f		 je	 SHORT $LN6@DGGuildAns

; 1488 : 		{
; 1489 : 			return;
; 1490 : 		}
; 1491 : 
; 1492 : 		Guild.SetGuildType(lpMsg->szGuildName, lpMsg->btGuildType);

  00139	0f b6 4b 06	 movzx	 ecx, BYTE PTR [ebx+6]
  0013d	51		 push	 ecx
  0013e	56		 push	 esi
  0013f	b9 00 00 00 00	 mov	 ecx, OFFSET ?Guild@@3VCGuildClass@@A ; Guild
  00144	e8 00 00 00 00	 call	 ?SetGuildType@CGuildClass@@QAEHPADH@Z ; CGuildClass::SetGuildType

; 1493 : 
; 1494 : 		if ( lpMsg->btResult == 0 )

  00149	80 7b 07 00	 cmp	 BYTE PTR [ebx+7], 0
  0014d	74 69		 je	 SHORT $LN6@DGGuildAns

; 1495 : 		{
; 1496 : 			return;
; 1497 : 		}		
; 1498 : 		
; 1499 : 		for ( int n=0;n<MAX_USER_GUILD;n++)

  0014f	8b 85 e8 fe ff
	ff		 mov	 eax, DWORD PTR _lpNode$1$[ebp]
  00155	33 f6		 xor	 esi, esi
  00157	8d b8 a0 03 00
	00		 lea	 edi, DWORD PTR [eax+928]
  0015d	0f 1f 00	 npad	 3
$LL7@DGGuildAns:

; 1500 : 		{
; 1501 : 			if ( lpNode->Use[n] > 0 && lpNode->Index[n] >= 0)

  00160	80 bc 30 40 04
	00 00 00	 cmp	 BYTE PTR [eax+esi+1088], 0
  00168	76 45		 jbe	 SHORT $LN5@DGGuildAns
  0016a	66 83 3f 00	 cmp	 WORD PTR [edi], 0
  0016e	7c 3f		 jl	 SHORT $LN5@DGGuildAns

; 1502 : 			{
; 1503 : 				TNotice _Notice(0);

  00170	6a 00		 push	 0
  00172	8d 8d ec fe ff
	ff		 lea	 ecx, DWORD PTR __Notice$2[ebp]
  00178	e8 00 00 00 00	 call	 ??0TNotice@@QAE@E@Z	; TNotice::TNotice

; 1504 : 				_Notice.SendToUser(lpNode->Index[n], lMsg.Get(MSGGET(6, 187)), lpMsg->szGuildName, lpMsg->btGuildType);

  0017d	0f b6 43 06	 movzx	 eax, BYTE PTR [ebx+6]
  00181	b9 00 00 00 00	 mov	 ecx, OFFSET ?lMsg@@3VMessage@@A ; lMsg
  00186	50		 push	 eax
  00187	8d 43 08	 lea	 eax, DWORD PTR [ebx+8]
  0018a	50		 push	 eax
  0018b	68 bb 06 00 00	 push	 1723			; 000006bbH
  00190	e8 00 00 00 00	 call	 ?Get@Message@@QAEPADH@Z	; Message::Get
  00195	50		 push	 eax
  00196	0f bf 07	 movsx	 eax, WORD PTR [edi]
  00199	50		 push	 eax
  0019a	8d 85 ec fe ff
	ff		 lea	 eax, DWORD PTR __Notice$2[ebp]
  001a0	50		 push	 eax
  001a1	e8 00 00 00 00	 call	 ?SendToUser@TNotice@@QAAXHPADZZ ; TNotice::SendToUser
  001a6	8b 85 e8 fe ff
	ff		 mov	 eax, DWORD PTR _lpNode$1$[ebp]
  001ac	83 c4 14	 add	 esp, 20			; 00000014H
$LN5@DGGuildAns:

; 1495 : 		{
; 1496 : 			return;
; 1497 : 		}		
; 1498 : 		
; 1499 : 		for ( int n=0;n<MAX_USER_GUILD;n++)

  001af	46		 inc	 esi
  001b0	83 c7 02	 add	 edi, 2
  001b3	83 fe 50	 cmp	 esi, 80			; 00000050H
  001b6	7c a8		 jl	 SHORT $LL7@DGGuildAns
$LN6@DGGuildAns:

; 1505 : 			}
; 1506 : 		}
; 1507 : 	}
; 1508 : }

  001b8	8b 4d fc	 mov	 ecx, DWORD PTR __$ArrayPad$[ebp]
  001bb	5f		 pop	 edi
  001bc	5e		 pop	 esi
  001bd	33 cd		 xor	 ecx, ebp
  001bf	5b		 pop	 ebx
  001c0	e8 00 00 00 00	 call	 @__security_check_cookie@4
  001c5	8b e5		 mov	 esp, ebp
  001c7	5d		 pop	 ebp
  001c8	c3		 ret	 0
?DGGuildAnsAssignType@@YAXPAUEXSDHP_GUILD_ASSIGN_TYPE_RESULT@@@Z ENDP ; DGGuildAnsAssignType
_TEXT	ENDS
; Function compile flags: /Ogtp
; File c:\users\michel\desktop\source\gameserver\source\edsprotocol.cpp
; File c:\users\michel\desktop\source\gameserver\include\prodef.h
; File c:\users\michel\desktop\source\gameserver\source\edsprotocol.cpp
;	COMDAT ?GDGuildReqAssignType@@YAXHH@Z
_TEXT	SEGMENT
_pMsg$ = -20						; size = 16
__$ArrayPad$ = -4					; size = 4
_aIndex$ = 8						; size = 4
_iGuildType$ = 12					; size = 4
?GDGuildReqAssignType@@YAXHH@Z PROC			; GDGuildReqAssignType, COMDAT

; 1430 : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	83 ec 14	 sub	 esp, 20			; 00000014H
  00006	a1 00 00 00 00	 mov	 eax, DWORD PTR ___security_cookie
  0000b	33 c5		 xor	 eax, ebp
  0000d	89 45 fc	 mov	 DWORD PTR __$ArrayPad$[ebp], eax
  00010	8b 4d 08	 mov	 ecx, DWORD PTR _aIndex$[ebp]
  00013	0f 57 c0	 xorps	 xmm0, xmm0

; 1431 : 	EXSDHP_GUILD_ASSIGN_TYPE_REQ pMsg = {0};
; 1432 : 
; 1433 : 	pMsg.h.set((LPBYTE)&pMsg, 0xE2, sizeof(EXSDHP_GUILD_ASSIGN_TYPE_REQ));
; 1434 : 	pMsg.btGuildType = iGuildType;

  00016	8a 45 0c	 mov	 al, BYTE PTR _iGuildType$[ebp]
  00019	66 0f d6 45 ed	 movq	 QWORD PTR _pMsg$[ebp+1], xmm0

; 1435 : 	pMsg.wUserIndex = aIndex;

  0001e	66 89 4d f0	 mov	 WORD PTR _pMsg$[ebp+4], cx
  00022	88 45 f2	 mov	 BYTE PTR _pMsg$[ebp+6], al

; 1437 : 	memcpy(pMsg.szGuildName, gObj[aIndex].lpGuild->Name, MAX_GUILD_LEN);

  00025	a1 00 00 00 00	 mov	 eax, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  0002a	69 c9 40 27 00
	00		 imul	 ecx, ecx, 10048
  00030	c7 45 f5 00 00
	00 00		 mov	 DWORD PTR _pMsg$[ebp+9], 0
  00037	c6 45 fb 00	 mov	 BYTE PTR _pMsg$[ebp+15], 0
  0003b	66 c7 45 f9 00
	00		 mov	 WORD PTR _pMsg$[ebp+13], 0
; File c:\users\michel\desktop\source\gameserver\include\prodef.h

; 86   : 		lpBuf[0] = 0xC1;

  00041	66 c7 45 ec c1
	10		 mov	 WORD PTR _pMsg$[ebp], 4289 ; 000010c1H

; 87   : 		lpBuf[1] = size;
; 88   : 		lpBuf[2] = head;

  00047	c6 45 ee e2	 mov	 BYTE PTR _pMsg$[ebp+2], 226 ; 000000e2H
; File c:\users\michel\desktop\source\gameserver\source\edsprotocol.cpp

; 1436 : 	pMsg.szGuildName[MAX_GUILD_LEN] = 0;

  0004b	c6 45 fb 00	 mov	 BYTE PTR _pMsg$[ebp+15], 0

; 1438 : 
; 1439 : 	wsExDbCli.DataSend((char*)&pMsg, pMsg.h.size);

  0004f	6a 10		 push	 16			; 00000010H
  00051	8b 8c 01 18 06
	00 00		 mov	 ecx, DWORD PTR [ecx+eax+1560]
  00058	8b 41 04	 mov	 eax, DWORD PTR [ecx+4]
  0005b	89 45 f3	 mov	 DWORD PTR _pMsg$[ebp+7], eax
  0005e	8b 41 08	 mov	 eax, DWORD PTR [ecx+8]
  00061	b9 00 00 00 00	 mov	 ecx, OFFSET ?wsExDbCli@@3VwsJoinServerCli@@A ; wsExDbCli
  00066	89 45 f7	 mov	 DWORD PTR _pMsg$[ebp+11], eax
  00069	8d 45 ec	 lea	 eax, DWORD PTR _pMsg$[ebp]
  0006c	50		 push	 eax
  0006d	e8 00 00 00 00	 call	 ?DataSend@wsJoinServerCli@@QAEHPADH@Z ; wsJoinServerCli::DataSend

; 1440 : }

  00072	8b 4d fc	 mov	 ecx, DWORD PTR __$ArrayPad$[ebp]
  00075	33 cd		 xor	 ecx, ebp
  00077	e8 00 00 00 00	 call	 @__security_check_cookie@4
  0007c	8b e5		 mov	 esp, ebp
  0007e	5d		 pop	 ebp
  0007f	c3		 ret	 0
?GDGuildReqAssignType@@YAXHH@Z ENDP			; GDGuildReqAssignType
_TEXT	ENDS
; Function compile flags: /Ogtp
; File c:\users\michel\desktop\source\gameserver\source\edsprotocol.cpp
; File c:\users\michel\desktop\source\gameserver\include\prodef.h
; File c:\users\michel\desktop\source\gameserver\source\edsprotocol.cpp
;	COMDAT ?DGGuildAnsAssignStatus@@YAXPAUEXSDHP_GUILD_ASSIGN_STATUS_RESULT@@@Z
_TEXT	SEGMENT
tv453 = -296						; size = 4
tv452 = -296						; size = 4
_lpNode$1$ = -296					; size = 4
_lpNode$1$ = -296					; size = 4
__Notice$1 = -292					; size = 272
__Notice$2 = -292					; size = 272
_pMsg$3 = -20						; size = 15
__$ArrayPad$ = -4					; size = 4
_lpMsg$ = 8						; size = 4
?DGGuildAnsAssignStatus@@YAXPAUEXSDHP_GUILD_ASSIGN_STATUS_RESULT@@@Z PROC ; DGGuildAnsAssignStatus, COMDAT

; 1324 : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	81 ec 28 01 00
	00		 sub	 esp, 296		; 00000128H
  00009	a1 00 00 00 00	 mov	 eax, DWORD PTR ___security_cookie
  0000e	33 c5		 xor	 eax, ebp
  00010	89 45 fc	 mov	 DWORD PTR __$ArrayPad$[ebp], eax
  00013	53		 push	 ebx
  00014	8b 5d 08	 mov	 ebx, DWORD PTR _lpMsg$[ebp]
  00017	56		 push	 esi
  00018	57		 push	 edi

; 1325 : 	if ( lpMsg->btFlag == 1 )

  00019	8a 43 03	 mov	 al, BYTE PTR [ebx+3]
  0001c	3c 01		 cmp	 al, 1
  0001e	0f 85 39 01 00
	00		 jne	 $LN8@DGGuildAns

; 1326 : 	{
; 1327 : 		_GUILD_INFO_STRUCT * lpNode = Guild.SearchGuild(lpMsg->szGuildName);

  00024	8d 7b 09	 lea	 edi, DWORD PTR [ebx+9]
  00027	b9 00 00 00 00	 mov	 ecx, OFFSET ?Guild@@3VCGuildClass@@A ; Guild
  0002c	57		 push	 edi
  0002d	e8 00 00 00 00	 call	 ?SearchGuild@CGuildClass@@QAEPAU_GUILD_INFO_STRUCT@@PAD@Z ; CGuildClass::SearchGuild
  00032	89 85 d8 fe ff
	ff		 mov	 DWORD PTR _lpNode$1$[ebp], eax

; 1328 : 
; 1329 : 		if ( lpNode == NULL )

  00038	85 c0		 test	 eax, eax
  0003a	75 03		 jne	 SHORT $LN10@DGGuildAns

; 1330 : 		{
; 1331 : 			lpMsg->btResult = 0;

  0003c	88 43 07	 mov	 BYTE PTR [ebx+7], al
$LN10@DGGuildAns:

; 1332 : 		}
; 1333 : 
; 1334 : 		PMSG_GUILD_ASSIGN_STATUS_RESULT pMsg = {0};
; 1335 : 
; 1336 : 		pMsg.h.set((LPBYTE)&pMsg, 0xE1, sizeof(PMSG_GUILD_ASSIGN_STATUS_RESULT));
; 1337 : 		pMsg.btType = lpMsg->btType;

  0003f	0f b6 43 06	 movzx	 eax, BYTE PTR [ebx+6]

; 1339 : 		memcpy(pMsg.szTagetName, lpMsg->szTargetName, sizeof(pMsg.szTagetName));

  00043	8d 73 12	 lea	 esi, DWORD PTR [ebx+18]
  00046	0f 57 c0	 xorps	 xmm0, xmm0
  00049	66 c7 45 f9 00
	00		 mov	 WORD PTR _pMsg$3[ebp+13], 0
  0004f	66 0f d6 45 ed	 movq	 QWORD PTR _pMsg$3[ebp+1], xmm0
  00054	f3 0f 7e 06	 movq	 xmm0, QWORD PTR [esi]
  00058	88 45 ef	 mov	 BYTE PTR _pMsg$3[ebp+3], al
  0005b	0f b6 43 07	 movzx	 eax, BYTE PTR [ebx+7]
  0005f	88 45 f0	 mov	 BYTE PTR _pMsg$3[ebp+4], al
  00062	66 8b 46 08	 mov	 ax, WORD PTR [esi+8]
  00066	66 89 45 f9	 mov	 WORD PTR _pMsg$3[ebp+13], ax

; 1340 : 
; 1341 : 		DataSend(lpMsg->wUserIndex, (LPBYTE)&pMsg, sizeof(pMsg));

  0006a	8d 45 ec	 lea	 eax, DWORD PTR _pMsg$3[ebp]
  0006d	6a 0f		 push	 15			; 0000000fH
  0006f	50		 push	 eax
  00070	0f b7 43 04	 movzx	 eax, WORD PTR [ebx+4]
  00074	c7 45 f5 00 00
	00 00		 mov	 DWORD PTR _pMsg$3[ebp+9], 0
  0007b	50		 push	 eax
; File c:\users\michel\desktop\source\gameserver\include\prodef.h

; 86   : 		lpBuf[0] = 0xC1;

  0007c	66 c7 45 ec c1
	0f		 mov	 WORD PTR _pMsg$3[ebp], 4033 ; 00000fc1H

; 87   : 		lpBuf[1] = size;
; 88   : 		lpBuf[2] = head;

  00082	c6 45 ee e1	 mov	 BYTE PTR _pMsg$3[ebp+2], 225 ; 000000e1H
; File c:\users\michel\desktop\source\gameserver\source\edsprotocol.cpp

; 1339 : 		memcpy(pMsg.szTagetName, lpMsg->szTargetName, sizeof(pMsg.szTagetName));

  00086	66 0f d6 45 f1	 movq	 QWORD PTR _pMsg$3[ebp+5], xmm0

; 1340 : 
; 1341 : 		DataSend(lpMsg->wUserIndex, (LPBYTE)&pMsg, sizeof(pMsg));

  0008b	e8 00 00 00 00	 call	 ?DataSend@@YAHHPAEK@Z	; DataSend
  00090	83 c4 0c	 add	 esp, 12			; 0000000cH

; 1342 : 
; 1343 : 		if ( lpMsg->btResult == 0 )

  00093	80 7b 07 00	 cmp	 BYTE PTR [ebx+7], 0
  00097	0f 84 9f 01 00
	00		 je	 $LN6@DGGuildAns

; 1344 : 		{
; 1345 : 			return;
; 1346 : 		}
; 1347 : 
; 1348 : 		Guild.SetGuildMemberStatus(lpMsg->szGuildName, lpMsg->szTargetName, lpMsg->btGuildStatus);

  0009d	0f b6 43 08	 movzx	 eax, BYTE PTR [ebx+8]
  000a1	b9 00 00 00 00	 mov	 ecx, OFFSET ?Guild@@3VCGuildClass@@A ; Guild
  000a6	50		 push	 eax
  000a7	56		 push	 esi
  000a8	57		 push	 edi
  000a9	e8 00 00 00 00	 call	 ?SetGuildMemberStatus@CGuildClass@@QAEHPAD0H@Z ; CGuildClass::SetGuildMemberStatus

; 1349 : 
; 1350 : 		LogAddTD("[U.System][Guild Status][Assign] Guild : ( %s ) Member : ( %s ) Status : ( %d )",

  000ae	0f b6 43 08	 movzx	 eax, BYTE PTR [ebx+8]
  000b2	50		 push	 eax
  000b3	56		 push	 esi
  000b4	57		 push	 edi
  000b5	68 00 00 00 00	 push	 OFFSET ??_C@_0FA@EEENHOBM@?$FLU?4System?$FN?$FLGuild?5Status?$FN?$FLAssign?$FN@
  000ba	ff 15 00 00 00
	00		 call	 DWORD PTR ?LogAddTD@@3P6AXPADZZA ; LogAddTD
  000c0	8b 85 d8 fe ff
	ff		 mov	 eax, DWORD PTR _lpNode$1$[ebp]
  000c6	83 c4 10	 add	 esp, 16			; 00000010H

; 1351 : 			lpMsg->szGuildName, lpMsg->szTargetName, lpMsg->btGuildStatus);
; 1352 : 
; 1353 : 		for ( int i=0;i<MAX_USER_GUILD;i++)

  000c9	33 ff		 xor	 edi, edi
  000cb	8d b0 a0 03 00
	00		 lea	 esi, DWORD PTR [eax+928]
  000d1	05 40 04 00 00	 add	 eax, 1088		; 00000440H
  000d6	89 85 d8 fe ff
	ff		 mov	 DWORD PTR tv453[ebp], eax
  000dc	0f 1f 40 00	 npad	 4
$LL4@DGGuildAns:

; 1354 : 		{
; 1355 : 			if ( lpNode->Use[i] > 0 && lpNode->Index[i] >= 0)

  000e0	80 3c 38 00	 cmp	 BYTE PTR [eax+edi], 0
  000e4	76 5d		 jbe	 SHORT $LN2@DGGuildAns
  000e6	66 83 3e 00	 cmp	 WORD PTR [esi], 0
  000ea	7c 57		 jl	 SHORT $LN2@DGGuildAns

; 1356 : 			{
; 1357 : 				TNotice _Notice(0);

  000ec	6a 00		 push	 0
  000ee	8d 8d dc fe ff
	ff		 lea	 ecx, DWORD PTR __Notice$2[ebp]
  000f4	e8 00 00 00 00	 call	 ??0TNotice@@QAE@E@Z	; TNotice::TNotice

; 1358 : 
; 1359 : 				if ( lpMsg->btGuildStatus == GUILD_ASSISTANT )

  000f9	8a 43 08	 mov	 al, BYTE PTR [ebx+8]
  000fc	3c 40		 cmp	 al, 64			; 00000040H
  000fe	75 0b		 jne	 SHORT $LN13@DGGuildAns

; 1360 : 				{
; 1361 : 					_Notice.SendToUser(lpNode->Index[i], lMsg.Get(MSGGET(6, 184)), lpMsg->szTargetName);

  00100	8d 43 12	 lea	 eax, DWORD PTR [ebx+18]
  00103	50		 push	 eax
  00104	68 b8 06 00 00	 push	 1720			; 000006b8H
  00109	eb 14		 jmp	 SHORT $LN36@DGGuildAns
$LN13@DGGuildAns:

; 1362 : 				}
; 1363 : 				else if ( lpMsg->btGuildStatus == GUILD_BATTLE_MASTER )

  0010b	3c 20		 cmp	 al, 32			; 00000020H

; 1364 : 				{
; 1365 : 					_Notice.SendToUser(lpNode->Index[i], lMsg.Get(MSGGET(6, 185)), lpMsg->szTargetName);

  0010d	8d 43 12	 lea	 eax, DWORD PTR [ebx+18]
  00110	50		 push	 eax
  00111	75 07		 jne	 SHORT $LN15@DGGuildAns
  00113	68 b9 06 00 00	 push	 1721			; 000006b9H

; 1366 : 				}
; 1367 : 				else

  00118	eb 05		 jmp	 SHORT $LN36@DGGuildAns
$LN15@DGGuildAns:

; 1368 : 				{
; 1369 : 					_Notice.SendToUser(lpNode->Index[i], lMsg.Get(MSGGET(6, 186)), lpMsg->szTargetName);

  0011a	68 ba 06 00 00	 push	 1722			; 000006baH
$LN36@DGGuildAns:
  0011f	b9 00 00 00 00	 mov	 ecx, OFFSET ?lMsg@@3VMessage@@A ; lMsg
  00124	e8 00 00 00 00	 call	 ?Get@Message@@QAEPADH@Z	; Message::Get
  00129	50		 push	 eax
  0012a	0f bf 06	 movsx	 eax, WORD PTR [esi]
  0012d	50		 push	 eax
  0012e	8d 85 dc fe ff
	ff		 lea	 eax, DWORD PTR __Notice$2[ebp]
  00134	50		 push	 eax
  00135	e8 00 00 00 00	 call	 ?SendToUser@TNotice@@QAAXHPADZZ ; TNotice::SendToUser
  0013a	8b 85 d8 fe ff
	ff		 mov	 eax, DWORD PTR tv453[ebp]
  00140	83 c4 10	 add	 esp, 16			; 00000010H
$LN2@DGGuildAns:

; 1351 : 			lpMsg->szGuildName, lpMsg->szTargetName, lpMsg->btGuildStatus);
; 1352 : 
; 1353 : 		for ( int i=0;i<MAX_USER_GUILD;i++)

  00143	47		 inc	 edi
  00144	83 c6 02	 add	 esi, 2
  00147	83 ff 50	 cmp	 edi, 80			; 00000050H
  0014a	7c 94		 jl	 SHORT $LL4@DGGuildAns
  0014c	5f		 pop	 edi
  0014d	5e		 pop	 esi
  0014e	5b		 pop	 ebx

; 1411 : 				}
; 1412 : 			}
; 1413 : 		}
; 1414 : 	}
; 1415 : }

  0014f	8b 4d fc	 mov	 ecx, DWORD PTR __$ArrayPad$[ebp]
  00152	33 cd		 xor	 ecx, ebp
  00154	e8 00 00 00 00	 call	 @__security_check_cookie@4
  00159	8b e5		 mov	 esp, ebp
  0015b	5d		 pop	 ebp
  0015c	c3		 ret	 0
$LN8@DGGuildAns:

; 1370 : 				}
; 1371 : 			}
; 1372 : 		}
; 1373 : 	}
; 1374 : 	else if ( lpMsg->btFlag == 0 )

  0015d	84 c0		 test	 al, al
  0015f	0f 85 d7 00 00
	00		 jne	 $LN6@DGGuildAns

; 1375 : 	{
; 1376 : 		_GUILD_INFO_STRUCT * lpNode = Guild.SearchGuild(lpMsg->szGuildName);

  00165	8d 7b 09	 lea	 edi, DWORD PTR [ebx+9]
  00168	b9 00 00 00 00	 mov	 ecx, OFFSET ?Guild@@3VCGuildClass@@A ; Guild
  0016d	57		 push	 edi
  0016e	e8 00 00 00 00	 call	 ?SearchGuild@CGuildClass@@QAEPAU_GUILD_INFO_STRUCT@@PAD@Z ; CGuildClass::SearchGuild
  00173	89 85 d8 fe ff
	ff		 mov	 DWORD PTR _lpNode$1$[ebp], eax

; 1377 : 
; 1378 : 		if ( lpNode == NULL )

  00179	85 c0		 test	 eax, eax
  0017b	0f 84 bb 00 00
	00		 je	 $LN6@DGGuildAns

; 1379 : 		{
; 1380 : 			return;
; 1381 : 		}
; 1382 : 		
; 1383 : 		Guild.SetGuildMemberStatus(lpMsg->szGuildName, lpMsg->szTargetName, lpMsg->btGuildStatus);

  00181	0f b6 4b 08	 movzx	 ecx, BYTE PTR [ebx+8]
  00185	8d 73 12	 lea	 esi, DWORD PTR [ebx+18]
  00188	51		 push	 ecx
  00189	56		 push	 esi
  0018a	57		 push	 edi
  0018b	b9 00 00 00 00	 mov	 ecx, OFFSET ?Guild@@3VCGuildClass@@A ; Guild
  00190	e8 00 00 00 00	 call	 ?SetGuildMemberStatus@CGuildClass@@QAEHPAD0H@Z ; CGuildClass::SetGuildMemberStatus

; 1384 : 
; 1385 : 		LogAddTD("[U.System][Guild Status][Assign] Guild : ( %s ) Member : ( %s ) Status : ( %d )",

  00195	0f b6 43 08	 movzx	 eax, BYTE PTR [ebx+8]
  00199	50		 push	 eax
  0019a	56		 push	 esi
  0019b	57		 push	 edi
  0019c	68 00 00 00 00	 push	 OFFSET ??_C@_0FA@EEENHOBM@?$FLU?4System?$FN?$FLGuild?5Status?$FN?$FLAssign?$FN@
  001a1	ff 15 00 00 00
	00		 call	 DWORD PTR ?LogAddTD@@3P6AXPADZZA ; LogAddTD
  001a7	83 c4 10	 add	 esp, 16			; 00000010H

; 1386 : 			lpMsg->szGuildName, lpMsg->szTargetName, lpMsg->btGuildStatus);
; 1387 : 		
; 1388 : 		if ( lpMsg->btResult == 0 )

  001aa	80 7b 07 00	 cmp	 BYTE PTR [ebx+7], 0
  001ae	0f 84 88 00 00
	00		 je	 $LN6@DGGuildAns

; 1389 : 		{
; 1390 : 			return;
; 1391 : 		}
; 1392 : 
; 1393 : 		for ( int n=0;n<MAX_USER_GUILD;n++)

  001b4	8b 85 d8 fe ff
	ff		 mov	 eax, DWORD PTR _lpNode$1$[ebp]
  001ba	33 ff		 xor	 edi, edi
  001bc	8d b0 a0 03 00
	00		 lea	 esi, DWORD PTR [eax+928]
  001c2	05 40 04 00 00	 add	 eax, 1088		; 00000440H
  001c7	89 85 d8 fe ff
	ff		 mov	 DWORD PTR tv452[ebp], eax
  001cd	0f 1f 00	 npad	 3
$LL7@DGGuildAns:

; 1394 : 		{
; 1395 : 			if ( lpNode->Use[n] > 0 && lpNode->Index[n] >= 0)

  001d0	80 3c 38 00	 cmp	 BYTE PTR [eax+edi], 0
  001d4	76 5d		 jbe	 SHORT $LN5@DGGuildAns
  001d6	66 83 3e 00	 cmp	 WORD PTR [esi], 0
  001da	7c 57		 jl	 SHORT $LN5@DGGuildAns

; 1396 : 			{
; 1397 : 				TNotice _Notice(0);

  001dc	6a 00		 push	 0
  001de	8d 8d dc fe ff
	ff		 lea	 ecx, DWORD PTR __Notice$1[ebp]
  001e4	e8 00 00 00 00	 call	 ??0TNotice@@QAE@E@Z	; TNotice::TNotice

; 1398 : 
; 1399 : 
; 1400 : 				if ( lpMsg->btGuildStatus == GUILD_ASSISTANT )

  001e9	8a 43 08	 mov	 al, BYTE PTR [ebx+8]
  001ec	3c 40		 cmp	 al, 64			; 00000040H
  001ee	75 0b		 jne	 SHORT $LN21@DGGuildAns

; 1401 : 				{
; 1402 : 					_Notice.SendToUser(lpNode->Index[n], lMsg.Get(MSGGET(6, 184)), lpMsg->szTargetName);

  001f0	8d 43 12	 lea	 eax, DWORD PTR [ebx+18]
  001f3	50		 push	 eax
  001f4	68 b8 06 00 00	 push	 1720			; 000006b8H
  001f9	eb 14		 jmp	 SHORT $LN37@DGGuildAns
$LN21@DGGuildAns:

; 1403 : 				}
; 1404 : 				else if ( lpMsg->btGuildStatus == GUILD_BATTLE_MASTER )

  001fb	3c 20		 cmp	 al, 32			; 00000020H

; 1405 : 				{
; 1406 : 					_Notice.SendToUser(lpNode->Index[n], lMsg.Get(MSGGET(6, 185)), lpMsg->szTargetName);

  001fd	8d 43 12	 lea	 eax, DWORD PTR [ebx+18]
  00200	50		 push	 eax
  00201	75 07		 jne	 SHORT $LN23@DGGuildAns
  00203	68 b9 06 00 00	 push	 1721			; 000006b9H

; 1407 : 				}
; 1408 : 				else

  00208	eb 05		 jmp	 SHORT $LN37@DGGuildAns
$LN23@DGGuildAns:

; 1409 : 				{
; 1410 : 					_Notice.SendToUser(lpNode->Index[n], lMsg.Get(MSGGET(6, 186)), lpMsg->szTargetName);

  0020a	68 ba 06 00 00	 push	 1722			; 000006baH
$LN37@DGGuildAns:
  0020f	b9 00 00 00 00	 mov	 ecx, OFFSET ?lMsg@@3VMessage@@A ; lMsg
  00214	e8 00 00 00 00	 call	 ?Get@Message@@QAEPADH@Z	; Message::Get
  00219	50		 push	 eax
  0021a	0f bf 06	 movsx	 eax, WORD PTR [esi]
  0021d	50		 push	 eax
  0021e	8d 85 dc fe ff
	ff		 lea	 eax, DWORD PTR __Notice$1[ebp]
  00224	50		 push	 eax
  00225	e8 00 00 00 00	 call	 ?SendToUser@TNotice@@QAAXHPADZZ ; TNotice::SendToUser
  0022a	8b 85 d8 fe ff
	ff		 mov	 eax, DWORD PTR tv452[ebp]
  00230	83 c4 10	 add	 esp, 16			; 00000010H
$LN5@DGGuildAns:

; 1389 : 		{
; 1390 : 			return;
; 1391 : 		}
; 1392 : 
; 1393 : 		for ( int n=0;n<MAX_USER_GUILD;n++)

  00233	47		 inc	 edi
  00234	83 c6 02	 add	 esi, 2
  00237	83 ff 50	 cmp	 edi, 80			; 00000050H
  0023a	7c 94		 jl	 SHORT $LL7@DGGuildAns
$LN6@DGGuildAns:

; 1411 : 				}
; 1412 : 			}
; 1413 : 		}
; 1414 : 	}
; 1415 : }

  0023c	8b 4d fc	 mov	 ecx, DWORD PTR __$ArrayPad$[ebp]
  0023f	5f		 pop	 edi
  00240	5e		 pop	 esi
  00241	33 cd		 xor	 ecx, ebp
  00243	5b		 pop	 ebx
  00244	e8 00 00 00 00	 call	 @__security_check_cookie@4
  00249	8b e5		 mov	 esp, ebp
  0024b	5d		 pop	 ebp
  0024c	c3		 ret	 0
?DGGuildAnsAssignStatus@@YAXPAUEXSDHP_GUILD_ASSIGN_STATUS_RESULT@@@Z ENDP ; DGGuildAnsAssignStatus
_TEXT	ENDS
; Function compile flags: /Ogtp
; File c:\users\michel\desktop\source\gameserver\source\edsprotocol.cpp
; File c:\users\michel\desktop\source\gameserver\include\prodef.h
; File c:\users\michel\desktop\source\gameserver\source\edsprotocol.cpp
;	COMDAT ?GDGuildReqAssignStatus@@YAXHHPADH@Z
_TEXT	SEGMENT
_pMsg$ = -32						; size = 28
__$ArrayPad$ = -4					; size = 4
_aIndex$ = 8						; size = 4
_iAssignType$ = 12					; size = 4
_szTagetName$ = 16					; size = 4
_iGuildStatus$ = 20					; size = 4
?GDGuildReqAssignStatus@@YAXHHPADH@Z PROC		; GDGuildReqAssignStatus, COMDAT

; 1303 : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	83 ec 20	 sub	 esp, 32			; 00000020H
  00006	a1 00 00 00 00	 mov	 eax, DWORD PTR ___security_cookie
  0000b	33 c5		 xor	 eax, ebp
  0000d	89 45 fc	 mov	 DWORD PTR __$ArrayPad$[ebp], eax

; 1304 : 	EXSDHP_GUILD_ASSIGN_STATUS_REQ pMsg = {0};
; 1305 : 
; 1306 : 	pMsg.h.set((LPBYTE)&pMsg, 0xE1, sizeof(EXSDHP_GUILD_ASSIGN_STATUS_REQ));
; 1307 : 	pMsg.btType = iAssignType;

  00010	8a 45 0c	 mov	 al, BYTE PTR _iAssignType$[ebp]
  00013	0f 57 c0	 xorps	 xmm0, xmm0
  00016	8b 4d 08	 mov	 ecx, DWORD PTR _aIndex$[ebp]
  00019	8b 55 10	 mov	 edx, DWORD PTR _szTagetName$[ebp]
  0001c	0f 11 45 e1	 movups	 XMMWORD PTR _pMsg$[ebp+1], xmm0
  00020	88 45 e6	 mov	 BYTE PTR _pMsg$[ebp+6], al

; 1308 : 	pMsg.btGuildStatus = iGuildStatus;

  00023	8a 45 14	 mov	 al, BYTE PTR _iGuildStatus$[ebp]

; 1309 : 	pMsg.wUserIndex = aIndex;

  00026	66 89 4d e4	 mov	 WORD PTR _pMsg$[ebp+4], cx
  0002a	88 45 e7	 mov	 BYTE PTR _pMsg$[ebp+7], al

; 1312 : 	memcpy(pMsg.szGuildName, gObj[aIndex].lpGuild->Name, MAX_GUILD_LEN);

  0002d	a1 00 00 00 00	 mov	 eax, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  00032	69 c9 40 27 00
	00		 imul	 ecx, ecx, 10048
  00038	66 0f d6 45 f1	 movq	 QWORD PTR _pMsg$[ebp+17], xmm0

; 1313 : 	memcpy(pMsg.szTargetName, szTagetName, MAX_ACCOUNT_LEN);

  0003d	f3 0f 7e 02	 movq	 xmm0, QWORD PTR [edx]
  00041	c6 45 fb 00	 mov	 BYTE PTR _pMsg$[ebp+27], 0
  00045	66 c7 45 f9 00
	00		 mov	 WORD PTR _pMsg$[ebp+25], 0
; File c:\users\michel\desktop\source\gameserver\include\prodef.h

; 86   : 		lpBuf[0] = 0xC1;

  0004b	66 c7 45 e0 c1
	1c		 mov	 WORD PTR _pMsg$[ebp], 7361 ; 00001cc1H

; 87   : 		lpBuf[1] = size;
; 88   : 		lpBuf[2] = head;

  00051	c6 45 e2 e1	 mov	 BYTE PTR _pMsg$[ebp+2], 225 ; 000000e1H
; File c:\users\michel\desktop\source\gameserver\source\edsprotocol.cpp

; 1310 : 	pMsg.szGuildName[MAX_GUILD_LEN] = 0;

  00055	c6 45 f0 00	 mov	 BYTE PTR _pMsg$[ebp+16], 0

; 1311 : 	pMsg.szTargetName[MAX_ACCOUNT_LEN] = 0;

  00059	c6 45 fb 00	 mov	 BYTE PTR _pMsg$[ebp+27], 0

; 1312 : 	memcpy(pMsg.szGuildName, gObj[aIndex].lpGuild->Name, MAX_GUILD_LEN);

  0005d	8b 8c 01 18 06
	00 00		 mov	 ecx, DWORD PTR [ecx+eax+1560]

; 1314 : 
; 1315 : 	wsExDbCli.DataSend((char*)&pMsg, pMsg.h.size);

  00064	6a 1c		 push	 28			; 0000001cH
  00066	8b 41 04	 mov	 eax, DWORD PTR [ecx+4]
  00069	89 45 e8	 mov	 DWORD PTR _pMsg$[ebp+8], eax
  0006c	8b 41 08	 mov	 eax, DWORD PTR [ecx+8]
  0006f	b9 00 00 00 00	 mov	 ecx, OFFSET ?wsExDbCli@@3VwsJoinServerCli@@A ; wsExDbCli
  00074	89 45 ec	 mov	 DWORD PTR _pMsg$[ebp+12], eax
  00077	66 8b 42 08	 mov	 ax, WORD PTR [edx+8]
  0007b	66 89 45 f9	 mov	 WORD PTR _pMsg$[ebp+25], ax
  0007f	8d 45 e0	 lea	 eax, DWORD PTR _pMsg$[ebp]
  00082	50		 push	 eax
  00083	66 0f d6 45 f1	 movq	 QWORD PTR _pMsg$[ebp+17], xmm0
  00088	e8 00 00 00 00	 call	 ?DataSend@wsJoinServerCli@@QAEHPADH@Z ; wsJoinServerCli::DataSend

; 1316 : }

  0008d	8b 4d fc	 mov	 ecx, DWORD PTR __$ArrayPad$[ebp]
  00090	33 cd		 xor	 ecx, ebp
  00092	e8 00 00 00 00	 call	 @__security_check_cookie@4
  00097	8b e5		 mov	 esp, ebp
  00099	5d		 pop	 ebp
  0009a	c3		 ret	 0
?GDGuildReqAssignStatus@@YAXHHPADH@Z ENDP		; GDGuildReqAssignStatus
_TEXT	ENDS
; Function compile flags: /Ogtp
; File c:\users\michel\desktop\source\gameserver\source\edsprotocol.cpp
; File c:\users\michel\desktop\source\gameserver\include\prodef.h
; File c:\users\michel\desktop\source\gameserver\source\edsprotocol.cpp
;	COMDAT ?DGUnionServerGroupChattingRecv@@YAXPAUEXSDHP_SERVERGROUP_UNION_CHATTING_RECV@@@Z
_TEXT	SEGMENT
_i$1$ = -536						; size = 4
_iGuildCount$ = -532					; size = 4
tv305 = -528						; size = 4
tv308 = -524						; size = 4
_pMsg$ = -520						; size = 113
_iGuildList$ = -404					; size = 400
__$ArrayPad$ = -4					; size = 4
_lpMsg$ = 8						; size = 4
?DGUnionServerGroupChattingRecv@@YAXPAUEXSDHP_SERVERGROUP_UNION_CHATTING_RECV@@@Z PROC ; DGUnionServerGroupChattingRecv, COMDAT

; 1247 : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	81 ec 18 02 00
	00		 sub	 esp, 536		; 00000218H
  00009	a1 00 00 00 00	 mov	 eax, DWORD PTR ___security_cookie
  0000e	33 c5		 xor	 eax, ebp
  00010	89 45 fc	 mov	 DWORD PTR __$ArrayPad$[ebp], eax
  00013	53		 push	 ebx
  00014	8b 5d 08	 mov	 ebx, DWORD PTR _lpMsg$[ebp]

; 1248 : 	PMSG_CHATDATA pMsg ={0};

  00017	8d 85 f9 fd ff
	ff		 lea	 eax, DWORD PTR _pMsg$[ebp+1]
  0001d	56		 push	 esi
  0001e	57		 push	 edi
  0001f	6a 70		 push	 112			; 00000070H
  00021	6a 00		 push	 0
  00023	50		 push	 eax
  00024	e8 00 00 00 00	 call	 _memset

; 1249 : 
; 1250 : 	pMsg.h.set((LPBYTE)&pMsg, 0x00, sizeof(pMsg));
; 1251 : 	memcpy(pMsg.chatid, lpMsg->szCharacterName, sizeof(pMsg.chatid));

  00029	66 8b 43 10	 mov	 ax, WORD PTR [ebx+16]

; 1252 : 	memcpy(pMsg.chatmsg, lpMsg->szChattingMsg, sizeof(pMsg.chatmsg));

  0002d	8d 73 12	 lea	 esi, DWORD PTR [ebx+18]
  00030	f3 0f 7e 43 08	 movq	 xmm0, QWORD PTR [ebx+8]
  00035	8d bd 05 fe ff
	ff		 lea	 edi, DWORD PTR _pMsg$[ebp+13]
  0003b	66 89 85 03 fe
	ff ff		 mov	 WORD PTR _pMsg$[ebp+11], ax
  00042	b9 19 00 00 00	 mov	 ecx, 25			; 00000019H
  00047	68 90 01 00 00	 push	 400			; 00000190H
  0004c	8d 85 6c fe ff
	ff		 lea	 eax, DWORD PTR _iGuildList$[ebp]
  00052	66 0f d6 85 fb
	fd ff ff	 movq	 QWORD PTR _pMsg$[ebp+3], xmm0
  0005a	6a 00		 push	 0
; File c:\users\michel\desktop\source\gameserver\include\prodef.h

; 86   : 		lpBuf[0] = 0xC1;

  0005c	66 c7 85 f8 fd
	ff ff c1 71	 mov	 WORD PTR _pMsg$[ebp], 29121 ; 000071c1H

; 87   : 		lpBuf[1] = size;
; 88   : 		lpBuf[2] = head;

  00065	c6 85 fa fd ff
	ff 00		 mov	 BYTE PTR _pMsg$[ebp+2], 0
; File c:\users\michel\desktop\source\gameserver\source\edsprotocol.cpp

; 1252 : 	memcpy(pMsg.chatmsg, lpMsg->szChattingMsg, sizeof(pMsg.chatmsg));

  0006c	f3 a5		 rep movsd
  0006e	50		 push	 eax

; 1253 : 	int iUnionNum = lpMsg->iUnionNum;
; 1254 : 	int iGuildCount =0;

  0006f	c7 85 ec fd ff
	ff 00 00 00 00	 mov	 DWORD PTR _iGuildCount$[ebp], 0
  00079	e8 00 00 00 00	 call	 _memset
  0007e	83 c4 18	 add	 esp, 24			; 00000018H

; 1255 : 	int iGuildList[100] ={0};
; 1256 : 
; 1257 : 	if ( UnionManager.GetGuildUnionMemberList(iUnionNum, iGuildCount, iGuildList) == TRUE)

  00081	8d 85 6c fe ff
	ff		 lea	 eax, DWORD PTR _iGuildList$[ebp]
  00087	b9 00 00 00 00	 mov	 ecx, OFFSET ?UnionManager@@3VTUnion@@A ; UnionManager
  0008c	50		 push	 eax
  0008d	8d 85 ec fd ff
	ff		 lea	 eax, DWORD PTR _iGuildCount$[ebp]
  00093	50		 push	 eax
  00094	ff 73 04	 push	 DWORD PTR [ebx+4]
  00097	e8 00 00 00 00	 call	 ?GetGuildUnionMemberList@TUnion@@QAEHHAAHPAH@Z ; TUnion::GetGuildUnionMemberList
  0009c	83 f8 01	 cmp	 eax, 1
  0009f	0f 85 f7 00 00
	00		 jne	 $LN3@DGUnionSer

; 1258 : 	{
; 1259 : 		int iUserIndex = -1;
; 1260 : 
; 1261 : 		for ( int i=0;i<iGuildCount;i++)

  000a5	33 c0		 xor	 eax, eax
  000a7	89 85 e8 fd ff
	ff		 mov	 DWORD PTR _i$1$[ebp], eax
  000ad	39 85 ec fd ff
	ff		 cmp	 DWORD PTR _iGuildCount$[ebp], eax
  000b3	0f 8e e3 00 00
	00		 jle	 $LN3@DGUnionSer
  000b9	0f 1f 80 00 00
	00 00		 npad	 7
$LL4@DGUnionSer:

; 1262 : 		{
; 1263 : 			_GUILD_INFO_STRUCT * lpGuildInfo = Guild.SearchGuild_Number(iGuildList[i]);

  000c0	ff b4 85 6c fe
	ff ff		 push	 DWORD PTR _iGuildList$[ebp+eax*4]
  000c7	b9 00 00 00 00	 mov	 ecx, OFFSET ?Guild@@3VCGuildClass@@A ; Guild
  000cc	e8 00 00 00 00	 call	 ?SearchGuild_Number@CGuildClass@@QAEPAU_GUILD_INFO_STRUCT@@H@Z ; CGuildClass::SearchGuild_Number

; 1264 : 
; 1265 : 			if ( lpGuildInfo == NULL )

  000d1	85 c0		 test	 eax, eax
  000d3	0f 84 aa 00 00
	00		 je	 $LN2@DGUnionSer

; 1266 : 				continue;
; 1267 : 
; 1268 : 			for ( int n=0;n<MAX_USER_GUILD;n++)

  000d9	8d 90 a0 03 00
	00		 lea	 edx, DWORD PTR [eax+928]
  000df	33 f6		 xor	 esi, esi
  000e1	8d 78 2f	 lea	 edi, DWORD PTR [eax+47]
  000e4	89 95 f0 fd ff
	ff		 mov	 DWORD PTR tv305[ebp], edx
  000ea	05 40 04 00 00	 add	 eax, 1088		; 00000440H
  000ef	89 85 f4 fd ff
	ff		 mov	 DWORD PTR tv308[ebp], eax
$LL7@DGUnionSer:

; 1269 : 			{
; 1270 : 				if ( lpGuildInfo->Use[n] != FALSE )

  000f5	80 3c 30 00	 cmp	 BYTE PTR [eax+esi], 0
  000f9	74 72		 je	 SHORT $LN5@DGUnionSer

; 1271 : 				{
; 1272 : 					iUserIndex = lpGuildInfo->Index[n];

  000fb	0f bf 1a	 movsx	 ebx, WORD PTR [edx]

; 1273 : 
; 1274 : 					if ( iUserIndex >= 0 )

  000fe	85 db		 test	 ebx, ebx
  00100	78 6b		 js	 SHORT $LN5@DGUnionSer

; 1275 : 					{
; 1276 : 						if ( lpGuildInfo->Names[n][0] == gObj[iUserIndex].Name[0] )

  00102	a1 00 00 00 00	 mov	 eax, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  00107	69 cb 40 27 00
	00		 imul	 ecx, ebx, 10048
  0010d	83 c0 5d	 add	 eax, 93			; 0000005dH
  00110	03 c1		 add	 eax, ecx
  00112	8a 0f		 mov	 cl, BYTE PTR [edi]
  00114	3a 08		 cmp	 cl, BYTE PTR [eax]
  00116	75 4f		 jne	 SHORT $LN30@DGUnionSer

; 1277 : 						{
; 1278 : 							if ( !strcmp(lpGuildInfo->Names[n], gObj[iUserIndex].Name ))

  00118	8b cf		 mov	 ecx, edi
  0011a	66 0f 1f 44 00
	00		 npad	 6
$LL25@DGUnionSer:
  00120	8a 11		 mov	 dl, BYTE PTR [ecx]
  00122	3a 10		 cmp	 dl, BYTE PTR [eax]
  00124	75 1a		 jne	 SHORT $LN26@DGUnionSer
  00126	84 d2		 test	 dl, dl
  00128	74 12		 je	 SHORT $LN27@DGUnionSer
  0012a	8a 51 01	 mov	 dl, BYTE PTR [ecx+1]
  0012d	3a 50 01	 cmp	 dl, BYTE PTR [eax+1]
  00130	75 0e		 jne	 SHORT $LN26@DGUnionSer
  00132	83 c1 02	 add	 ecx, 2
  00135	83 c0 02	 add	 eax, 2
  00138	84 d2		 test	 dl, dl
  0013a	75 e4		 jne	 SHORT $LL25@DGUnionSer
$LN27@DGUnionSer:
  0013c	33 c0		 xor	 eax, eax
  0013e	eb 05		 jmp	 SHORT $LN28@DGUnionSer
$LN26@DGUnionSer:
  00140	1b c0		 sbb	 eax, eax
  00142	83 c8 01	 or	 eax, 1
$LN28@DGUnionSer:
  00145	85 c0		 test	 eax, eax
  00147	75 18		 jne	 SHORT $LN29@DGUnionSer

; 1279 : 							{
; 1280 : 								DataSend(iUserIndex, (LPBYTE)&pMsg, pMsg.h.size);

  00149	0f b6 85 f9 fd
	ff ff		 movzx	 eax, BYTE PTR _pMsg$[ebp+1]
  00150	50		 push	 eax
  00151	8d 85 f8 fd ff
	ff		 lea	 eax, DWORD PTR _pMsg$[ebp]
  00157	50		 push	 eax
  00158	53		 push	 ebx
  00159	e8 00 00 00 00	 call	 ?DataSend@@YAHHPAEK@Z	; DataSend
  0015e	83 c4 0c	 add	 esp, 12			; 0000000cH
$LN29@DGUnionSer:
  00161	8b 95 f0 fd ff
	ff		 mov	 edx, DWORD PTR tv305[ebp]
$LN30@DGUnionSer:
  00167	8b 85 f4 fd ff
	ff		 mov	 eax, DWORD PTR tv308[ebp]
$LN5@DGUnionSer:

; 1266 : 				continue;
; 1267 : 
; 1268 : 			for ( int n=0;n<MAX_USER_GUILD;n++)

  0016d	46		 inc	 esi
  0016e	83 c2 02	 add	 edx, 2
  00171	83 c7 0b	 add	 edi, 11			; 0000000bH
  00174	89 95 f0 fd ff
	ff		 mov	 DWORD PTR tv305[ebp], edx
  0017a	83 fe 50	 cmp	 esi, 80			; 00000050H
  0017d	0f 8c 72 ff ff
	ff		 jl	 $LL7@DGUnionSer
$LN2@DGUnionSer:

; 1258 : 	{
; 1259 : 		int iUserIndex = -1;
; 1260 : 
; 1261 : 		for ( int i=0;i<iGuildCount;i++)

  00183	8b 85 e8 fd ff
	ff		 mov	 eax, DWORD PTR _i$1$[ebp]
  00189	40		 inc	 eax
  0018a	89 85 e8 fd ff
	ff		 mov	 DWORD PTR _i$1$[ebp], eax
  00190	3b 85 ec fd ff
	ff		 cmp	 eax, DWORD PTR _iGuildCount$[ebp]
  00196	0f 8c 24 ff ff
	ff		 jl	 $LL4@DGUnionSer
$LN3@DGUnionSer:

; 1281 : 							}
; 1282 : 						}
; 1283 : 					}
; 1284 : 				}
; 1285 : 			}
; 1286 : 		}
; 1287 : 	}
; 1288 : }

  0019c	8b 4d fc	 mov	 ecx, DWORD PTR __$ArrayPad$[ebp]
  0019f	5f		 pop	 edi
  001a0	5e		 pop	 esi
  001a1	33 cd		 xor	 ecx, ebp
  001a3	5b		 pop	 ebx
  001a4	e8 00 00 00 00	 call	 @__security_check_cookie@4
  001a9	8b e5		 mov	 esp, ebp
  001ab	5d		 pop	 ebp
  001ac	c3		 ret	 0
?DGUnionServerGroupChattingRecv@@YAXPAUEXSDHP_SERVERGROUP_UNION_CHATTING_RECV@@@Z ENDP ; DGUnionServerGroupChattingRecv
_TEXT	ENDS
; Function compile flags: /Ogtp
; File c:\users\michel\desktop\source\gameserver\source\edsprotocol.cpp
; File c:\users\michel\desktop\source\gameserver\include\prodef.h
; File c:\users\michel\desktop\source\gameserver\source\edsprotocol.cpp
; File c:\users\michel\desktop\source\gameserver\include\prodef.h
; File c:\users\michel\desktop\source\gameserver\source\edsprotocol.cpp
;	COMDAT ?GDUnionServerGroupChattingSend@@YAXHPAUPMSG_CHATDATA@@@Z
_TEXT	SEGMENT
_pMsg$ = -84						; size = 80
__$ArrayPad$ = -4					; size = 4
_iUnionNum$ = 8						; size = 4
_lpChatData$ = 12					; size = 4
?GDUnionServerGroupChattingSend@@YAXHPAUPMSG_CHATDATA@@@Z PROC ; GDUnionServerGroupChattingSend, COMDAT

; 1234 : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	83 ec 54	 sub	 esp, 84			; 00000054H
  00006	a1 00 00 00 00	 mov	 eax, DWORD PTR ___security_cookie
  0000b	33 c5		 xor	 eax, ebp
  0000d	89 45 fc	 mov	 DWORD PTR __$ArrayPad$[ebp], eax
  00010	56		 push	 esi
  00011	8b 75 0c	 mov	 esi, DWORD PTR _lpChatData$[ebp]

; 1235 : 	EXSDHP_SERVERGROUP_UNION_CHATTING_SEND pMsg = {0};

  00014	8d 45 ad	 lea	 eax, DWORD PTR _pMsg$[ebp+1]
  00017	6a 4f		 push	 79			; 0000004fH
  00019	6a 00		 push	 0
  0001b	50		 push	 eax
  0001c	e8 00 00 00 00	 call	 _memset

; 1236 : 
; 1237 : 	pMsg.h.set((LPBYTE)&pMsg, 0x51, sizeof(pMsg));
; 1238 : 	pMsg.iUnionNum = iUnionNum;
; 1239 : 	memcpy(pMsg.szCharacterName, lpChatData->chatid, sizeof(pMsg.szCharacterName));

  00021	f3 0f 7e 46 03	 movq	 xmm0, QWORD PTR [esi+3]
  00026	83 c4 0c	 add	 esp, 12			; 0000000cH
  00029	8b 45 08	 mov	 eax, DWORD PTR _iUnionNum$[ebp]

; 1241 : 
; 1242 : 	wsExDbCli.DataSend((PCHAR)&pMsg, pMsg.h.size);

  0002c	b9 00 00 00 00	 mov	 ecx, OFFSET ?wsExDbCli@@3VwsJoinServerCli@@A ; wsExDbCli
  00031	66 0f d6 45 b4	 movq	 QWORD PTR _pMsg$[ebp+8], xmm0
  00036	0f 10 46 0d	 movups	 xmm0, XMMWORD PTR [esi+13]
  0003a	89 45 b0	 mov	 DWORD PTR _pMsg$[ebp+4], eax
  0003d	66 8b 46 0b	 mov	 ax, WORD PTR [esi+11]
  00041	0f 11 45 be	 movups	 XMMWORD PTR _pMsg$[ebp+18], xmm0
  00045	66 89 45 bc	 mov	 WORD PTR _pMsg$[ebp+16], ax
  00049	0f 10 46 1d	 movups	 xmm0, XMMWORD PTR [esi+29]
  0004d	8b 46 45	 mov	 eax, DWORD PTR [esi+69]
  00050	89 45 f6	 mov	 DWORD PTR _pMsg$[ebp+74], eax
  00053	8d 45 ac	 lea	 eax, DWORD PTR _pMsg$[ebp]
  00056	0f 11 45 ce	 movups	 XMMWORD PTR _pMsg$[ebp+34], xmm0
  0005a	6a 50		 push	 80			; 00000050H
  0005c	0f 10 46 2d	 movups	 xmm0, XMMWORD PTR [esi+45]
  00060	50		 push	 eax
; File c:\users\michel\desktop\source\gameserver\include\prodef.h

; 86   : 		lpBuf[0] = 0xC1;

  00061	66 c7 45 ac c1
	50		 mov	 WORD PTR _pMsg$[ebp], 20673 ; 000050c1H
; File c:\users\michel\desktop\source\gameserver\source\edsprotocol.cpp

; 1240 : 	memcpy(pMsg.szChattingMsg, lpChatData->chatmsg, sizeof(pMsg.szChattingMsg));

  00067	0f 11 45 de	 movups	 XMMWORD PTR _pMsg$[ebp+50], xmm0
; File c:\users\michel\desktop\source\gameserver\include\prodef.h

; 88   : 		lpBuf[2] = head;

  0006b	c6 45 ae 51	 mov	 BYTE PTR _pMsg$[ebp+2], 81 ; 00000051H
; File c:\users\michel\desktop\source\gameserver\source\edsprotocol.cpp

; 1240 : 	memcpy(pMsg.szChattingMsg, lpChatData->chatmsg, sizeof(pMsg.szChattingMsg));

  0006f	f3 0f 7e 46 3d	 movq	 xmm0, QWORD PTR [esi+61]
  00074	66 0f d6 45 ee	 movq	 QWORD PTR _pMsg$[ebp+66], xmm0

; 1241 : 
; 1242 : 	wsExDbCli.DataSend((PCHAR)&pMsg, pMsg.h.size);

  00079	e8 00 00 00 00	 call	 ?DataSend@wsJoinServerCli@@QAEHPADH@Z ; wsJoinServerCli::DataSend

; 1243 : }

  0007e	8b 4d fc	 mov	 ecx, DWORD PTR __$ArrayPad$[ebp]
  00081	33 cd		 xor	 ecx, ebp
  00083	5e		 pop	 esi
  00084	e8 00 00 00 00	 call	 @__security_check_cookie@4
  00089	8b e5		 mov	 esp, ebp
  0008b	5d		 pop	 ebp
  0008c	c3		 ret	 0
?GDUnionServerGroupChattingSend@@YAXHPAUPMSG_CHATDATA@@@Z ENDP ; GDUnionServerGroupChattingSend
_TEXT	ENDS
; Function compile flags: /Ogtp
; File c:\users\michel\desktop\source\gameserver\source\edsprotocol.cpp
; File c:\users\michel\desktop\source\gameserver\include\prodef.h
; File c:\users\michel\desktop\source\gameserver\source\edsprotocol.cpp
;	COMDAT ?DGGuildServerGroupChattingRecv@@YAXPAUEXSDHP_SERVERGROUP_GUILD_CHATTING_RECV@@@Z
_TEXT	SEGMENT
tv284 = -128						; size = 4
tv289 = -124						; size = 4
_pMsg$ = -120						; size = 113
__$ArrayPad$ = -4					; size = 4
_lpMsg$ = 8						; size = 4
?DGGuildServerGroupChattingRecv@@YAXPAUEXSDHP_SERVERGROUP_GUILD_CHATTING_RECV@@@Z PROC ; DGGuildServerGroupChattingRecv, COMDAT

; 1186 : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	81 ec 80 00 00
	00		 sub	 esp, 128		; 00000080H
  00009	a1 00 00 00 00	 mov	 eax, DWORD PTR ___security_cookie
  0000e	33 c5		 xor	 eax, ebp
  00010	89 45 fc	 mov	 DWORD PTR __$ArrayPad$[ebp], eax
  00013	53		 push	 ebx
  00014	8b 5d 08	 mov	 ebx, DWORD PTR _lpMsg$[ebp]

; 1187 : 	PMSG_CHATDATA pMsg ={0};

  00017	8d 45 89	 lea	 eax, DWORD PTR _pMsg$[ebp+1]
  0001a	56		 push	 esi
  0001b	57		 push	 edi
  0001c	6a 70		 push	 112			; 00000070H
  0001e	6a 00		 push	 0
  00020	50		 push	 eax
  00021	e8 00 00 00 00	 call	 _memset

; 1188 : 
; 1189 : 	pMsg.h.set((LPBYTE)&pMsg, 0x00, sizeof(pMsg));
; 1190 : 	memcpy(pMsg.chatid, lpMsg->szCharacterName, sizeof(pMsg.chatid));

  00026	f3 0f 7e 43 08	 movq	 xmm0, QWORD PTR [ebx+8]

; 1191 : 	memcpy(pMsg.chatmsg, lpMsg->szChattingMsg, sizeof(pMsg.chatmsg));

  0002b	8d 73 12	 lea	 esi, DWORD PTR [ebx+18]
  0002e	66 8b 43 10	 mov	 ax, WORD PTR [ebx+16]
  00032	8d 7d 95	 lea	 edi, DWORD PTR _pMsg$[ebp+13]
  00035	83 c4 0c	 add	 esp, 12			; 0000000cH
; File c:\users\michel\desktop\source\gameserver\include\prodef.h

; 86   : 		lpBuf[0] = 0xC1;

  00038	66 c7 45 88 c1
	71		 mov	 WORD PTR _pMsg$[ebp], 29121 ; 000071c1H

; 87   : 		lpBuf[1] = size;
; 88   : 		lpBuf[2] = head;

  0003e	c6 45 8a 00	 mov	 BYTE PTR _pMsg$[ebp+2], 0
; File c:\users\michel\desktop\source\gameserver\source\edsprotocol.cpp

; 1191 : 	memcpy(pMsg.chatmsg, lpMsg->szChattingMsg, sizeof(pMsg.chatmsg));

  00042	b9 19 00 00 00	 mov	 ecx, 25			; 00000019H
  00047	66 0f d6 45 8b	 movq	 QWORD PTR _pMsg$[ebp+3], xmm0
  0004c	66 89 45 93	 mov	 WORD PTR _pMsg$[ebp+11], ax

; 1192 : 	_GUILD_INFO_STRUCT * lpGuildInfo = Guild.SearchGuild_Number(lpMsg->iGuildNum);

  00050	ff 73 04	 push	 DWORD PTR [ebx+4]
  00053	f3 a5		 rep movsd
  00055	b9 00 00 00 00	 mov	 ecx, OFFSET ?Guild@@3VCGuildClass@@A ; Guild
  0005a	e8 00 00 00 00	 call	 ?SearchGuild_Number@CGuildClass@@QAEPAU_GUILD_INFO_STRUCT@@H@Z ; CGuildClass::SearchGuild_Number

; 1193 : 
; 1194 : 	if ( lpGuildInfo == NULL )

  0005f	85 c0		 test	 eax, eax
  00061	0f 84 8e 00 00
	00		 je	 $LN3@DGGuildSer

; 1195 : 		return;
; 1196 : 
; 1197 : 	int iUserIndex = -1;
; 1198 : 
; 1199 : 	if ( lpGuildInfo->Count >= 0 )
; 1200 : 	{
; 1201 : 		for ( int i=0;i<MAX_USER_GUILD;i++)

  00067	8d 90 a0 03 00
	00		 lea	 edx, DWORD PTR [eax+928]
  0006d	33 f6		 xor	 esi, esi
  0006f	8d 78 2f	 lea	 edi, DWORD PTR [eax+47]
  00072	89 55 80	 mov	 DWORD PTR tv284[ebp], edx
  00075	05 40 04 00 00	 add	 eax, 1088		; 00000440H
  0007a	89 45 84	 mov	 DWORD PTR tv289[ebp], eax
  0007d	0f 1f 00	 npad	 3
$LL4@DGGuildSer:

; 1202 : 		{
; 1203 : 			if ( lpGuildInfo->Use[i] != FALSE )

  00080	80 3c 30 00	 cmp	 BYTE PTR [eax+esi], 0
  00084	74 60		 je	 SHORT $LN2@DGGuildSer

; 1204 : 			{
; 1205 : 				iUserIndex = lpGuildInfo->Index[i];

  00086	0f bf 1a	 movsx	 ebx, WORD PTR [edx]

; 1206 : 
; 1207 : 				if ( iUserIndex >= 0 )

  00089	85 db		 test	 ebx, ebx
  0008b	78 59		 js	 SHORT $LN2@DGGuildSer

; 1208 : 				{
; 1209 : 					if ( lpGuildInfo->Names[i][0] == gObj[iUserIndex].Name[0] )

  0008d	a1 00 00 00 00	 mov	 eax, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  00092	69 cb 40 27 00
	00		 imul	 ecx, ebx, 10048
  00098	83 c0 5d	 add	 eax, 93			; 0000005dH
  0009b	03 c1		 add	 eax, ecx
  0009d	8a 0f		 mov	 cl, BYTE PTR [edi]
  0009f	3a 08		 cmp	 cl, BYTE PTR [eax]
  000a1	75 40		 jne	 SHORT $LN23@DGGuildSer

; 1210 : 					{
; 1211 : 						if ( !strcmp(lpGuildInfo->Names[i], gObj[iUserIndex].Name ))

  000a3	8b cf		 mov	 ecx, edi
$LL18@DGGuildSer:
  000a5	8a 11		 mov	 dl, BYTE PTR [ecx]
  000a7	3a 10		 cmp	 dl, BYTE PTR [eax]
  000a9	75 1a		 jne	 SHORT $LN19@DGGuildSer
  000ab	84 d2		 test	 dl, dl
  000ad	74 12		 je	 SHORT $LN20@DGGuildSer
  000af	8a 51 01	 mov	 dl, BYTE PTR [ecx+1]
  000b2	3a 50 01	 cmp	 dl, BYTE PTR [eax+1]
  000b5	75 0e		 jne	 SHORT $LN19@DGGuildSer
  000b7	83 c1 02	 add	 ecx, 2
  000ba	83 c0 02	 add	 eax, 2
  000bd	84 d2		 test	 dl, dl
  000bf	75 e4		 jne	 SHORT $LL18@DGGuildSer
$LN20@DGGuildSer:
  000c1	33 c0		 xor	 eax, eax
  000c3	eb 05		 jmp	 SHORT $LN21@DGGuildSer
$LN19@DGGuildSer:
  000c5	1b c0		 sbb	 eax, eax
  000c7	83 c8 01	 or	 eax, 1
$LN21@DGGuildSer:
  000ca	85 c0		 test	 eax, eax
  000cc	75 12		 jne	 SHORT $LN22@DGGuildSer

; 1212 : 						{
; 1213 : 							DataSend(iUserIndex, (LPBYTE)&pMsg, pMsg.h.size);

  000ce	0f b6 45 89	 movzx	 eax, BYTE PTR _pMsg$[ebp+1]
  000d2	50		 push	 eax
  000d3	8d 45 88	 lea	 eax, DWORD PTR _pMsg$[ebp]
  000d6	50		 push	 eax
  000d7	53		 push	 ebx
  000d8	e8 00 00 00 00	 call	 ?DataSend@@YAHHPAEK@Z	; DataSend
  000dd	83 c4 0c	 add	 esp, 12			; 0000000cH
$LN22@DGGuildSer:
  000e0	8b 55 80	 mov	 edx, DWORD PTR tv284[ebp]
$LN23@DGGuildSer:
  000e3	8b 45 84	 mov	 eax, DWORD PTR tv289[ebp]
$LN2@DGGuildSer:

; 1195 : 		return;
; 1196 : 
; 1197 : 	int iUserIndex = -1;
; 1198 : 
; 1199 : 	if ( lpGuildInfo->Count >= 0 )
; 1200 : 	{
; 1201 : 		for ( int i=0;i<MAX_USER_GUILD;i++)

  000e6	46		 inc	 esi
  000e7	83 c2 02	 add	 edx, 2
  000ea	83 c7 0b	 add	 edi, 11			; 0000000bH
  000ed	89 55 80	 mov	 DWORD PTR tv284[ebp], edx
  000f0	83 fe 50	 cmp	 esi, 80			; 00000050H
  000f3	7c 8b		 jl	 SHORT $LL4@DGGuildSer
$LN3@DGGuildSer:

; 1214 : 						}
; 1215 : 					}
; 1216 : 				}
; 1217 : 			}
; 1218 : 		}
; 1219 : 	}
; 1220 : }

  000f5	8b 4d fc	 mov	 ecx, DWORD PTR __$ArrayPad$[ebp]
  000f8	5f		 pop	 edi
  000f9	5e		 pop	 esi
  000fa	33 cd		 xor	 ecx, ebp
  000fc	5b		 pop	 ebx
  000fd	e8 00 00 00 00	 call	 @__security_check_cookie@4
  00102	8b e5		 mov	 esp, ebp
  00104	5d		 pop	 ebp
  00105	c3		 ret	 0
?DGGuildServerGroupChattingRecv@@YAXPAUEXSDHP_SERVERGROUP_GUILD_CHATTING_RECV@@@Z ENDP ; DGGuildServerGroupChattingRecv
_TEXT	ENDS
; Function compile flags: /Ogtp
; File c:\users\michel\desktop\source\gameserver\source\edsprotocol.cpp
; File c:\users\michel\desktop\source\gameserver\include\prodef.h
; File c:\users\michel\desktop\source\gameserver\source\edsprotocol.cpp
; File c:\users\michel\desktop\source\gameserver\include\prodef.h
; File c:\users\michel\desktop\source\gameserver\source\edsprotocol.cpp
;	COMDAT ?GDGuildServerGroupChattingSend@@YAXHPAUPMSG_CHATDATA@@@Z
_TEXT	SEGMENT
_pMsg$ = -84						; size = 80
__$ArrayPad$ = -4					; size = 4
_iGuildNum$ = 8						; size = 4
_lpChatData$ = 12					; size = 4
?GDGuildServerGroupChattingSend@@YAXHPAUPMSG_CHATDATA@@@Z PROC ; GDGuildServerGroupChattingSend, COMDAT

; 1173 : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	83 ec 54	 sub	 esp, 84			; 00000054H
  00006	a1 00 00 00 00	 mov	 eax, DWORD PTR ___security_cookie
  0000b	33 c5		 xor	 eax, ebp
  0000d	89 45 fc	 mov	 DWORD PTR __$ArrayPad$[ebp], eax
  00010	56		 push	 esi
  00011	8b 75 0c	 mov	 esi, DWORD PTR _lpChatData$[ebp]

; 1174 : 	EXSDHP_SERVERGROUP_GUILD_CHATTING_SEND pMsg = {0};

  00014	8d 45 ad	 lea	 eax, DWORD PTR _pMsg$[ebp+1]
  00017	6a 4f		 push	 79			; 0000004fH
  00019	6a 00		 push	 0
  0001b	50		 push	 eax
  0001c	e8 00 00 00 00	 call	 _memset

; 1175 : 
; 1176 : 	pMsg.h.set((LPBYTE)&pMsg, 0x50, sizeof(EXSDHP_SERVERGROUP_GUILD_CHATTING_SEND));
; 1177 : 	pMsg.iGuildNum = iGuildNum;
; 1178 : 	memcpy(pMsg.szCharacterName, lpChatData->chatid, sizeof(pMsg.szCharacterName));

  00021	f3 0f 7e 46 03	 movq	 xmm0, QWORD PTR [esi+3]
  00026	83 c4 0c	 add	 esp, 12			; 0000000cH
  00029	8b 45 08	 mov	 eax, DWORD PTR _iGuildNum$[ebp]

; 1180 : 
; 1181 : 	wsExDbCli.DataSend((char*)&pMsg, pMsg.h.size);

  0002c	b9 00 00 00 00	 mov	 ecx, OFFSET ?wsExDbCli@@3VwsJoinServerCli@@A ; wsExDbCli
  00031	66 0f d6 45 b4	 movq	 QWORD PTR _pMsg$[ebp+8], xmm0
  00036	0f 10 46 0d	 movups	 xmm0, XMMWORD PTR [esi+13]
  0003a	89 45 b0	 mov	 DWORD PTR _pMsg$[ebp+4], eax
  0003d	66 8b 46 0b	 mov	 ax, WORD PTR [esi+11]
  00041	0f 11 45 be	 movups	 XMMWORD PTR _pMsg$[ebp+18], xmm0
  00045	66 89 45 bc	 mov	 WORD PTR _pMsg$[ebp+16], ax
  00049	0f 10 46 1d	 movups	 xmm0, XMMWORD PTR [esi+29]
  0004d	8b 46 45	 mov	 eax, DWORD PTR [esi+69]
  00050	89 45 f6	 mov	 DWORD PTR _pMsg$[ebp+74], eax
  00053	8d 45 ac	 lea	 eax, DWORD PTR _pMsg$[ebp]
  00056	0f 11 45 ce	 movups	 XMMWORD PTR _pMsg$[ebp+34], xmm0
  0005a	6a 50		 push	 80			; 00000050H
  0005c	0f 10 46 2d	 movups	 xmm0, XMMWORD PTR [esi+45]
  00060	50		 push	 eax
; File c:\users\michel\desktop\source\gameserver\include\prodef.h

; 86   : 		lpBuf[0] = 0xC1;

  00061	66 c7 45 ac c1
	50		 mov	 WORD PTR _pMsg$[ebp], 20673 ; 000050c1H
; File c:\users\michel\desktop\source\gameserver\source\edsprotocol.cpp

; 1179 : 	memcpy(pMsg.szChattingMsg, lpChatData->chatmsg, sizeof(pMsg.szChattingMsg));

  00067	0f 11 45 de	 movups	 XMMWORD PTR _pMsg$[ebp+50], xmm0
; File c:\users\michel\desktop\source\gameserver\include\prodef.h

; 88   : 		lpBuf[2] = head;

  0006b	c6 45 ae 50	 mov	 BYTE PTR _pMsg$[ebp+2], 80 ; 00000050H
; File c:\users\michel\desktop\source\gameserver\source\edsprotocol.cpp

; 1179 : 	memcpy(pMsg.szChattingMsg, lpChatData->chatmsg, sizeof(pMsg.szChattingMsg));

  0006f	f3 0f 7e 46 3d	 movq	 xmm0, QWORD PTR [esi+61]
  00074	66 0f d6 45 ee	 movq	 QWORD PTR _pMsg$[ebp+66], xmm0

; 1180 : 
; 1181 : 	wsExDbCli.DataSend((char*)&pMsg, pMsg.h.size);

  00079	e8 00 00 00 00	 call	 ?DataSend@wsJoinServerCli@@QAEHPADH@Z ; wsJoinServerCli::DataSend

; 1182 : }

  0007e	8b 4d fc	 mov	 ecx, DWORD PTR __$ArrayPad$[ebp]
  00081	33 cd		 xor	 ecx, ebp
  00083	5e		 pop	 esi
  00084	e8 00 00 00 00	 call	 @__security_check_cookie@4
  00089	8b e5		 mov	 esp, ebp
  0008b	5d		 pop	 ebp
  0008c	c3		 ret	 0
?GDGuildServerGroupChattingSend@@YAXHPAUPMSG_CHATDATA@@@Z ENDP ; GDGuildServerGroupChattingSend
_TEXT	ENDS
; Function compile flags: /Ogtp
; File c:\users\michel\desktop\source\gameserver\source\edsprotocol.cpp
;	COMDAT ?DGGuildListState@@YAXPAUSDHP_GUILDLISTSTATE@@@Z
_TEXT	SEGMENT
_lpMsg$ = 8						; size = 4
?DGGuildListState@@YAXPAUSDHP_GUILDLISTSTATE@@@Z PROC	; DGGuildListState, COMDAT

; 1132 : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	57		 push	 edi

; 1133 : 	switch ( lpMsg->State )

  00004	8b 7d 08	 mov	 edi, DWORD PTR _lpMsg$[ebp]
  00007	0f b6 47 03	 movzx	 eax, BYTE PTR [edi+3]
  0000b	83 e8 00	 sub	 eax, 0
  0000e	74 35		 je	 SHORT $LN4@DGGuildLis
  00010	83 e8 01	 sub	 eax, 1
  00013	75 2d		 jne	 SHORT $LN5@DGGuildLis

; 1146 : 			}
; 1147 : 			break;
; 1148 : 
; 1149 : 		case 1:
; 1150 : 			if ( IsWindow(GuildListhDlg) != FALSE )

  00015	ff 35 00 00 00
	00		 push	 DWORD PTR ?GuildListhDlg@@3PAUHWND__@@A ; GuildListhDlg
  0001b	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__IsWindow@4
  00021	85 c0		 test	 eax, eax
  00023	74 1d		 je	 SHORT $LN5@DGGuildLis

; 1151 : 			{
; 1152 : 				EndDialog(GuildListhDlg, 0);

  00025	6a 00		 push	 0
  00027	ff 35 00 00 00
	00		 push	 DWORD PTR ?GuildListhDlg@@3PAUHWND__@@A ; GuildListhDlg
  0002d	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__EndDialog@8

; 1153 : 				GameServerInfoSendStart();

  00033	e8 00 00 00 00	 call	 ?GameServerInfoSendStart@@YAXXZ ; GameServerInfoSendStart

; 1154 : 				GuildListhDlg = NULL;

  00038	c7 05 00 00 00
	00 00 00 00 00	 mov	 DWORD PTR ?GuildListhDlg@@3PAUHWND__@@A, 0 ; GuildListhDlg
$LN5@DGGuildLis:
  00042	5f		 pop	 edi

; 1155 : 			}
; 1156 : 			break;
; 1157 : 	}
; 1158 : 
; 1159 : }

  00043	5d		 pop	 ebp
  00044	c3		 ret	 0
$LN4@DGGuildLis:

; 1134 : 	{
; 1135 : 		case 0:
; 1136 : 			if ( IsWindow(GuildListhDlg) == FALSE )

  00045	ff 35 00 00 00
	00		 push	 DWORD PTR ?GuildListhDlg@@3PAUHWND__@@A ; GuildListhDlg
  0004b	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__IsWindow@4
  00051	85 c0		 test	 eax, eax
  00053	75 ed		 jne	 SHORT $LN5@DGGuildLis

; 1137 : 			{
; 1138 : 				GuildListhDlg = CreateDialogParam(NULL, (LPCTSTR)IDD_GUILD_LIST_STATE, ghWnd, (DLGPROC)GuildListDlgProc, 0);

  00055	50		 push	 eax
  00056	68 00 00 00 00	 push	 OFFSET ?GuildListDlgProc@@YGHPAUHWND__@@IIJ@Z ; GuildListDlgProc
  0005b	ff 35 00 00 00
	00		 push	 DWORD PTR ?ghWnd@@3PAUHWND__@@A ; ghWnd
  00061	68 8d 00 00 00	 push	 141			; 0000008dH
  00066	50		 push	 eax
  00067	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__CreateDialogParamA@20

; 1139 : 				ShowWindow(GuildListhDlg, SW_SHOW);

  0006d	6a 05		 push	 5
  0006f	50		 push	 eax
  00070	a3 00 00 00 00	 mov	 DWORD PTR ?GuildListhDlg@@3PAUHWND__@@A, eax ; GuildListhDlg
  00075	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__ShowWindow@8

; 1140 : 				GuildListhPrs = GetDlgItem(GuildListhDlg, IDP_PROGRESS_BAR);

  0007b	68 e8 03 00 00	 push	 1000			; 000003e8H
  00080	ff 35 00 00 00
	00		 push	 DWORD PTR ?GuildListhDlg@@3PAUHWND__@@A ; GuildListhDlg
  00086	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__GetDlgItem@8
  0008c	a3 00 00 00 00	 mov	 DWORD PTR ?GuildListhPrs@@3PAUHWND__@@A, eax ; GuildListhPrs

; 1141 : 				SendMessage(GuildListhPrs, 0x401, 0, (((lpMsg->Count & 0xFFFF)&0xFFFF)<<16));

  00091	8b 4f 04	 mov	 ecx, DWORD PTR [edi+4]
  00094	c1 e1 10	 shl	 ecx, 16			; 00000010H
  00097	51		 push	 ecx
  00098	6a 00		 push	 0
  0009a	68 01 04 00 00	 push	 1025			; 00000401H
  0009f	50		 push	 eax
  000a0	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__SendMessageA@16

; 1142 : 				gGuildListTotal = lpMsg->Count;

  000a6	8b 47 04	 mov	 eax, DWORD PTR [edi+4]

; 1143 : 				SendMessage(GuildListhPrs, 0x404, 1, 0);

  000a9	6a 00		 push	 0
  000ab	6a 01		 push	 1
  000ad	68 04 04 00 00	 push	 1028			; 00000404H
  000b2	ff 35 00 00 00
	00		 push	 DWORD PTR ?GuildListhPrs@@3PAUHWND__@@A ; GuildListhPrs
  000b8	a3 00 00 00 00	 mov	 DWORD PTR ?gGuildListTotal@@3HA, eax ; gGuildListTotal
  000bd	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__SendMessageA@16

; 1144 : 				gGuildListCount = 0;

  000c3	c7 05 00 00 00
	00 00 00 00 00	 mov	 DWORD PTR ?gGuildListCount@@3HA, 0 ; gGuildListCount
  000cd	5f		 pop	 edi

; 1155 : 			}
; 1156 : 			break;
; 1157 : 	}
; 1158 : 
; 1159 : }

  000ce	5d		 pop	 ebp

; 1145 : 				GameServerInfoSendStop();

  000cf	e9 00 00 00 00	 jmp	 ?GameServerInfoSendStop@@YAXXZ ; GameServerInfoSendStop
?DGGuildListState@@YAXPAUSDHP_GUILDLISTSTATE@@@Z ENDP	; DGGuildListState
_TEXT	ENDS
; Function compile flags: /Ogtp
; File c:\users\michel\desktop\source\gameserver\source\edsprotocol.cpp
;	COMDAT ?GuildListDlgProc@@YGHPAUHWND__@@IIJ@Z
_TEXT	SEGMENT
_hDlg$ = 8						; size = 4
_iMsg$ = 12						; size = 4
_wParam$ = 16						; size = 4
_lParam$ = 20						; size = 4
?GuildListDlgProc@@YGHPAUHWND__@@IIJ@Z PROC		; GuildListDlgProc, COMDAT

; 1109 : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp

; 1110 : 	switch (iMsg)

  00003	81 7d 0c 11 01
	00 00		 cmp	 DWORD PTR _iMsg$[ebp], 273 ; 00000111H
  0000a	75 1e		 jne	 SHORT $LN9@GuildListD

; 1111 : 	{
; 1112 : 		case 273:
; 1113 : 
; 1114 : 			switch ( wParam )

  0000c	83 6d 10 02	 sub	 DWORD PTR _wParam$[ebp], 2
  00010	75 18		 jne	 SHORT $LN9@GuildListD

; 1115 : 			{
; 1116 : 				case 2:
; 1117 : 					EndDialog(GuildListhDlg, 0);

  00012	6a 00		 push	 0
  00014	ff 35 00 00 00
	00		 push	 DWORD PTR ?GuildListhDlg@@3PAUHWND__@@A ; GuildListhDlg
  0001a	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__EndDialog@8

; 1118 : 					GuildListhDlg = NULL;

  00020	c7 05 00 00 00
	00 00 00 00 00	 mov	 DWORD PTR ?GuildListhDlg@@3PAUHWND__@@A, 0 ; GuildListhDlg
$LN9@GuildListD:

; 1119 : 					break;
; 1120 : 			}
; 1121 : 			break;
; 1122 : 	}
; 1123 : 
; 1124 : 	return 0;

  0002a	33 c0		 xor	 eax, eax

; 1125 : }

  0002c	5d		 pop	 ebp
  0002d	c2 10 00	 ret	 16			; 00000010H
?GuildListDlgProc@@YGHPAUHWND__@@IIJ@Z ENDP		; GuildListDlgProc
_TEXT	ENDS
; Function compile flags: /Ogtp
; File c:\users\michel\desktop\source\gameserver\source\edsprotocol.cpp
;	COMDAT ?DGGuildList@@YAXPAUSDHP_GUILDCREATED@@@Z
_TEXT	SEGMENT
_szTemp$ = -260						; size = 256
__$ArrayPad$ = -4					; size = 4
_lpMsg$ = 8						; size = 4
?DGGuildList@@YAXPAUSDHP_GUILDCREATED@@@Z PROC		; DGGuildList, COMDAT

; 1088 : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	81 ec 04 01 00
	00		 sub	 esp, 260		; 00000104H
  00009	a1 00 00 00 00	 mov	 eax, DWORD PTR ___security_cookie
  0000e	33 c5		 xor	 eax, ebp
  00010	89 45 fc	 mov	 DWORD PTR __$ArrayPad$[ebp], eax
  00013	56		 push	 esi
  00014	8b 75 08	 mov	 esi, DWORD PTR _lpMsg$[ebp]
  00017	57		 push	 edi

; 1089 : 	MessageBox(NULL,"A","A",NULL);

  00018	6a 00		 push	 0
  0001a	68 00 00 00 00	 push	 OFFSET ??_C@_01FHEEJDEE@A?$AA@
  0001f	68 00 00 00 00	 push	 OFFSET ??_C@_01FHEEJDEE@A?$AA@
  00024	6a 00		 push	 0
  00026	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__MessageBoxA@16

; 1090 : 
; 1091 : 	char szTemp[256];
; 1092 : 
; 1093 : 	Guild.AddGuild(lpMsg->Number, lpMsg->GuildName, lpMsg->Mark, lpMsg->Master, lpMsg->score);

  0002c	ff 76 3c	 push	 DWORD PTR [esi+60]
  0002f	8d 46 0f	 lea	 eax, DWORD PTR [esi+15]
  00032	b9 00 00 00 00	 mov	 ecx, OFFSET ?Guild@@3VCGuildClass@@A ; Guild
  00037	50		 push	 eax
  00038	8d 46 1a	 lea	 eax, DWORD PTR [esi+26]
  0003b	50		 push	 eax
  0003c	0f b7 46 04	 movzx	 eax, WORD PTR [esi+4]
  00040	8d 7e 06	 lea	 edi, DWORD PTR [esi+6]
  00043	57		 push	 edi
  00044	50		 push	 eax
  00045	e8 00 00 00 00	 call	 ?AddGuild@CGuildClass@@QAEPAU_GUILD_INFO_STRUCT@@HPADPAE0H@Z ; CGuildClass::AddGuild

; 1094 : 
; 1095 : 	if ( GuildListhDlg != NULL )

  0004a	83 3d 00 00 00
	00 00		 cmp	 DWORD PTR ?GuildListhDlg@@3PAUHWND__@@A, 0 ; GuildListhDlg
  00051	74 59		 je	 SHORT $LN2@DGGuildLis

; 1096 : 	{
; 1097 : 		SendMessage(::GuildListhPrs, 0x402, gGuildListCount, 0);

  00053	6a 00		 push	 0
  00055	ff 35 00 00 00
	00		 push	 DWORD PTR ?gGuildListCount@@3HA ; gGuildListCount
  0005b	68 02 04 00 00	 push	 1026			; 00000402H
  00060	ff 35 00 00 00
	00		 push	 DWORD PTR ?GuildListhPrs@@3PAUHWND__@@A ; GuildListhPrs
  00066	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__SendMessageA@16

; 1098 : 		gGuildListCount++;
; 1099 : 		wsprintf(szTemp, "%8s [%d / %d]", lpMsg->GuildName, gGuildListCount, gGuildListTotal);

  0006c	ff 35 00 00 00
	00		 push	 DWORD PTR ?gGuildListTotal@@3HA ; gGuildListTotal
  00072	a1 00 00 00 00	 mov	 eax, DWORD PTR ?gGuildListCount@@3HA ; gGuildListCount
  00077	40		 inc	 eax
  00078	50		 push	 eax
  00079	57		 push	 edi
  0007a	a3 00 00 00 00	 mov	 DWORD PTR ?gGuildListCount@@3HA, eax ; gGuildListCount
  0007f	8d 85 fc fe ff
	ff		 lea	 eax, DWORD PTR _szTemp$[ebp]
  00085	68 00 00 00 00	 push	 OFFSET ??_C@_0O@BNCDNIJM@?$CF8s?5?$FL?$CFd?5?1?5?$CFd?$FN?$AA@
  0008a	50		 push	 eax
  0008b	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__wsprintfA
  00091	83 c4 14	 add	 esp, 20			; 00000014H

; 1100 : 		SetDlgItemText(GuildListhDlg, IDS_CURRENT_GUILD_NAME, szTemp);

  00094	8d 85 fc fe ff
	ff		 lea	 eax, DWORD PTR _szTemp$[ebp]
  0009a	50		 push	 eax
  0009b	68 e9 03 00 00	 push	 1001			; 000003e9H
  000a0	ff 35 00 00 00
	00		 push	 DWORD PTR ?GuildListhDlg@@3PAUHWND__@@A ; GuildListhDlg
  000a6	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__SetDlgItemTextA@12
$LN2@DGGuildLis:

; 1101 : 	}
; 1102 : }

  000ac	8b 4d fc	 mov	 ecx, DWORD PTR __$ArrayPad$[ebp]
  000af	5f		 pop	 edi
  000b0	33 cd		 xor	 ecx, ebp
  000b2	5e		 pop	 esi
  000b3	e8 00 00 00 00	 call	 @__security_check_cookie@4
  000b8	8b e5		 mov	 esp, ebp
  000ba	5d		 pop	 ebp
  000bb	c3		 ret	 0
?DGGuildList@@YAXPAUSDHP_GUILDCREATED@@@Z ENDP		; DGGuildList
_TEXT	ENDS
; Function compile flags: /Ogtp
; File c:\users\michel\desktop\source\gameserver\source\edsprotocol.cpp
; File c:\users\michel\desktop\source\gameserver\include\prodef.h
; File c:\users\michel\desktop\source\gameserver\source\edsprotocol.cpp
; File c:\users\michel\desktop\source\gameserver\include\prodef.h
; File c:\users\michel\desktop\source\gameserver\source\edsprotocol.cpp
;	COMDAT ?DGGuildListRequest@@YAXXZ
_TEXT	SEGMENT
_pMsg$ = -4						; size = 3
?DGGuildListRequest@@YAXXZ PROC				; DGGuildListRequest, COMDAT

; 1071 : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	51		 push	 ecx

; 1076 : 	wsExDbCli.DataSend((char*)&pMsg, pMsg.h.size);

  00004	6a 03		 push	 3
  00006	8d 45 fc	 lea	 eax, DWORD PTR _pMsg$[ebp]
; File c:\users\michel\desktop\source\gameserver\include\prodef.h

; 86   : 		lpBuf[0] = 0xC1;

  00009	66 c7 45 fc c1
	03		 mov	 WORD PTR _pMsg$[ebp], 961 ; 000003c1H
; File c:\users\michel\desktop\source\gameserver\source\edsprotocol.cpp

; 1076 : 	wsExDbCli.DataSend((char*)&pMsg, pMsg.h.size);

  0000f	50		 push	 eax
  00010	b9 00 00 00 00	 mov	 ecx, OFFSET ?wsExDbCli@@3VwsJoinServerCli@@A ; wsExDbCli
; File c:\users\michel\desktop\source\gameserver\include\prodef.h

; 88   : 		lpBuf[2] = head;

  00015	c6 45 fe 40	 mov	 BYTE PTR _pMsg$[ebp+2], 64 ; 00000040H
; File c:\users\michel\desktop\source\gameserver\source\edsprotocol.cpp

; 1076 : 	wsExDbCli.DataSend((char*)&pMsg, pMsg.h.size);

  00019	e8 00 00 00 00	 call	 ?DataSend@wsJoinServerCli@@QAEHPADH@Z ; wsJoinServerCli::DataSend

; 1077 : }

  0001e	8b e5		 mov	 esp, ebp
  00020	5d		 pop	 ebp
  00021	c3		 ret	 0
?DGGuildListRequest@@YAXXZ ENDP				; DGGuildListRequest
_TEXT	ENDS
; Function compile flags: /Ogtp
; File c:\users\michel\desktop\source\gameserver\source\edsprotocol.cpp
;	COMDAT ?DGGuildNoticeRecv@@YAXPAUSDHP_GUILDNOTICE@@@Z
_TEXT	SEGMENT
_lpNode$1$ = 8						; size = 4
_lpMsg$ = 8						; size = 4
?DGGuildNoticeRecv@@YAXPAUSDHP_GUILDNOTICE@@@Z PROC	; DGGuildNoticeRecv, COMDAT

; 1041 : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	53		 push	 ebx

; 1042 : 	_GUILD_INFO_STRUCT * lpNode = Guild.SearchGuild(lpMsg->GuildName);

  00004	8b 5d 08	 mov	 ebx, DWORD PTR _lpMsg$[ebp]
  00007	b9 00 00 00 00	 mov	 ecx, OFFSET ?Guild@@3VCGuildClass@@A ; Guild
  0000c	57		 push	 edi
  0000d	8d 7b 03	 lea	 edi, DWORD PTR [ebx+3]
  00010	57		 push	 edi
  00011	e8 00 00 00 00	 call	 ?SearchGuild@CGuildClass@@QAEPAU_GUILD_INFO_STRUCT@@PAD@Z ; CGuildClass::SearchGuild
  00016	89 45 08	 mov	 DWORD PTR _lpNode$1$[ebp], eax

; 1043 : 
; 1044 : 	if ( lpNode == NULL )

  00019	85 c0		 test	 eax, eax
  0001b	74 72		 je	 SHORT $LN3@DGGuildNot

; 1045 : 	{
; 1046 : 		return;
; 1047 : 	}
; 1048 : 
; 1049 : 	memset(lpNode->Notice, 0, sizeof(lpNode->Notice));

  0001d	56		 push	 esi
  0001e	6a 64		 push	 100			; 00000064H
  00020	8d b0 9c 05 00
	00		 lea	 esi, DWORD PTR [eax+1436]
  00026	6a 00		 push	 0
  00028	56		 push	 esi
  00029	e8 00 00 00 00	 call	 _memset

; 1050 : 	strncpy(lpNode->Notice, lpMsg->szGuildNotice,(sizeof(lpNode->Notice)-1));

  0002e	6a 63		 push	 99			; 00000063H
  00030	83 c3 0c	 add	 ebx, 12			; 0000000cH
  00033	53		 push	 ebx
  00034	56		 push	 esi
  00035	e8 00 00 00 00	 call	 _strncpy
  0003a	83 c4 18	 add	 esp, 24			; 00000018H

; 1051 : 	LogAddTD(lMsg.Get(MSGGET(1, 188)), lpMsg->GuildName, lpMsg->szGuildNotice);

  0003d	b9 00 00 00 00	 mov	 ecx, OFFSET ?lMsg@@3VMessage@@A ; lMsg
  00042	53		 push	 ebx
  00043	57		 push	 edi
  00044	68 bc 01 00 00	 push	 444			; 000001bcH
  00049	e8 00 00 00 00	 call	 ?Get@Message@@QAEPADH@Z	; Message::Get
  0004e	50		 push	 eax
  0004f	ff 15 00 00 00
	00		 call	 DWORD PTR ?LogAddTD@@3P6AXPADZZA ; LogAddTD
  00055	8b 45 08	 mov	 eax, DWORD PTR _lpNode$1$[ebp]
  00058	83 c4 0c	 add	 esp, 12			; 0000000cH

; 1052 : 
; 1053 : 	for ( int n=0;n<MAX_USER_GUILD;n++)

  0005b	33 f6		 xor	 esi, esi
  0005d	8d b8 a0 03 00
	00		 lea	 edi, DWORD PTR [eax+928]
$LL4@DGGuildNot:

; 1054 : 	{
; 1055 : 		if ( lpNode->Use[n] > 0 && lpNode->Index[n] >= 0 )

  00063	80 bc 30 40 04
	00 00 00	 cmp	 BYTE PTR [eax+esi+1088], 0
  0006b	76 18		 jbe	 SHORT $LN2@DGGuildNot
  0006d	0f b7 07	 movzx	 eax, WORD PTR [edi]
  00070	66 85 c0	 test	 ax, ax
  00073	78 0d		 js	 SHORT $LN12@DGGuildNot

; 1056 : 		{
; 1057 : 			GCServerMsgStringSend(lpMsg->szGuildNotice, lpNode->Index[n], 2);

  00075	6a 02		 push	 2
  00077	98		 cwde
  00078	50		 push	 eax
  00079	53		 push	 ebx
  0007a	e8 00 00 00 00	 call	 ?GCServerMsgStringSend@@YAXPADHE@Z ; GCServerMsgStringSend
  0007f	83 c4 0c	 add	 esp, 12			; 0000000cH
$LN12@DGGuildNot:
  00082	8b 45 08	 mov	 eax, DWORD PTR _lpNode$1$[ebp]
$LN2@DGGuildNot:

; 1052 : 
; 1053 : 	for ( int n=0;n<MAX_USER_GUILD;n++)

  00085	46		 inc	 esi
  00086	83 c7 02	 add	 edi, 2
  00089	83 fe 50	 cmp	 esi, 80			; 00000050H
  0008c	7c d5		 jl	 SHORT $LL4@DGGuildNot
  0008e	5e		 pop	 esi
$LN3@DGGuildNot:
  0008f	5f		 pop	 edi
  00090	5b		 pop	 ebx

; 1058 : 		}
; 1059 : 	}
; 1060 : }

  00091	5d		 pop	 ebp
  00092	c3		 ret	 0
?DGGuildNoticeRecv@@YAXPAUSDHP_GUILDNOTICE@@@Z ENDP	; DGGuildNoticeRecv
_TEXT	ENDS
; Function compile flags: /Ogtp
; File c:\users\michel\desktop\source\gameserver\source\edsprotocol.cpp
;	COMDAT ?GDGuildNoticeSave@@YAXPAD0@Z
_TEXT	SEGMENT
_pMsg$ = -116						; size = 112
__$ArrayPad$ = -4					; size = 4
_guild_name$ = 8					; size = 4
_guild_notice$ = 12					; size = 4
?GDGuildNoticeSave@@YAXPAD0@Z PROC			; GDGuildNoticeSave, COMDAT

; 1007 : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	83 ec 74	 sub	 esp, 116		; 00000074H
  00006	a1 00 00 00 00	 mov	 eax, DWORD PTR ___security_cookie
  0000b	33 c5		 xor	 eax, ebp
  0000d	89 45 fc	 mov	 DWORD PTR __$ArrayPad$[ebp], eax

; 1008 : 	SDHP_GUILDNOTICE pMsg;
; 1009 : 
; 1010 : 	int len = strlen((char*)guild_notice);

  00010	8b 4d 0c	 mov	 ecx, DWORD PTR _guild_notice$[ebp]
  00013	8b d1		 mov	 edx, ecx
  00015	56		 push	 esi
  00016	8d 72 01	 lea	 esi, DWORD PTR [edx+1]
  00019	0f 1f 80 00 00
	00 00		 npad	 7
$LL23@GDGuildNot:
  00020	8a 02		 mov	 al, BYTE PTR [edx]
  00022	42		 inc	 edx
  00023	84 c0		 test	 al, al
  00025	75 f9		 jne	 SHORT $LL23@GDGuildNot
  00027	2b d6		 sub	 edx, esi

; 1011 : 
; 1012 : 	if ( len < 1 )

  00029	83 fa 01	 cmp	 edx, 1
  0002c	7c 65		 jl	 SHORT $LN1@GDGuildNot

; 1013 : 	{
; 1014 : 		return;
; 1015 : 	}
; 1016 : 
; 1017 : 	for(int i = 0; i < len;i++)

  0002e	33 c0		 xor	 eax, eax
  00030	53		 push	 ebx
  00031	85 d2		 test	 edx, edx
  00033	7e 12		 jle	 SHORT $LN3@GDGuildNot
$LL4@GDGuildNot:

; 1018 : 	{
; 1019 : 		if(guild_notice[i] == '\'' || guild_notice[i] == '"')

  00035	8a 1c 08	 mov	 bl, BYTE PTR [eax+ecx]
  00038	80 fb 27	 cmp	 bl, 39			; 00000027H
  0003b	74 55		 je	 SHORT $LN24@GDGuildNot
  0003d	80 fb 22	 cmp	 bl, 34			; 00000022H
  00040	74 50		 je	 SHORT $LN24@GDGuildNot

; 1013 : 	{
; 1014 : 		return;
; 1015 : 	}
; 1016 : 
; 1017 : 	for(int i = 0; i < len;i++)

  00042	40		 inc	 eax
  00043	3b c2		 cmp	 eax, edx
  00045	7c ee		 jl	 SHORT $LL4@GDGuildNot
$LN3@GDGuildNot:

; 1020 : 			return;
; 1021 : 	}
; 1022 : 
; 1023 : 	if ( len > MAX_CHAT_LEN-2 )

  00047	83 fa 58	 cmp	 edx, 88			; 00000058H
  0004a	7f 46		 jg	 SHORT $LN24@GDGuildNot

; 1024 : 	{
; 1025 : 		return;
; 1026 : 	}
; 1027 : 
; 1028 : 	pMsg.h.c = 0xC1;
; 1029 : 	pMsg.h.headcode = 0x38;
; 1030 : 	pMsg.h.size = sizeof(SDHP_GUILDNOTICE);
; 1031 : 	strcpy(pMsg.GuildName, guild_name);

  0004c	8b 55 08	 mov	 edx, DWORD PTR _guild_name$[ebp]
  0004f	8d 75 8f	 lea	 esi, DWORD PTR _pMsg$[ebp+3]
  00052	66 c7 45 8c c1
	70		 mov	 WORD PTR _pMsg$[ebp], 28865 ; 000070c1H
  00058	2b f2		 sub	 esi, edx
  0005a	c6 45 8e 38	 mov	 BYTE PTR _pMsg$[ebp+2], 56 ; 00000038H
  0005e	66 90		 npad	 2
$LL10@GDGuildNot:
  00060	8a 02		 mov	 al, BYTE PTR [edx]
  00062	8d 52 01	 lea	 edx, DWORD PTR [edx+1]
  00065	88 44 16 ff	 mov	 BYTE PTR [esi+edx-1], al
  00069	84 c0		 test	 al, al
  0006b	75 f3		 jne	 SHORT $LL10@GDGuildNot

; 1032 : 	strcpy(pMsg.szGuildNotice, guild_notice);

  0006d	8d 55 98	 lea	 edx, DWORD PTR _pMsg$[ebp+12]
  00070	2b d1		 sub	 edx, ecx
$LL11@GDGuildNot:
  00072	8a 01		 mov	 al, BYTE PTR [ecx]
  00074	8d 49 01	 lea	 ecx, DWORD PTR [ecx+1]
  00077	88 44 0a ff	 mov	 BYTE PTR [edx+ecx-1], al
  0007b	84 c0		 test	 al, al
  0007d	75 f3		 jne	 SHORT $LL11@GDGuildNot

; 1033 : 
; 1034 : 	wsExDbCli.DataSend((char*)&pMsg, pMsg.h.size);

  0007f	0f b6 45 8d	 movzx	 eax, BYTE PTR _pMsg$[ebp+1]
  00083	b9 00 00 00 00	 mov	 ecx, OFFSET ?wsExDbCli@@3VwsJoinServerCli@@A ; wsExDbCli
  00088	50		 push	 eax
  00089	8d 45 8c	 lea	 eax, DWORD PTR _pMsg$[ebp]
  0008c	50		 push	 eax
  0008d	e8 00 00 00 00	 call	 ?DataSend@wsJoinServerCli@@QAEHPADH@Z ; wsJoinServerCli::DataSend
$LN24@GDGuildNot:
  00092	5b		 pop	 ebx
$LN1@GDGuildNot:

; 1035 : }

  00093	8b 4d fc	 mov	 ecx, DWORD PTR __$ArrayPad$[ebp]
  00096	33 cd		 xor	 ecx, ebp
  00098	5e		 pop	 esi
  00099	e8 00 00 00 00	 call	 @__security_check_cookie@4
  0009e	8b e5		 mov	 esp, ebp
  000a0	5d		 pop	 ebp
  000a1	c3		 ret	 0
?GDGuildNoticeSave@@YAXPAD0@Z ENDP			; GDGuildNoticeSave
_TEXT	ENDS
; Function compile flags: /Ogtp
; File c:\users\michel\desktop\source\gameserver\source\edsprotocol.cpp
;	COMDAT ?GDGuildScoreUpdateRecv@@YAXPAUSDHP_GUILDSCOREUPDATE@@@Z
_TEXT	SEGMENT
_lpMsg$ = 8						; size = 4
?GDGuildScoreUpdateRecv@@YAXPAUSDHP_GUILDSCOREUPDATE@@@Z PROC ; GDGuildScoreUpdateRecv, COMDAT

; 978  : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	56		 push	 esi

; 979  : 	_GUILD_INFO_STRUCT * lpNode = Guild.SearchGuild(lpMsg->GuildName);

  00004	8b 75 08	 mov	 esi, DWORD PTR _lpMsg$[ebp]
  00007	b9 00 00 00 00	 mov	 ecx, OFFSET ?Guild@@3VCGuildClass@@A ; Guild
  0000c	57		 push	 edi
  0000d	8d 7e 03	 lea	 edi, DWORD PTR [esi+3]
  00010	57		 push	 edi
  00011	e8 00 00 00 00	 call	 ?SearchGuild@CGuildClass@@QAEPAU_GUILD_INFO_STRUCT@@PAD@Z ; CGuildClass::SearchGuild

; 980  : 
; 981  : 	if ( lpNode == NULL )

  00016	85 c0		 test	 eax, eax
  00018	74 26		 je	 SHORT $LN1@GDGuildSco

; 982  : 	{
; 983  : 		return;
; 984  : 	}
; 985  : 
; 986  : 	lpNode->TotalScore = lpMsg->Score;

  0001a	8b 4e 0c	 mov	 ecx, DWORD PTR [esi+12]
  0001d	89 88 98 05 00
	00		 mov	 DWORD PTR [eax+1432], ecx

; 987  : 	LogAdd(lMsg.Get(MSGGET(1, 187)), lpMsg->GuildName, lpMsg->Score);

  00023	b9 00 00 00 00	 mov	 ecx, OFFSET ?lMsg@@3VMessage@@A ; lMsg
  00028	ff 76 0c	 push	 DWORD PTR [esi+12]
  0002b	57		 push	 edi
  0002c	68 bb 01 00 00	 push	 443			; 000001bbH
  00031	e8 00 00 00 00	 call	 ?Get@Message@@QAEPADH@Z	; Message::Get
  00036	50		 push	 eax
  00037	ff 15 00 00 00
	00		 call	 DWORD PTR ?LogAdd@@3P6AXPADZZA ; LogAdd
  0003d	83 c4 0c	 add	 esp, 12			; 0000000cH
$LN1@GDGuildSco:
  00040	5f		 pop	 edi
  00041	5e		 pop	 esi

; 988  : }

  00042	5d		 pop	 ebp
  00043	c3		 ret	 0
?GDGuildScoreUpdateRecv@@YAXPAUSDHP_GUILDSCOREUPDATE@@@Z ENDP ; GDGuildScoreUpdateRecv
_TEXT	ENDS
; Function compile flags: /Ogtp
; File c:\users\michel\desktop\source\gameserver\source\edsprotocol.cpp
; File c:\users\michel\desktop\source\gameserver\include\prodef.h
; File c:\users\michel\desktop\source\gameserver\source\edsprotocol.cpp
; File c:\users\michel\desktop\source\gameserver\include\prodef.h
; File c:\users\michel\desktop\source\gameserver\source\edsprotocol.cpp
;	COMDAT ?DGGuildScoreUpdate@@YAXPADH@Z
_TEXT	SEGMENT
_pMsg$ = -20						; size = 16
__$ArrayPad$ = -4					; size = 4
_guildname$ = 8						; size = 4
_score$ = 12						; size = 4
?DGGuildScoreUpdate@@YAXPADH@Z PROC			; DGGuildScoreUpdate, COMDAT

; 962  : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	83 ec 14	 sub	 esp, 20			; 00000014H
  00006	a1 00 00 00 00	 mov	 eax, DWORD PTR ___security_cookie
  0000b	33 c5		 xor	 eax, ebp
  0000d	89 45 fc	 mov	 DWORD PTR __$ArrayPad$[ebp], eax
  00010	56		 push	 esi
  00011	8b 75 08	 mov	 esi, DWORD PTR _guildname$[ebp]

; 967  : 	strcpy(pMsg.GuildName, guildname);

  00014	8d 55 ef	 lea	 edx, DWORD PTR _pMsg$[ebp+3]
  00017	57		 push	 edi
  00018	8b 7d 0c	 mov	 edi, DWORD PTR _score$[ebp]
  0001b	8b c6		 mov	 eax, esi
; File c:\users\michel\desktop\source\gameserver\include\prodef.h

; 86   : 		lpBuf[0] = 0xC1;

  0001d	66 c7 45 ec c1
	10		 mov	 WORD PTR _pMsg$[ebp], 4289 ; 000010c1H
; File c:\users\michel\desktop\source\gameserver\source\edsprotocol.cpp

; 967  : 	strcpy(pMsg.GuildName, guildname);

  00023	2b d6		 sub	 edx, esi
; File c:\users\michel\desktop\source\gameserver\include\prodef.h

; 88   : 		lpBuf[2] = head;

  00025	c6 45 ee 37	 mov	 BYTE PTR _pMsg$[ebp+2], 55 ; 00000037H
; File c:\users\michel\desktop\source\gameserver\source\edsprotocol.cpp

; 966  : 	pMsg.Score = score;

  00029	89 7d f8	 mov	 DWORD PTR _pMsg$[ebp+12], edi
  0002c	0f 1f 40 00	 npad	 4
$LL3@DGGuildSco:

; 967  : 	strcpy(pMsg.GuildName, guildname);

  00030	8a 08		 mov	 cl, BYTE PTR [eax]
  00032	8d 40 01	 lea	 eax, DWORD PTR [eax+1]
  00035	88 4c 02 ff	 mov	 BYTE PTR [edx+eax-1], cl
  00039	84 c9		 test	 cl, cl
  0003b	75 f3		 jne	 SHORT $LL3@DGGuildSco

; 968  : 
; 969  : 	wsExDbCli.DataSend((char*)&pMsg, pMsg.h.size);

  0003d	0f b6 45 ed	 movzx	 eax, BYTE PTR _pMsg$[ebp+1]
  00041	b9 00 00 00 00	 mov	 ecx, OFFSET ?wsExDbCli@@3VwsJoinServerCli@@A ; wsExDbCli
  00046	50		 push	 eax
  00047	8d 45 ec	 lea	 eax, DWORD PTR _pMsg$[ebp]
  0004a	50		 push	 eax
  0004b	e8 00 00 00 00	 call	 ?DataSend@wsJoinServerCli@@QAEHPADH@Z ; wsJoinServerCli::DataSend

; 970  : 
; 971  : 	LogAdd(lMsg.Get(MSGGET(1, 186)), guildname, score);

  00050	57		 push	 edi
  00051	56		 push	 esi
  00052	68 ba 01 00 00	 push	 442			; 000001baH
  00057	b9 00 00 00 00	 mov	 ecx, OFFSET ?lMsg@@3VMessage@@A ; lMsg
  0005c	e8 00 00 00 00	 call	 ?Get@Message@@QAEPADH@Z	; Message::Get
  00061	50		 push	 eax
  00062	ff 15 00 00 00
	00		 call	 DWORD PTR ?LogAdd@@3P6AXPADZZA ; LogAdd

; 972  : }

  00068	8b 4d fc	 mov	 ecx, DWORD PTR __$ArrayPad$[ebp]
  0006b	83 c4 0c	 add	 esp, 12			; 0000000cH
  0006e	33 cd		 xor	 ecx, ebp
  00070	5f		 pop	 edi
  00071	5e		 pop	 esi
  00072	e8 00 00 00 00	 call	 @__security_check_cookie@4
  00077	8b e5		 mov	 esp, ebp
  00079	5d		 pop	 ebp
  0007a	c3		 ret	 0
?DGGuildScoreUpdate@@YAXPADH@Z ENDP			; DGGuildScoreUpdate
_TEXT	ENDS
; Function compile flags: /Ogtp
; File c:\users\michel\desktop\source\gameserver\source\edsprotocol.cpp
;	COMDAT ?DGGuildMasterListRecv@@YAXPAE@Z
_TEXT	SEGMENT
_szMasterName$ = -28					; size = 11
_szGuildName$ = -16					; size = 9
__$ArrayPad$ = -4					; size = 4
_lpData$ = 8						; size = 4
?DGGuildMasterListRecv@@YAXPAE@Z PROC			; DGGuildMasterListRecv, COMDAT

; 908  : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	83 ec 1c	 sub	 esp, 28			; 0000001cH
  00006	a1 00 00 00 00	 mov	 eax, DWORD PTR ___security_cookie
  0000b	33 c5		 xor	 eax, ebp
  0000d	89 45 fc	 mov	 DWORD PTR __$ArrayPad$[ebp], eax
  00010	53		 push	 ebx
  00011	8b 5d 08	 mov	 ebx, DWORD PTR _lpData$[ebp]

; 909  : 	SDHP_GUILDALL_COUNT * lpCount;
; 910  : 	SDHP_GUILDALL * lpList;
; 911  : 	int lOfs = sizeof(SDHP_GUILDALL_COUNT);
; 912  : 	char szGuildName[MAX_GUILD_LEN+1];
; 913  : 	char szMasterName[MAX_ACCOUNT_LEN+1];
; 914  : 
; 915  : 	memset(szMasterName, 0, sizeof(szMasterName));
; 916  : 	memset(szGuildName, 0, sizeof(szGuildName));
; 917  : 	lpCount = (SDHP_GUILDALL_COUNT *)lpData;
; 918  : 	memcpy(szGuildName, lpCount->GuildName, sizeof(lpCount->GuildName)-1);
; 919  : 	memcpy(szMasterName, lpCount->Master, sizeof(lpCount->Master)-1);
; 920  : 
; 921  : 	if ( strlen(szGuildName) < 1 )

  00014	8d 4d f0	 lea	 ecx, DWORD PTR _szGuildName$[ebp]
  00017	0f 57 c0	 xorps	 xmm0, xmm0
  0001a	66 c7 45 ec 00
	00		 mov	 WORD PTR _szMasterName$[ebp+8], 0
  00020	66 0f d6 45 f0	 movq	 QWORD PTR _szGuildName$[ebp], xmm0
  00025	8d 51 01	 lea	 edx, DWORD PTR [ecx+1]
  00028	66 0f d6 45 e4	 movq	 QWORD PTR _szMasterName$[ebp], xmm0
  0002d	8b 43 08	 mov	 eax, DWORD PTR [ebx+8]
  00030	f3 0f 7e 43 11	 movq	 xmm0, QWORD PTR [ebx+17]
  00035	89 45 f0	 mov	 DWORD PTR _szGuildName$[ebp], eax
  00038	8b 43 0c	 mov	 eax, DWORD PTR [ebx+12]
  0003b	89 45 f4	 mov	 DWORD PTR _szGuildName$[ebp+4], eax
  0003e	66 8b 43 19	 mov	 ax, WORD PTR [ebx+25]
  00042	c6 45 ee 00	 mov	 BYTE PTR _szMasterName$[ebp+10], 0
  00046	c6 45 f8 00	 mov	 BYTE PTR _szGuildName$[ebp+8], 0
  0004a	66 0f d6 45 e4	 movq	 QWORD PTR _szMasterName$[ebp], xmm0
  0004f	66 89 45 ec	 mov	 WORD PTR _szMasterName$[ebp+8], ax
$LL15@DGGuildMas:
  00053	8a 01		 mov	 al, BYTE PTR [ecx]
  00055	41		 inc	 ecx
  00056	84 c0		 test	 al, al
  00058	75 f9		 jne	 SHORT $LL15@DGGuildMas
  0005a	2b ca		 sub	 ecx, edx
  0005c	83 f9 01	 cmp	 ecx, 1
  0005f	0f 82 cd 00 00
	00		 jb	 $LN16@DGGuildMas

; 922  : 	{
; 923  : 		return;
; 924  : 	}
; 925  : 
; 926  : 	if ( lpCount->Count < 1 )

  00065	80 7b 55 01	 cmp	 BYTE PTR [ebx+85], 1
  00069	0f 82 c3 00 00
	00		 jb	 $LN16@DGGuildMas

; 927  : 	{
; 928  : 		return;
; 929  : 	}
; 930  : 
; 931  : 	Guild.AddGuild(lpCount->Number, szGuildName, lpCount->Mark, szMasterName, lpCount->score);

  0006f	ff 73 3c	 push	 DWORD PTR [ebx+60]
  00072	8d 45 e4	 lea	 eax, DWORD PTR _szMasterName$[ebp]
  00075	b9 00 00 00 00	 mov	 ecx, OFFSET ?Guild@@3VCGuildClass@@A ; Guild
  0007a	50		 push	 eax
  0007b	8d 43 1c	 lea	 eax, DWORD PTR [ebx+28]
  0007e	50		 push	 eax
  0007f	8d 45 f0	 lea	 eax, DWORD PTR _szGuildName$[ebp]
  00082	50		 push	 eax
  00083	ff 73 04	 push	 DWORD PTR [ebx+4]
  00086	e8 00 00 00 00	 call	 ?AddGuild@CGuildClass@@QAEPAU_GUILD_INFO_STRUCT@@HPADPAE0H@Z ; CGuildClass::AddGuild

; 932  : 	Guild.SetGuildType(szGuildName, lpCount->btGuildType);

  0008b	0f b6 43 40	 movzx	 eax, BYTE PTR [ebx+64]
  0008f	b9 00 00 00 00	 mov	 ecx, OFFSET ?Guild@@3VCGuildClass@@A ; Guild
  00094	50		 push	 eax
  00095	8d 45 f0	 lea	 eax, DWORD PTR _szGuildName$[ebp]
  00098	50		 push	 eax
  00099	e8 00 00 00 00	 call	 ?SetGuildType@CGuildClass@@QAEHPADH@Z ; CGuildClass::SetGuildType

; 933  : 
; 934  : 	_GUILD_INFO_STRUCT * lpGuild = Guild.SearchGuild_Number(lpCount->Number);

  0009e	ff 73 04	 push	 DWORD PTR [ebx+4]
  000a1	b9 00 00 00 00	 mov	 ecx, OFFSET ?Guild@@3VCGuildClass@@A ; Guild
  000a6	e8 00 00 00 00	 call	 ?SearchGuild_Number@CGuildClass@@QAEPAU_GUILD_INFO_STRUCT@@H@Z ; CGuildClass::SearchGuild_Number
  000ab	8b d0		 mov	 edx, eax

; 935  : 
; 936  : 	if ( lpGuild != NULL )

  000ad	85 d2		 test	 edx, edx
  000af	74 24		 je	 SHORT $LN7@DGGuildMas

; 937  : 	{
; 938  : 		lpGuild->iGuildUnion = lpCount->iGuildUnion;

  000b1	8b 4b 44	 mov	 ecx, DWORD PTR [ebx+68]
  000b4	89 8a 44 07 00
	00		 mov	 DWORD PTR [edx+1860], ecx

; 939  : 		lpGuild->iGuildRival = lpCount->iGuildRival;

  000ba	8b 4b 48	 mov	 ecx, DWORD PTR [ebx+72]
  000bd	89 8a 48 07 00
	00		 mov	 DWORD PTR [edx+1864], ecx

; 940  : 		memcpy(lpGuild->szGuildRivalName, lpCount->szGuildRivalName, sizeof(lpCount->szGuildRivalName)-1);

  000c3	8b 4b 4c	 mov	 ecx, DWORD PTR [ebx+76]
  000c6	89 8a 50 07 00
	00		 mov	 DWORD PTR [edx+1872], ecx
  000cc	8b 43 50	 mov	 eax, DWORD PTR [ebx+80]
  000cf	89 82 54 07 00
	00		 mov	 DWORD PTR [edx+1876], eax
$LN7@DGGuildMas:

; 941  : 	}
; 942  : 
; 943  : 	for ( int n=0;n<lpCount->Count;n++)

  000d5	0f b6 4b 55	 movzx	 ecx, BYTE PTR [ebx+85]
  000d9	57		 push	 edi
  000da	33 ff		 xor	 edi, edi
  000dc	85 c9		 test	 ecx, ecx
  000de	7e 51		 jle	 SHORT $LN17@DGGuildMas
  000e0	56		 push	 esi
  000e1	8d 73 63	 lea	 esi, DWORD PTR [ebx+99]
  000e4	0f 1f 40 00 0f
	1f 84 00 00 00
	00 00		 npad	 12
$LL4@DGGuildMas:

; 944  : 	{
; 945  : 		lpList = (SDHP_GUILDALL *)&lpData[lOfs];
; 946  : 
; 947  : 		memcpy(szMasterName, lpList->MemberID, sizeof(lpList->MemberID)-1);

  000f0	f3 0f 7e 46 f5	 movq	 xmm0, QWORD PTR [esi-11]
  000f5	66 0f d6 45 e4	 movq	 QWORD PTR _szMasterName$[ebp], xmm0
  000fa	66 8b 46 fd	 mov	 ax, WORD PTR [esi-3]
  000fe	66 89 45 ec	 mov	 WORD PTR _szMasterName$[ebp+8], ax

; 948  : 		
; 949  : 		if ( Guild.AddMember(szGuildName, szMasterName, -1, lpCount->Count,lpList->btGuildStatus, lpList->pServer) == FALSE )

  00102	0f bf 46 01	 movsx	 eax, WORD PTR [esi+1]
  00106	50		 push	 eax
  00107	0f b6 06	 movzx	 eax, BYTE PTR [esi]
  0010a	50		 push	 eax
  0010b	51		 push	 ecx
  0010c	6a ff		 push	 -1
  0010e	8d 45 e4	 lea	 eax, DWORD PTR _szMasterName$[ebp]
  00111	b9 00 00 00 00	 mov	 ecx, OFFSET ?Guild@@3VCGuildClass@@A ; Guild
  00116	50		 push	 eax
  00117	8d 45 f0	 lea	 eax, DWORD PTR _szGuildName$[ebp]
  0011a	50		 push	 eax
  0011b	e8 00 00 00 00	 call	 ?AddMember@CGuildClass@@QAEPAU_GUILD_INFO_STRUCT@@PAD0HHHH@Z ; CGuildClass::AddMember
  00120	85 c0		 test	 eax, eax
  00122	74 0c		 je	 SHORT $LN18@DGGuildMas

; 941  : 	}
; 942  : 
; 943  : 	for ( int n=0;n<lpCount->Count;n++)

  00124	0f b6 4b 55	 movzx	 ecx, BYTE PTR [ebx+85]
  00128	47		 inc	 edi

; 950  : 		{
; 951  : 			break;
; 952  : 		}
; 953  : 
; 954  : 		lOfs += sizeof(SDHP_GUILDALL);

  00129	83 c6 0e	 add	 esi, 14			; 0000000eH
  0012c	3b f9		 cmp	 edi, ecx
  0012e	7c c0		 jl	 SHORT $LL4@DGGuildMas
$LN18@DGGuildMas:
  00130	5e		 pop	 esi
$LN17@DGGuildMas:
  00131	5f		 pop	 edi
$LN16@DGGuildMas:

; 955  : 	}
; 956  : }

  00132	8b 4d fc	 mov	 ecx, DWORD PTR __$ArrayPad$[ebp]
  00135	33 cd		 xor	 ecx, ebp
  00137	5b		 pop	 ebx
  00138	e8 00 00 00 00	 call	 @__security_check_cookie@4
  0013d	8b e5		 mov	 esp, ebp
  0013f	5d		 pop	 ebp
  00140	c3		 ret	 0
?DGGuildMasterListRecv@@YAXPAE@Z ENDP			; DGGuildMasterListRecv
_TEXT	ENDS
; Function compile flags: /Ogtp
; File c:\users\michel\desktop\source\gameserver\source\edsprotocol.cpp
;	COMDAT ?DGGuildMemberInfo@@YAXPAUSDHP_GUILDMEMBER_INFO@@@Z
_TEXT	SEGMENT
_pMsg$ = -308						; size = 12
tv512 = -296						; size = 4
tv218 = -296						; size = 4
_pGVCount$1 = -296					; size = 5
_lpMsg$GSCopy$1$ = -288					; size = 4
tv501 = -288						; size = 4
tv471 = -288						; size = 4
_GuildInfoBuf$ = -284					; size = 256
_szName$ = -28						; size = 11
_szGuildName$ = -16					; size = 9
__$ArrayPad$ = -4					; size = 4
_lpMsg$ = 8						; size = 4
?DGGuildMemberInfo@@YAXPAUSDHP_GUILDMEMBER_INFO@@@Z PROC ; DGGuildMemberInfo, COMDAT

; 757  : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	81 ec 34 01 00
	00		 sub	 esp, 308		; 00000134H
  00009	a1 00 00 00 00	 mov	 eax, DWORD PTR ___security_cookie
  0000e	33 c5		 xor	 eax, ebp
  00010	89 45 fc	 mov	 DWORD PTR __$ArrayPad$[ebp], eax
  00013	53		 push	 ebx
  00014	8b 5d 08	 mov	 ebx, DWORD PTR _lpMsg$[ebp]
  00017	8d 85 e4 fe ff
	ff		 lea	 eax, DWORD PTR _GuildInfoBuf$[ebp]
  0001d	56		 push	 esi
  0001e	57		 push	 edi
  0001f	68 00 01 00 00	 push	 256			; 00000100H
  00024	6a 00		 push	 0
  00026	50		 push	 eax
  00027	89 9d e0 fe ff
	ff		 mov	 DWORD PTR _lpMsg$GSCopy$1$[ebp], ebx
  0002d	e8 00 00 00 00	 call	 _memset

; 758  : 	BYTE GuildUserBuf[256] = {0};
; 759  : 	BYTE GuildInfoBuf[256] = {0};
; 760  : 	PMSG_SIMPLE_GUILDVIEWPORT pMsg;
; 761  : 	char szGuildName[MAX_GUILD_LEN+1];
; 762  : 	char szName[MAX_ACCOUNT_LEN+1];
; 763  : 	
; 764  : 	szGuildName[MAX_GUILD_LEN] = 0;
; 765  : 	szName[MAX_ACCOUNT_LEN] = 0;
; 766  : 	memcpy(szGuildName, lpMsg->GuildName, MAX_GUILD_LEN);

  00032	8b 43 03	 mov	 eax, DWORD PTR [ebx+3]

; 767  : 	memcpy(szName, lpMsg->MemberID, MAX_ACCOUNT_LEN);

  00035	8d 7b 0c	 lea	 edi, DWORD PTR [ebx+12]
  00038	f3 0f 7e 07	 movq	 xmm0, QWORD PTR [edi]
  0003c	83 c4 0c	 add	 esp, 12			; 0000000cH
  0003f	8b 35 00 00 00
	00		 mov	 esi, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  00045	89 45 f0	 mov	 DWORD PTR _szGuildName$[ebp], eax
  00048	81 c6 5d dd 49
	06		 add	 esi, 105504093		; 0649dd5dH
  0004e	8b 43 07	 mov	 eax, DWORD PTR [ebx+7]

; 768  : 
; 769  : 	int GuildInfoOfs = sizeof(PMSG_SIMPLE_GUILDVIEWPORT_COUNT);
; 770  : 	int GuildUserOfs = sizeof(PMSG_SIMPLE_GUILDVIEWPORT_COUNT);
; 771  : 
; 772  : 	for ( int n=OBJ_STARTUSERINDEX;n<OBJMAX;n++)

  00051	bb 04 29 00 00	 mov	 ebx, 10500		; 00002904H
  00056	89 45 f4	 mov	 DWORD PTR _szGuildName$[ebp+4], eax
  00059	66 8b 47 08	 mov	 ax, WORD PTR [edi+8]
  0005d	c6 45 f8 00	 mov	 BYTE PTR _szGuildName$[ebp+8], 0
  00061	c6 45 ee 00	 mov	 BYTE PTR _szName$[ebp+10], 0
  00065	66 0f d6 45 e4	 movq	 QWORD PTR _szName$[ebp], xmm0
  0006a	66 89 45 ec	 mov	 WORD PTR _szName$[ebp+8], ax
  0006e	66 90		 npad	 2
$LL4@DGGuildMem:

; 773  : 	{
; 774  : 		if ( gObj[n].Connected > PLAYER_LOGGED )

  00070	83 7e a7 02	 cmp	 DWORD PTR [esi-89], 2
  00074	7e 33		 jle	 SHORT $LN2@DGGuildMem

; 775  : 		{
; 776  : 			if ( gObj[n].Name[0] == lpMsg->MemberID[0] )

  00076	8a 06		 mov	 al, BYTE PTR [esi]
  00078	3a 07		 cmp	 al, BYTE PTR [edi]
  0007a	75 2d		 jne	 SHORT $LN2@DGGuildMem

; 777  : 			{
; 778  : 				if ( strcmp(lpMsg->MemberID, gObj[n].Name ) == 0 )

  0007c	8b c6		 mov	 eax, esi
  0007e	8b cf		 mov	 ecx, edi
$LL32@DGGuildMem:
  00080	8a 11		 mov	 dl, BYTE PTR [ecx]
  00082	3a 10		 cmp	 dl, BYTE PTR [eax]
  00084	75 1a		 jne	 SHORT $LN33@DGGuildMem
  00086	84 d2		 test	 dl, dl
  00088	74 12		 je	 SHORT $LN34@DGGuildMem
  0008a	8a 51 01	 mov	 dl, BYTE PTR [ecx+1]
  0008d	3a 50 01	 cmp	 dl, BYTE PTR [eax+1]
  00090	75 0e		 jne	 SHORT $LN33@DGGuildMem
  00092	83 c1 02	 add	 ecx, 2
  00095	83 c0 02	 add	 eax, 2
  00098	84 d2		 test	 dl, dl
  0009a	75 e4		 jne	 SHORT $LL32@DGGuildMem
$LN34@DGGuildMem:
  0009c	33 c0		 xor	 eax, eax
  0009e	eb 05		 jmp	 SHORT $LN35@DGGuildMem
$LN33@DGGuildMem:
  000a0	1b c0		 sbb	 eax, eax
  000a2	83 c8 01	 or	 eax, 1
$LN35@DGGuildMem:
  000a5	85 c0		 test	 eax, eax
  000a7	74 3d		 je	 SHORT $LN25@DGGuildMem
$LN2@DGGuildMem:

; 768  : 
; 769  : 	int GuildInfoOfs = sizeof(PMSG_SIMPLE_GUILDVIEWPORT_COUNT);
; 770  : 	int GuildUserOfs = sizeof(PMSG_SIMPLE_GUILDVIEWPORT_COUNT);
; 771  : 
; 772  : 	for ( int n=OBJ_STARTUSERINDEX;n<OBJMAX;n++)

  000a9	43		 inc	 ebx
  000aa	81 c6 40 27 00
	00		 add	 esi, 10048		; 00002740H
  000b0	81 fb ec 2c 00
	00		 cmp	 ebx, 11500		; 00002cecH
  000b6	7c b8		 jl	 SHORT $LL4@DGGuildMem

; 868  : 					}
; 869  : 
; 870  : 					return;
; 871  : 				}
; 872  : 			}
; 873  : 		}
; 874  : 	}
; 875  : 
; 876  : 	Guild.SetServer(szGuildName, szName, lpMsg->pServer);

  000b8	8b bd e0 fe ff
	ff		 mov	 edi, DWORD PTR _lpMsg$GSCopy$1$[ebp]
  000be	b9 00 00 00 00	 mov	 ecx, OFFSET ?Guild@@3VCGuildClass@@A ; Guild
  000c3	0f bf 47 1a	 movsx	 eax, WORD PTR [edi+26]
  000c7	50		 push	 eax
  000c8	8d 45 e4	 lea	 eax, DWORD PTR _szName$[ebp]
  000cb	50		 push	 eax
  000cc	8d 45 f0	 lea	 eax, DWORD PTR _szGuildName$[ebp]
  000cf	50		 push	 eax
  000d0	e8 00 00 00 00	 call	 ?SetServer@CGuildClass@@QAEHPAD0H@Z ; CGuildClass::SetServer
$LN1@DGGuildMem:
  000d5	5f		 pop	 edi
  000d6	5e		 pop	 esi
  000d7	5b		 pop	 ebx

; 877  : }

  000d8	8b 4d fc	 mov	 ecx, DWORD PTR __$ArrayPad$[ebp]
  000db	33 cd		 xor	 ecx, ebp
  000dd	e8 00 00 00 00	 call	 @__security_check_cookie@4
  000e2	8b e5		 mov	 esp, ebp
  000e4	5d		 pop	 ebp
  000e5	c3		 ret	 0
$LN25@DGGuildMem:

; 779  : 				{
; 780  : #if(GS_CASTLE == 1)
; 781  : 
; 782  : 					/*gObj[n].m_ViewSkillState &= 0xFFF3FFFF;
; 783  : 					gObj[n].m_ViewSkillState &= 0xFFBFFFFF;
; 784  : 					gObj[n].m_ViewSkillState &= 0xFF7FFFFF;*/
; 785  : 
; 786  : 					szGuildName[MAX_GUILD_LEN] = 0;
; 787  : 
; 788  : 					g_CastleSiege.GetCsJoinSide(szGuildName,&gObj[n].m_btCsJoinSide,&gObj[n].m_bCsGuildInvolved);

  000e6	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  000ec	69 f3 40 27 00
	00		 imul	 esi, ebx, 10048
  000f2	c6 45 f8 00	 mov	 BYTE PTR _szGuildName$[ebp+8], 0
  000f6	8d 81 5b 20 00
	00		 lea	 eax, DWORD PTR [ecx+8283]
  000fc	03 c6		 add	 eax, esi
  000fe	50		 push	 eax
  000ff	8d 81 5a 20 00
	00		 lea	 eax, DWORD PTR [ecx+8282]
  00105	b9 00 00 00 00	 mov	 ecx, OFFSET ?g_CastleSiege@@3VCCastleSiege@@A ; g_CastleSiege
  0010a	03 c6		 add	 eax, esi
  0010c	50		 push	 eax
  0010d	8d 45 f0	 lea	 eax, DWORD PTR _szGuildName$[ebp]
  00110	50		 push	 eax
  00111	e8 00 00 00 00	 call	 ?GetCsJoinSide@CCastleSiege@@QAEHPADPAE1@Z ; CCastleSiege::GetCsJoinSide

; 789  : 					g_CastleSiege.NotifySelfCsJoinSide(n);

  00116	53		 push	 ebx
  00117	b9 00 00 00 00	 mov	 ecx, OFFSET ?g_CastleSiege@@3VCCastleSiege@@A ; g_CastleSiege
  0011c	e8 00 00 00 00	 call	 ?NotifySelfCsJoinSide@CCastleSiege@@QAEXH@Z ; CCastleSiege::NotifySelfCsJoinSide

; 790  : 
; 791  : 
; 792  : #endif
; 793  : 					strcpy(gObj[n].GuildName, szGuildName);

  00121	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  00127	8d 4d f0	 lea	 ecx, DWORD PTR _szGuildName$[ebp]
  0012a	81 c2 1c 06 00
	00		 add	 edx, 1564		; 0000061cH
  00130	03 d6		 add	 edx, esi
$LL22@DGGuildMem:
  00132	8a 01		 mov	 al, BYTE PTR [ecx]
  00134	8d 49 01	 lea	 ecx, DWORD PTR [ecx+1]
  00137	88 02		 mov	 BYTE PTR [edx], al
  00139	8d 52 01	 lea	 edx, DWORD PTR [edx+1]
  0013c	84 c0		 test	 al, al
  0013e	75 f2		 jne	 SHORT $LL22@DGGuildMem

; 794  : 					gObj[n].lpGuild = Guild.SearchGuild(gObj[n].GuildName);

  00140	a1 00 00 00 00	 mov	 eax, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  00145	b9 00 00 00 00	 mov	 ecx, OFFSET ?Guild@@3VCGuildClass@@A ; Guild
  0014a	05 1c 06 00 00	 add	 eax, 1564		; 0000061cH
  0014f	03 c6		 add	 eax, esi
  00151	50		 push	 eax
  00152	e8 00 00 00 00	 call	 ?SearchGuild@CGuildClass@@QAEPAU_GUILD_INFO_STRUCT@@PAD@Z ; CGuildClass::SearchGuild
  00157	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  0015d	89 84 0e 18 06
	00 00		 mov	 DWORD PTR [esi+ecx+1560], eax

; 795  : 
; 796  : 					if ( gObj[n].lpGuild != NULL )

  00164	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  0016a	83 bc 31 18 06
	00 00 00	 cmp	 DWORD PTR [ecx+esi+1560], 0
  00172	0f 84 17 02 00
	00		 je	 $LN8@DGGuildMem

; 797  : 					{
; 798  : 						gObj[n].GuildStatus = lpMsg->btGuildStatus;

  00178	8b bd e0 fe ff
	ff		 mov	 edi, DWORD PTR _lpMsg$GSCopy$1$[ebp]
  0017e	0f b6 47 17	 movzx	 eax, BYTE PTR [edi+23]
  00182	89 84 31 28 06
	00 00		 mov	 DWORD PTR [ecx+esi+1576], eax

; 799  : 						gObj[n].GuildNumber = gObj[n].lpGuild->Number;

  00189	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  0018f	8b 84 31 18 06
	00 00		 mov	 eax, DWORD PTR [ecx+esi+1560]
  00196	8b 00		 mov	 eax, DWORD PTR [eax]
  00198	89 84 31 14 06
	00 00		 mov	 DWORD PTR [ecx+esi+1556], eax

; 800  : 						Guild.ConnectUser(gObj[n].lpGuild, lpMsg->GuildName, gObj[n].Name, n,  lpMsg->pServer);

  0019f	b9 00 00 00 00	 mov	 ecx, OFFSET ?Guild@@3VCGuildClass@@A ; Guild
  001a4	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  001aa	0f bf 47 1a	 movsx	 eax, WORD PTR [edi+26]
  001ae	50		 push	 eax
  001af	53		 push	 ebx
  001b0	8d 42 5d	 lea	 eax, DWORD PTR [edx+93]
  001b3	03 c6		 add	 eax, esi
  001b5	50		 push	 eax
  001b6	8d 47 03	 lea	 eax, DWORD PTR [edi+3]
  001b9	50		 push	 eax
  001ba	ff b4 32 18 06
	00 00		 push	 DWORD PTR [edx+esi+1560]
  001c1	e8 00 00 00 00	 call	 ?ConnectUser@CGuildClass@@QAEHPAU_GUILD_INFO_STRUCT@@PAD1HH@Z ; CGuildClass::ConnectUser

; 801  : 						/*gObj[n].lpGuild->Notice[MAX_GUILD_NOTICE_LEN-1] = 0;
; 802  : 						gObj[n].lpGuild->Notice[MAX_GUILD_NOTICE_LEN] = 0;*/
; 803  : 	
; 804  : 						if ( strlen(gObj[n].lpGuild->Notice) > 0 )

  001c6	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  001cc	8b bc 16 18 06
	00 00		 mov	 edi, DWORD PTR [esi+edx+1560]
  001d3	81 c7 9c 05 00
	00		 add	 edi, 1436		; 0000059cH
  001d9	8b cf		 mov	 ecx, edi
  001db	8d 41 01	 lea	 eax, DWORD PTR [ecx+1]
  001de	89 85 e0 fe ff
	ff		 mov	 DWORD PTR tv501[ebp], eax
$LL36@DGGuildMem:
  001e4	8a 01		 mov	 al, BYTE PTR [ecx]
  001e6	41		 inc	 ecx
  001e7	84 c0		 test	 al, al
  001e9	75 f9		 jne	 SHORT $LL36@DGGuildMem
  001eb	2b 8d e0 fe ff
	ff		 sub	 ecx, DWORD PTR tv501[ebp]
  001f1	74 12		 je	 SHORT $LN10@DGGuildMem

; 805  : 						{
; 806  : 							GCServerMsgStringSend(gObj[n].lpGuild->Notice, n, 2);

  001f3	6a 02		 push	 2
  001f5	53		 push	 ebx
  001f6	57		 push	 edi
  001f7	e8 00 00 00 00	 call	 ?GCServerMsgStringSend@@YAXPADHE@Z ; GCServerMsgStringSend
  001fc	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  00202	83 c4 0c	 add	 esp, 12			; 0000000cH
$LN10@DGGuildMem:

; 807  : 						}
; 808  : 
; 809  : 						LogAddTD("[U.System][Guild Status][Info] Guild : %s / [%s][%s] / %d",

  00205	ff b4 16 28 06
	00 00		 push	 DWORD PTR [esi+edx+1576]
  0020c	8d 45 e4	 lea	 eax, DWORD PTR _szName$[ebp]
  0020f	50		 push	 eax
  00210	8d 42 52	 lea	 eax, DWORD PTR [edx+82]
  00213	03 c6		 add	 eax, esi
  00215	50		 push	 eax
  00216	8d 45 f0	 lea	 eax, DWORD PTR _szGuildName$[ebp]
  00219	50		 push	 eax
  0021a	68 00 00 00 00	 push	 OFFSET ??_C@_0DK@MKLBBGMP@?$FLU?4System?$FN?$FLGuild?5Status?$FN?$FLInfo?$FN?5G@
  0021f	ff 15 00 00 00
	00		 call	 DWORD PTR ?LogAddTD@@3P6AXPADZZA ; LogAddTD
  00225	83 c4 14	 add	 esp, 20			; 00000014H

; 810  : 							szGuildName, gObj[n].AccountID, szName, gObj[n].GuildStatus);
; 811  : 
; 812  : 						LogAddTD(lMsg.Get(MSGGET(1, 184)), gObj[n].AccountID, szName, szGuildName);

  00228	8d 45 f0	 lea	 eax, DWORD PTR _szGuildName$[ebp]
  0022b	b9 00 00 00 00	 mov	 ecx, OFFSET ?lMsg@@3VMessage@@A ; lMsg
  00230	50		 push	 eax
  00231	8d 45 e4	 lea	 eax, DWORD PTR _szName$[ebp]
  00234	50		 push	 eax
  00235	a1 00 00 00 00	 mov	 eax, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  0023a	83 c0 52	 add	 eax, 82			; 00000052H
  0023d	03 c6		 add	 eax, esi
  0023f	50		 push	 eax
  00240	68 b8 01 00 00	 push	 440			; 000001b8H
  00245	e8 00 00 00 00	 call	 ?Get@Message@@QAEPADH@Z	; Message::Get
  0024a	50		 push	 eax
  0024b	ff 15 00 00 00
	00		 call	 DWORD PTR ?LogAddTD@@3P6AXPADZZA ; LogAddTD

; 813  : 
; 814  : 						pMsg.GuildNumber = gObj[n].GuildNumber;

  00251	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  00257	83 c4 10	 add	 esp, 16			; 00000010H
  0025a	03 ce		 add	 ecx, esi

; 815  : 						pMsg.NumberH = SET_NUMBERH(n) & 0x7F;
; 816  : 						pMsg.NumberL = SET_NUMBERL(n);

  0025c	88 9d d4 fe ff
	ff		 mov	 BYTE PTR _pMsg$[ebp+8], bl
  00262	89 8d d8 fe ff
	ff		 mov	 DWORD PTR tv512[ebp], ecx
  00268	8b 81 14 06 00
	00		 mov	 eax, DWORD PTR [ecx+1556]

; 817  : 
; 818  : 						if ( strcmp(gObj[n].lpGuild->Names[0], gObj[n].Name) == 0 ) // Case Guild Master

  0026e	8b b9 18 06 00
	00		 mov	 edi, DWORD PTR [ecx+1560]
  00274	89 85 cc fe ff
	ff		 mov	 DWORD PTR _pMsg$[ebp], eax
  0027a	8b c3		 mov	 eax, ebx
  0027c	c1 e8 08	 shr	 eax, 8
  0027f	25 7f ff ff ff	 and	 eax, -129		; ffffff7fH
  00284	83 c1 5d	 add	 ecx, 93			; 0000005dH
  00287	89 85 e0 fe ff
	ff		 mov	 DWORD PTR tv471[ebp], eax
  0028d	88 85 d3 fe ff
	ff		 mov	 BYTE PTR _pMsg$[ebp+7], al
  00293	8d 47 2f	 lea	 eax, DWORD PTR [edi+47]
$LL37@DGGuildMem:
  00296	8a 10		 mov	 dl, BYTE PTR [eax]
  00298	3a 11		 cmp	 dl, BYTE PTR [ecx]
  0029a	75 1a		 jne	 SHORT $LN38@DGGuildMem
  0029c	84 d2		 test	 dl, dl
  0029e	74 12		 je	 SHORT $LN39@DGGuildMem
  002a0	8a 50 01	 mov	 dl, BYTE PTR [eax+1]
  002a3	3a 51 01	 cmp	 dl, BYTE PTR [ecx+1]
  002a6	75 0e		 jne	 SHORT $LN38@DGGuildMem
  002a8	83 c0 02	 add	 eax, 2
  002ab	83 c1 02	 add	 ecx, 2
  002ae	84 d2		 test	 dl, dl
  002b0	75 e4		 jne	 SHORT $LL37@DGGuildMem
$LN39@DGGuildMem:
  002b2	33 c0		 xor	 eax, eax
  002b4	eb 05		 jmp	 SHORT $LN40@DGGuildMem
$LN38@DGGuildMem:
  002b6	1b c0		 sbb	 eax, eax
  002b8	83 c8 01	 or	 eax, 1
$LN40@DGGuildMem:
  002bb	85 c0		 test	 eax, eax
  002bd	75 0e		 jne	 SHORT $LN11@DGGuildMem

; 819  : 						{
; 820  : 							pMsg.NumberH |= 0x80;

  002bf	8b 85 e0 fe ff
	ff		 mov	 eax, DWORD PTR tv471[ebp]
  002c5	0c 80		 or	 al, 128			; 00000080H
  002c7	88 85 d3 fe ff
	ff		 mov	 BYTE PTR _pMsg$[ebp+7], al
$LN11@DGGuildMem:

; 821  : 						}
; 822  : 
; 823  : 						pMsg.btGuildStatus = gObj[n].GuildStatus;

  002cd	8b 85 d8 fe ff
	ff		 mov	 eax, DWORD PTR tv512[ebp]
  002d3	8a 80 28 06 00
	00		 mov	 al, BYTE PTR [eax+1576]
  002d9	88 85 d0 fe ff
	ff		 mov	 BYTE PTR _pMsg$[ebp+4], al

; 824  : 
; 825  : 						if ( gObj[n].lpGuild != NULL )

  002df	85 ff		 test	 edi, edi
  002e1	74 0e		 je	 SHORT $LN12@DGGuildMem

; 826  : 						{
; 827  : 							pMsg.btGuildType = gObj[n].lpGuild->btGuildType;

  002e3	8a 87 40 07 00
	00		 mov	 al, BYTE PTR [edi+1856]
  002e9	88 85 d1 fe ff
	ff		 mov	 BYTE PTR _pMsg$[ebp+5], al

; 828  : 						}
; 829  : 						else

  002ef	eb 07		 jmp	 SHORT $LN13@DGGuildMem
$LN12@DGGuildMem:

; 830  : 						{
; 831  : 							pMsg.btGuildType = -1;

  002f1	c6 85 d1 fe ff
	ff ff		 mov	 BYTE PTR _pMsg$[ebp+5], 255 ; 000000ffH
$LN13@DGGuildMem:

; 832  : 						}
; 833  : 
; 834  : 						memcpy(&GuildInfoBuf[GuildInfoOfs], &pMsg, sizeof(PMSG_SIMPLE_GUILDVIEWPORT));

  002f8	8b 85 d4 fe ff
	ff		 mov	 eax, DWORD PTR _pMsg$[ebp+8]

; 835  : 						GuildInfoOfs += sizeof(PMSG_SIMPLE_GUILDVIEWPORT);
; 836  : 
; 837  : 						PMSG_SIMPLE_GUILDVIEWPORT_COUNT pGVCount;
; 838  : 						
; 839  : 						pGVCount.h.c = 0xC2;
; 840  : 						pGVCount.h.headcode = 0x65;
; 841  : 						pGVCount.h.sizeH = SET_NUMBERH(GuildInfoOfs);
; 842  : 						pGVCount.h.sizeL = SET_NUMBERL(GuildInfoOfs);
; 843  : 						pGVCount.Count = 0x01;

  002fe	b1 01		 mov	 cl, 1
  00300	f3 0f 7e 85 cc
	fe ff ff	 movq	 xmm0, QWORD PTR _pMsg$[ebp]
  00308	89 85 f1 fe ff
	ff		 mov	 DWORD PTR _GuildInfoBuf$[ebp+13], eax
  0030e	c7 85 d8 fe ff
	ff c2 00 11 65	 mov	 DWORD PTR _pGVCount$1[ebp], 1695613122 ; 651100c2H

; 844  : 						memcpy(GuildInfoBuf, &pGVCount, sizeof(PMSG_SIMPLE_GUILDVIEWPORT_COUNT));

  00318	8b 85 d8 fe ff
	ff		 mov	 eax, DWORD PTR _pGVCount$1[ebp]
  0031e	89 85 e4 fe ff
	ff		 mov	 DWORD PTR _GuildInfoBuf$[ebp], eax

; 845  : 
; 846  : 						DataSend(n, (LPBYTE)GuildInfoBuf, GuildInfoOfs);

  00324	8d 85 e4 fe ff
	ff		 lea	 eax, DWORD PTR _GuildInfoBuf$[ebp]
  0032a	6a 11		 push	 17			; 00000011H
  0032c	50		 push	 eax
  0032d	53		 push	 ebx
  0032e	66 0f d6 85 e9
	fe ff ff	 movq	 QWORD PTR _GuildInfoBuf$[ebp+5], xmm0
  00336	88 8d e8 fe ff
	ff		 mov	 BYTE PTR _GuildInfoBuf$[ebp+4], cl
  0033c	e8 00 00 00 00	 call	 ?DataSend@@YAHHPAEK@Z	; DataSend

; 847  : 
; 848  : 						if ( gObj[n].lpGuild->WarState != 0 )

  00341	a1 00 00 00 00	 mov	 eax, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  00346	83 c4 0c	 add	 esp, 12			; 0000000cH
  00349	8b 84 06 18 06
	00 00		 mov	 eax, DWORD PTR [esi+eax+1560]
  00350	80 b8 91 05 00
	00 00		 cmp	 BYTE PTR [eax+1425], 0
  00357	0f 84 78 fd ff
	ff		 je	 $LN1@DGGuildMem

; 849  : 						{
; 850  : 							GCGuildWarScore(n);

  0035d	53		 push	 ebx
  0035e	e8 00 00 00 00	 call	 ?GCGuildWarScore@@YAXH@Z ; GCGuildWarScore

; 851  : 							GCGuildWarDeclare(n, gObj[n].lpGuild->TargetGuildName);

  00363	a1 00 00 00 00	 mov	 eax, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  00368	8b 84 06 18 06
	00 00		 mov	 eax, DWORD PTR [esi+eax+1560]
  0036f	05 e0 04 00 00	 add	 eax, 1248		; 000004e0H
  00374	50		 push	 eax
  00375	53		 push	 ebx
  00376	e8 00 00 00 00	 call	 ?GCGuildWarDeclare@@YAXHPAD@Z ; GCGuildWarDeclare
  0037b	83 c4 0c	 add	 esp, 12			; 0000000cH
  0037e	5f		 pop	 edi
  0037f	5e		 pop	 esi
  00380	5b		 pop	 ebx

; 877  : }

  00381	8b 4d fc	 mov	 ecx, DWORD PTR __$ArrayPad$[ebp]
  00384	33 cd		 xor	 ecx, ebp
  00386	e8 00 00 00 00	 call	 @__security_check_cookie@4
  0038b	8b e5		 mov	 esp, ebp
  0038d	5d		 pop	 ebp
  0038e	c3		 ret	 0
$LN8@DGGuildMem:

; 852  : 						}
; 853  : 
; 854  : #if (ENABLETEST_ARCA == 1)
; 855  : 						if (g_ArcaBattle.IsArcaBattleServer() && !g_AcheronGuardianEvent.IsPlayStart())
; 856  : 						{
; 857  : 							g_ArcaBattle.PrintGuildMemberLog(gObj[n].lpGuild);
; 858  : 						}
; 859  : #endif
; 860  : 					}
; 861  : 					else
; 862  : 					{
; 863  : #if (GS_CASTLE == 1)
; 864  : 						gObj[n].m_bCsGuildInvolved = FALSE;

  0038f	c6 84 31 5b 20
	00 00 00	 mov	 BYTE PTR [ecx+esi+8283], 0

; 865  : 						gObj[n].m_btCsJoinSide = 0;
; 866  : #endif
; 867  : 						LogAddTD(lMsg.Get(MSGGET(1, 185)));

  00397	b9 00 00 00 00	 mov	 ecx, OFFSET ?lMsg@@3VMessage@@A ; lMsg
  0039c	a1 00 00 00 00	 mov	 eax, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  003a1	68 b9 01 00 00	 push	 441			; 000001b9H
  003a6	c6 84 06 5a 20
	00 00 00	 mov	 BYTE PTR [esi+eax+8282], 0
  003ae	e8 00 00 00 00	 call	 ?Get@Message@@QAEPADH@Z	; Message::Get
  003b3	50		 push	 eax
  003b4	ff 15 00 00 00
	00		 call	 DWORD PTR ?LogAddTD@@3P6AXPADZZA ; LogAddTD

; 877  : }

  003ba	8b 4d fc	 mov	 ecx, DWORD PTR __$ArrayPad$[ebp]
  003bd	83 c4 04	 add	 esp, 4
  003c0	33 cd		 xor	 ecx, ebp
  003c2	5f		 pop	 edi
  003c3	5e		 pop	 esi
  003c4	5b		 pop	 ebx
  003c5	e8 00 00 00 00	 call	 @__security_check_cookie@4
  003ca	8b e5		 mov	 esp, ebp
  003cc	5d		 pop	 ebp
  003cd	c3		 ret	 0
?DGGuildMemberInfo@@YAXPAUSDHP_GUILDMEMBER_INFO@@@Z ENDP ; DGGuildMemberInfo
_TEXT	ENDS
; Function compile flags: /Ogtp
; File c:\users\michel\desktop\source\gameserver\source\edsprotocol.cpp
; File c:\users\michel\desktop\source\gameserver\include\prodef.h
; File c:\users\michel\desktop\source\gameserver\source\edsprotocol.cpp
;	COMDAT ?DGGuildMemberInfoRequest@@YAXH@Z
_TEXT	SEGMENT
_pMsg$ = -20						; size = 15
__$ArrayPad$ = -4					; size = 4
_aIndex$ = 8						; size = 4
?DGGuildMemberInfoRequest@@YAXH@Z PROC			; DGGuildMemberInfoRequest, COMDAT

; 739  : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	83 ec 14	 sub	 esp, 20			; 00000014H
  00006	a1 00 00 00 00	 mov	 eax, DWORD PTR ___security_cookie
  0000b	33 c5		 xor	 eax, ebp
  0000d	89 45 fc	 mov	 DWORD PTR __$ArrayPad$[ebp], eax
  00010	8b 4d 08	 mov	 ecx, DWORD PTR _aIndex$[ebp]

; 740  : 	SDHP_GUILDMEMBER_INFO_REQUEST pMsg;
; 741  : 
; 742  : 	pMsg.h.set((LPBYTE)&pMsg, 0x35, sizeof(pMsg));
; 743  : 	pMsg.NumberH = SET_NUMBERH(aIndex);

  00013	8b c1		 mov	 eax, ecx

; 744  : 	pMsg.NumberL = SET_NUMBERL(aIndex);

  00015	88 4d f0	 mov	 BYTE PTR _pMsg$[ebp+4], cl
  00018	c1 e8 08	 shr	 eax, 8

; 745  : 	memcpy(pMsg.MemberID, gObj[aIndex].Name, sizeof(pMsg.MemberID));

  0001b	69 c9 40 27 00
	00		 imul	 ecx, ecx, 10048
  00021	88 45 ef	 mov	 BYTE PTR _pMsg$[ebp+3], al
  00024	a1 00 00 00 00	 mov	 eax, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
; File c:\users\michel\desktop\source\gameserver\include\prodef.h

; 86   : 		lpBuf[0] = 0xC1;

  00029	66 c7 45 ec c1
	0f		 mov	 WORD PTR _pMsg$[ebp], 4033 ; 00000fc1H

; 87   : 		lpBuf[1] = size;
; 88   : 		lpBuf[2] = head;

  0002f	c6 45 ee 35	 mov	 BYTE PTR _pMsg$[ebp+2], 53 ; 00000035H
; File c:\users\michel\desktop\source\gameserver\source\edsprotocol.cpp

; 747  : 	wsExDbCli.DataSend((char*)&pMsg, pMsg.h.size);

  00033	6a 0f		 push	 15			; 0000000fH
  00035	f3 0f 7e 44 01
	5d		 movq	 xmm0, QWORD PTR [ecx+eax+93]
  0003b	66 0f d6 45 f1	 movq	 QWORD PTR _pMsg$[ebp+5], xmm0
  00040	66 8b 44 01 65	 mov	 ax, WORD PTR [ecx+eax+101]
  00045	b9 00 00 00 00	 mov	 ecx, OFFSET ?wsExDbCli@@3VwsJoinServerCli@@A ; wsExDbCli
  0004a	66 89 45 f9	 mov	 WORD PTR _pMsg$[ebp+13], ax
  0004e	8d 45 ec	 lea	 eax, DWORD PTR _pMsg$[ebp]
  00051	50		 push	 eax
  00052	e8 00 00 00 00	 call	 ?DataSend@wsJoinServerCli@@QAEHPADH@Z ; wsJoinServerCli::DataSend

; 748  : }

  00057	8b 4d fc	 mov	 ecx, DWORD PTR __$ArrayPad$[ebp]
  0005a	33 cd		 xor	 ecx, ebp
  0005c	e8 00 00 00 00	 call	 @__security_check_cookie@4
  00061	8b e5		 mov	 esp, ebp
  00063	5d		 pop	 ebp
  00064	c3		 ret	 0
?DGGuildMemberInfoRequest@@YAXH@Z ENDP			; DGGuildMemberInfoRequest
_TEXT	ENDS
; Function compile flags: /Ogtp
; File c:\users\michel\desktop\source\gameserver\source\edsprotocol.cpp
;	COMDAT ?GDGuildMemberDelResult@@YAXPAUSDHP_GUILDMEMBERDEL_RESULT@@@Z
_TEXT	SEGMENT
_szGuildName$ = -28					; size = 9
_szMember$ = -16					; size = 11
__$ArrayPad$ = -4					; size = 4
_lpMsg$ = 8						; size = 4
?GDGuildMemberDelResult@@YAXPAUSDHP_GUILDMEMBERDEL_RESULT@@@Z PROC ; GDGuildMemberDelResult, COMDAT

; 622  : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	83 ec 1c	 sub	 esp, 28			; 0000001cH
  00006	a1 00 00 00 00	 mov	 eax, DWORD PTR ___security_cookie
  0000b	33 c5		 xor	 eax, ebp
  0000d	89 45 fc	 mov	 DWORD PTR __$ArrayPad$[ebp], eax
  00010	53		 push	 ebx
  00011	56		 push	 esi
  00012	8b 75 08	 mov	 esi, DWORD PTR _lpMsg$[ebp]

; 623  : 	int aIndex = -1;

  00015	83 cb ff	 or	 ebx, -1
  00018	57		 push	 edi

; 624  : 	char szMember[MAX_ACCOUNT_LEN+1];
; 625  : 	char szGuildName[MAX_GUILD_LEN+1];
; 626  : 	szMember[MAX_ACCOUNT_LEN] = 0;

  00019	c6 45 fa 00	 mov	 BYTE PTR _szMember$[ebp+10], 0

; 627  : 	szGuildName[MAX_GUILD_LEN] = 0;

  0001d	c6 45 ec 00	 mov	 BYTE PTR _szGuildName$[ebp+8], 0

; 628  : 
; 629  : 	memcpy(szMember, lpMsg->MemberID, MAX_ACCOUNT_LEN);
; 630  : 	memcpy(szGuildName, lpMsg->GuildName, MAX_GUILD_LEN);
; 631  : 
; 632  : 	if ( lpMsg->Flag == 1 )

  00021	80 7e 04 01	 cmp	 BYTE PTR [esi+4], 1
  00025	66 8b 46 18	 mov	 ax, WORD PTR [esi+24]
  00029	f3 0f 7e 46 10	 movq	 xmm0, QWORD PTR [esi+16]
  0002e	66 89 45 f8	 mov	 WORD PTR _szMember$[ebp+8], ax
  00032	8b 46 07	 mov	 eax, DWORD PTR [esi+7]
  00035	89 45 e4	 mov	 DWORD PTR _szGuildName$[ebp], eax
  00038	8b 46 0b	 mov	 eax, DWORD PTR [esi+11]
  0003b	66 0f d6 45 f0	 movq	 QWORD PTR _szMember$[ebp], xmm0
  00040	89 45 e8	 mov	 DWORD PTR _szGuildName$[ebp+4], eax
  00043	0f 85 bb 00 00
	00		 jne	 $LN6@GDGuildMem

; 633  : 	{
; 634  : 		aIndex = MAKE_NUMBERW(lpMsg->NumberH, lpMsg->NumberL);

  00049	0f b6 46 05	 movzx	 eax, BYTE PTR [esi+5]
  0004d	66 c1 e0 08	 shl	 ax, 8
  00051	0f b7 d8	 movzx	 ebx, ax
  00054	0f b6 46 06	 movzx	 eax, BYTE PTR [esi+6]
  00058	0b d8		 or	 ebx, eax

; 635  : 
; 636  : 		if ( gObjIsConnected(aIndex) == TRUE )

  0005a	53		 push	 ebx
  0005b	e8 00 00 00 00	 call	 ?gObjIsConnected@@YAHH@Z ; gObjIsConnected
  00060	83 c4 04	 add	 esp, 4
  00063	83 f8 01	 cmp	 eax, 1
  00066	75 72		 jne	 SHORT $LN5@GDGuildMem

; 637  : 		{
; 638  : 			//if ( szMember[0] == gObj[aIndex].Name[0] )
; 639  : 			//{
; 640  : 				if ( strcmp(szMember, gObj[aIndex].Name) == 0 )

  00068	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  0006e	8d 45 f0	 lea	 eax, DWORD PTR _szMember$[ebp]
  00071	69 fb 40 27 00
	00		 imul	 edi, ebx, 10048
  00077	83 c1 5d	 add	 ecx, 93			; 0000005dH
  0007a	03 cf		 add	 ecx, edi
  0007c	0f 1f 40 00	 npad	 4
$LL26@GDGuildMem:
  00080	8a 10		 mov	 dl, BYTE PTR [eax]
  00082	3a 11		 cmp	 dl, BYTE PTR [ecx]
  00084	75 1a		 jne	 SHORT $LN27@GDGuildMem
  00086	84 d2		 test	 dl, dl
  00088	74 12		 je	 SHORT $LN28@GDGuildMem
  0008a	8a 50 01	 mov	 dl, BYTE PTR [eax+1]
  0008d	3a 51 01	 cmp	 dl, BYTE PTR [ecx+1]
  00090	75 0e		 jne	 SHORT $LN27@GDGuildMem
  00092	83 c0 02	 add	 eax, 2
  00095	83 c1 02	 add	 ecx, 2
  00098	84 d2		 test	 dl, dl
  0009a	75 e4		 jne	 SHORT $LL26@GDGuildMem
$LN28@GDGuildMem:
  0009c	33 c0		 xor	 eax, eax
  0009e	eb 05		 jmp	 SHORT $LN29@GDGuildMem
$LN27@GDGuildMem:
  000a0	1b c0		 sbb	 eax, eax
  000a2	83 c8 01	 or	 eax, 1
$LN29@GDGuildMem:
  000a5	85 c0		 test	 eax, eax
  000a7	75 22		 jne	 SHORT $LN7@GDGuildMem

; 641  : 				{
; 642  : 					GCResultSend(aIndex, 0x53, lpMsg->Result);

  000a9	0f b6 46 03	 movzx	 eax, BYTE PTR [esi+3]
  000ad	50		 push	 eax
  000ae	6a 53		 push	 83			; 00000053H
  000b0	53		 push	 ebx
  000b1	e8 00 00 00 00	 call	 ?GCResultSend@@YAXHEE@Z	; GCResultSend

; 643  : 					LogAdd(lMsg.Get(MSGGET(1, 180)), gObj[aIndex].Name);

  000b6	a1 00 00 00 00	 mov	 eax, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  000bb	83 c4 0c	 add	 esp, 12			; 0000000cH
  000be	83 c0 5d	 add	 eax, 93			; 0000005dH
  000c1	03 c7		 add	 eax, edi
  000c3	50		 push	 eax
  000c4	68 b4 01 00 00	 push	 436			; 000001b4H

; 644  : 				}
; 645  : 				else

  000c9	eb 25		 jmp	 SHORT $LN34@GDGuildMem
$LN7@GDGuildMem:

; 646  : 				{
; 647  : 					GCResultSend(aIndex, 0x53, 5);

  000cb	6a 05		 push	 5
  000cd	6a 53		 push	 83			; 00000053H
  000cf	53		 push	 ebx
  000d0	e8 00 00 00 00	 call	 ?GCResultSend@@YAXHEE@Z	; GCResultSend
  000d5	83 c4 0c	 add	 esp, 12			; 0000000cH

; 648  : 				}
; 649  : 			//}
; 650  : 		}
; 651  : 		else

  000d8	eb 2a		 jmp	 SHORT $LN6@GDGuildMem
$LN5@GDGuildMem:

; 652  : 		{
; 653  : 			LogAdd(lMsg.Get(MSGGET(1, 181)), gObj[aIndex].Name);

  000da	a1 00 00 00 00	 mov	 eax, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  000df	69 cb 40 27 00
	00		 imul	 ecx, ebx, 10048
  000e5	83 c0 5d	 add	 eax, 93			; 0000005dH
  000e8	03 c1		 add	 eax, ecx
  000ea	50		 push	 eax
  000eb	68 b5 01 00 00	 push	 437			; 000001b5H
$LN34@GDGuildMem:
  000f0	b9 00 00 00 00	 mov	 ecx, OFFSET ?lMsg@@3VMessage@@A ; lMsg
  000f5	e8 00 00 00 00	 call	 ?Get@Message@@QAEPADH@Z	; Message::Get
  000fa	50		 push	 eax
  000fb	ff 15 00 00 00
	00		 call	 DWORD PTR ?LogAdd@@3P6AXPADZZA ; LogAdd
  00101	83 c4 08	 add	 esp, 8
$LN6@GDGuildMem:

; 654  : 		}
; 655  : 	}
; 656  : 
; 657  : 	if ( lpMsg->Result == 1 )

  00104	8a 46 03	 mov	 al, BYTE PTR [esi+3]
  00107	3c 01		 cmp	 al, 1
  00109	0f 85 07 01 00
	00		 jne	 $LN9@GDGuildMem

; 658  : 	{
; 659  : 		int iMember = 0;

  0010f	8b 35 00 00 00
	00		 mov	 esi, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  00115	33 ff		 xor	 edi, edi
  00117	8a 75 f1	 mov	 dh, BYTE PTR _szMember$[ebp+1]
  0011a	81 c6 14 06 00
	00		 add	 esi, 1556		; 00000614H
$LL2@GDGuildMem:

; 660  : 
; 661  : 		while ( true )
; 662  : 		{
; 663  : 			if ( gObj[iMember].Connected > PLAYER_LOGGED)

  00120	83 be f0 f9 ff
	ff 02		 cmp	 DWORD PTR [esi-1552], 2
  00127	7e 46		 jle	 SHORT $LN14@GDGuildMem

; 664  : 			{
; 665  : 				if ( gObj[iMember].GuildNumber > 0 )

  00129	83 3e 00	 cmp	 DWORD PTR [esi], 0
  0012c	7e 41		 jle	 SHORT $LN14@GDGuildMem

; 666  : 				{
; 667  : 					if ( gObj[iMember].Name[0] == szMember[0] && gObj[iMember].Name[1] == szMember[1] )

  0012e	8a 4d f0	 mov	 cl, BYTE PTR _szMember$[ebp]
  00131	8d 86 49 fa ff
	ff		 lea	 eax, DWORD PTR [esi-1463]
  00137	38 08		 cmp	 BYTE PTR [eax], cl
  00139	75 34		 jne	 SHORT $LN14@GDGuildMem
  0013b	38 b6 4a fa ff
	ff		 cmp	 BYTE PTR [esi-1462], dh
  00141	75 2c		 jne	 SHORT $LN14@GDGuildMem

; 668  : 					{
; 669  : 						if ( strcmp(gObj[iMember].Name, szMember) == 0 )

  00143	8d 4d f0	 lea	 ecx, DWORD PTR _szMember$[ebp]
$LL30@GDGuildMem:
  00146	8a 10		 mov	 dl, BYTE PTR [eax]
  00148	3a 11		 cmp	 dl, BYTE PTR [ecx]
  0014a	75 1a		 jne	 SHORT $LN31@GDGuildMem
  0014c	84 d2		 test	 dl, dl
  0014e	74 12		 je	 SHORT $LN32@GDGuildMem
  00150	8a 50 01	 mov	 dl, BYTE PTR [eax+1]
  00153	3a 51 01	 cmp	 dl, BYTE PTR [ecx+1]
  00156	75 0e		 jne	 SHORT $LN31@GDGuildMem
  00158	83 c0 02	 add	 eax, 2
  0015b	83 c1 02	 add	 ecx, 2
  0015e	84 d2		 test	 dl, dl
  00160	75 e4		 jne	 SHORT $LL30@GDGuildMem
$LN32@GDGuildMem:
  00162	33 c0		 xor	 eax, eax
  00164	eb 05		 jmp	 SHORT $LN33@GDGuildMem
$LN31@GDGuildMem:
  00166	1b c0		 sbb	 eax, eax
  00168	83 c8 01	 or	 eax, 1
$LN33@GDGuildMem:
  0016b	85 c0		 test	 eax, eax
  0016d	74 11		 je	 SHORT $LN23@GDGuildMem
$LN14@GDGuildMem:

; 677  : 							break;
; 678  : 						}
; 679  : 					}
; 680  : 				}
; 681  : 			}
; 682  : 
; 683  : 			if ( iMember < OBJMAX-1 )

  0016f	81 ff eb 2c 00
	00		 cmp	 edi, 11499		; 00002cebH
  00175	7d 7c		 jge	 SHORT $LN15@GDGuildMem

; 684  : 			{
; 685  : 				iMember++;

  00177	47		 inc	 edi
  00178	81 c6 40 27 00
	00		 add	 esi, 10048		; 00002740H

; 686  : 			}
; 687  : 			else
; 688  : 			{
; 689  : 				break;
; 690  : 			}
; 691  : 		}

  0017e	eb a0		 jmp	 SHORT $LL2@GDGuildMem
$LN23@GDGuildMem:

; 670  : 						{
; 671  : 							GCGuildViewportDelNow(iMember, FALSE);

  00180	6a 00		 push	 0
  00182	57		 push	 edi
  00183	e8 00 00 00 00	 call	 ?GCGuildViewportDelNow@@YAXHH@Z ; GCGuildViewportDelNow

; 672  : 							gObj[iMember].lpGuild = NULL;

  00188	a1 00 00 00 00	 mov	 eax, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  0018d	69 f7 40 27 00
	00		 imul	 esi, edi, 10048
  00193	c7 84 06 18 06
	00 00 00 00 00
	00		 mov	 DWORD PTR [esi+eax+1560], 0

; 673  : 							gObj[iMember].GuildNumber = 0;

  0019e	a1 00 00 00 00	 mov	 eax, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  001a3	c7 84 06 14 06
	00 00 00 00 00
	00		 mov	 DWORD PTR [esi+eax+1556], 0

; 674  : 							gObj[iMember].GuildStatus = -1;

  001ae	a1 00 00 00 00	 mov	 eax, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  001b3	c7 84 06 28 06
	00 00 ff ff ff
	ff		 mov	 DWORD PTR [esi+eax+1576], -1

; 675  : 							gObjNotifyUpdateUnionV1(&gObj[iMember]);

  001be	a1 00 00 00 00	 mov	 eax, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  001c3	03 c6		 add	 eax, esi
  001c5	50		 push	 eax
  001c6	e8 00 00 00 00	 call	 ?gObjNotifyUpdateUnionV1@@YAXPAUOBJECTSTRUCT@@@Z ; gObjNotifyUpdateUnionV1

; 676  : 							LogAdd(lMsg.Get(MSGGET(1, 182)), aIndex, gObj[iMember].Name);

  001cb	a1 00 00 00 00	 mov	 eax, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  001d0	83 c4 0c	 add	 esp, 12			; 0000000cH
  001d3	83 c0 5d	 add	 eax, 93			; 0000005dH
  001d6	b9 00 00 00 00	 mov	 ecx, OFFSET ?lMsg@@3VMessage@@A ; lMsg
  001db	03 c6		 add	 eax, esi
  001dd	50		 push	 eax
  001de	53		 push	 ebx
  001df	68 b6 01 00 00	 push	 438			; 000001b6H
  001e4	e8 00 00 00 00	 call	 ?Get@Message@@QAEPADH@Z	; Message::Get
  001e9	50		 push	 eax
  001ea	ff 15 00 00 00
	00		 call	 DWORD PTR ?LogAdd@@3P6AXPADZZA ; LogAdd
  001f0	83 c4 0c	 add	 esp, 12			; 0000000cH
$LN15@GDGuildMem:

; 692  : 
; 693  : 		Guild.DelMember(szGuildName, szMember);

  001f3	8d 45 f0	 lea	 eax, DWORD PTR _szMember$[ebp]
  001f6	b9 00 00 00 00	 mov	 ecx, OFFSET ?Guild@@3VCGuildClass@@A ; Guild
  001fb	50		 push	 eax
  001fc	8d 45 e4	 lea	 eax, DWORD PTR _szGuildName$[ebp]
  001ff	50		 push	 eax
  00200	e8 00 00 00 00	 call	 ?DelMember@CGuildClass@@QAEHPAD0@Z ; CGuildClass::DelMember
  00205	5f		 pop	 edi
  00206	5e		 pop	 esi
  00207	5b		 pop	 ebx

; 698  : 	}
; 699  : }

  00208	8b 4d fc	 mov	 ecx, DWORD PTR __$ArrayPad$[ebp]
  0020b	33 cd		 xor	 ecx, ebp
  0020d	e8 00 00 00 00	 call	 @__security_check_cookie@4
  00212	8b e5		 mov	 esp, ebp
  00214	5d		 pop	 ebp
  00215	c3		 ret	 0
$LN9@GDGuildMem:

; 694  : 	}
; 695  : 	else
; 696  : 	{
; 697  : 		LogAdd(lMsg.Get(MSGGET(1, 183)), szGuildName, lpMsg->Result);

  00216	0f b6 c0	 movzx	 eax, al
  00219	b9 00 00 00 00	 mov	 ecx, OFFSET ?lMsg@@3VMessage@@A ; lMsg
  0021e	50		 push	 eax
  0021f	8d 45 e4	 lea	 eax, DWORD PTR _szGuildName$[ebp]
  00222	50		 push	 eax
  00223	68 b7 01 00 00	 push	 439			; 000001b7H
  00228	e8 00 00 00 00	 call	 ?Get@Message@@QAEPADH@Z	; Message::Get
  0022d	50		 push	 eax
  0022e	ff 15 00 00 00
	00		 call	 DWORD PTR ?LogAdd@@3P6AXPADZZA ; LogAdd

; 698  : 	}
; 699  : }

  00234	8b 4d fc	 mov	 ecx, DWORD PTR __$ArrayPad$[ebp]
  00237	83 c4 0c	 add	 esp, 12			; 0000000cH
  0023a	33 cd		 xor	 ecx, ebp
  0023c	5f		 pop	 edi
  0023d	5e		 pop	 esi
  0023e	5b		 pop	 ebx
  0023f	e8 00 00 00 00	 call	 @__security_check_cookie@4
  00244	8b e5		 mov	 esp, ebp
  00246	5d		 pop	 ebp
  00247	c3		 ret	 0
?GDGuildMemberDelResult@@YAXPAUSDHP_GUILDMEMBERDEL_RESULT@@@Z ENDP ; GDGuildMemberDelResult
_TEXT	ENDS
; Function compile flags: /Ogtp
; File c:\users\michel\desktop\source\gameserver\source\edsprotocol.cpp
;	COMDAT ?GDGuildMemberDel@@YAXHPAD0@Z
_TEXT	SEGMENT
_pMsg$ = -28						; size = 23
__$ArrayPad$ = -4					; size = 4
_aIndex$ = 8						; size = 4
_Name$ = 12						; size = 4
_MemberId$ = 16						; size = 4
?GDGuildMemberDel@@YAXHPAD0@Z PROC			; GDGuildMemberDel, COMDAT

; 604  : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	83 ec 1c	 sub	 esp, 28			; 0000001cH
  00006	a1 00 00 00 00	 mov	 eax, DWORD PTR ___security_cookie
  0000b	33 c5		 xor	 eax, ebp
  0000d	89 45 fc	 mov	 DWORD PTR __$ArrayPad$[ebp], eax

; 605  : 	SDHP_GUILDMEMBERDEL pMsg;
; 606  : 
; 607  : 	pMsg.h.c = 0xC1;
; 608  : 	pMsg.h.headcode = 0x33;
; 609  : 	pMsg.h.size = sizeof(pMsg);
; 610  : 	pMsg.NumberH = SET_NUMBERH(aIndex);

  00010	8b 4d 08	 mov	 ecx, DWORD PTR _aIndex$[ebp]
  00013	8b c1		 mov	 eax, ecx
  00015	8b 55 10	 mov	 edx, DWORD PTR _MemberId$[ebp]
  00018	c1 e8 08	 shr	 eax, 8
  0001b	56		 push	 esi
  0001c	8b 75 0c	 mov	 esi, DWORD PTR _Name$[ebp]

; 611  : 	pMsg.NumberL = SET_NUMBERL(aIndex);
; 612  : 	memcpy(pMsg.MemberID, MemberId, MAX_ACCOUNT_LEN);

  0001f	f3 0f 7e 02	 movq	 xmm0, QWORD PTR [edx]
  00023	88 45 e7	 mov	 BYTE PTR _pMsg$[ebp+3], al
  00026	66 8b 42 08	 mov	 ax, WORD PTR [edx+8]
  0002a	66 89 45 f9	 mov	 WORD PTR _pMsg$[ebp+21], ax

; 613  : 	memcpy(pMsg.GuildName, Name, MAX_GUILD_LEN);

  0002e	8b 06		 mov	 eax, DWORD PTR [esi]
  00030	89 45 e9	 mov	 DWORD PTR _pMsg$[ebp+5], eax
  00033	8b 46 04	 mov	 eax, DWORD PTR [esi+4]
  00036	89 45 ed	 mov	 DWORD PTR _pMsg$[ebp+9], eax

; 614  : 
; 615  : 	wsExDbCli.DataSend((char*)&pMsg, pMsg.h.size);

  00039	8d 45 e4	 lea	 eax, DWORD PTR _pMsg$[ebp]
  0003c	6a 17		 push	 23			; 00000017H
  0003e	88 4d e8	 mov	 BYTE PTR _pMsg$[ebp+4], cl
  00041	b9 00 00 00 00	 mov	 ecx, OFFSET ?wsExDbCli@@3VwsJoinServerCli@@A ; wsExDbCli
  00046	50		 push	 eax
  00047	66 c7 45 e4 c1
	17		 mov	 WORD PTR _pMsg$[ebp], 6081 ; 000017c1H
  0004d	c6 45 e6 33	 mov	 BYTE PTR _pMsg$[ebp+2], 51 ; 00000033H
  00051	66 0f d6 45 f1	 movq	 QWORD PTR _pMsg$[ebp+13], xmm0
  00056	e8 00 00 00 00	 call	 ?DataSend@wsJoinServerCli@@QAEHPADH@Z ; wsJoinServerCli::DataSend

; 616  : }

  0005b	8b 4d fc	 mov	 ecx, DWORD PTR __$ArrayPad$[ebp]
  0005e	33 cd		 xor	 ecx, ebp
  00060	5e		 pop	 esi
  00061	e8 00 00 00 00	 call	 @__security_check_cookie@4
  00066	8b e5		 mov	 esp, ebp
  00068	5d		 pop	 ebp
  00069	c3		 ret	 0
?GDGuildMemberDel@@YAXHPAD0@Z ENDP			; GDGuildMemberDel
_TEXT	ENDS
; Function compile flags: /Ogtp
; File c:\users\michel\desktop\source\gameserver\source\edsprotocol.cpp
;	COMDAT ?GDGuildMemberAddResult@@YAXPAUSDHP_GUILDMEMBERADD_RESULT@@@Z
_TEXT	SEGMENT
_szMember$ = -28					; size = 11
_szGuildName$ = -16					; size = 9
__$ArrayPad$ = -4					; size = 4
_lpMsg$ = 8						; size = 4
?GDGuildMemberAddResult@@YAXPAUSDHP_GUILDMEMBERADD_RESULT@@@Z PROC ; GDGuildMemberAddResult, COMDAT

; 546  : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	83 ec 1c	 sub	 esp, 28			; 0000001cH
  00006	a1 00 00 00 00	 mov	 eax, DWORD PTR ___security_cookie
  0000b	33 c5		 xor	 eax, ebp
  0000d	89 45 fc	 mov	 DWORD PTR __$ArrayPad$[ebp], eax
  00010	53		 push	 ebx
  00011	56		 push	 esi
  00012	8b 75 08	 mov	 esi, DWORD PTR _lpMsg$[ebp]
  00015	57		 push	 edi

; 547  : 	_GUILD_INFO_STRUCT * lpNode;
; 548  : 	int aIndex = -1;

  00016	83 cf ff	 or	 edi, -1

; 549  : 	int HereUserIndex=-1;
; 550  : 	char szMember[MAX_ACCOUNT_LEN+1];
; 551  : 	char szGuildName[MAX_GUILD_LEN+1];
; 552  : 	szMember[MAX_ACCOUNT_LEN] = 0;

  00019	c6 45 ee 00	 mov	 BYTE PTR _szMember$[ebp+10], 0
  0001d	0b df		 or	 ebx, edi

; 553  : 	szGuildName[MAX_GUILD_LEN] = 0;

  0001f	c6 45 f8 00	 mov	 BYTE PTR _szGuildName$[ebp+8], 0

; 554  : 
; 555  : 	memcpy(szMember, lpMsg->MemberID, MAX_ACCOUNT_LEN);
; 556  : 	memcpy(szGuildName, lpMsg->GuildName, MAX_GUILD_LEN);
; 557  : 
; 558  : 	if ( lpMsg->Flag == 1 )

  00023	80 7e 04 01	 cmp	 BYTE PTR [esi+4], 1
  00027	66 8b 46 18	 mov	 ax, WORD PTR [esi+24]
  0002b	f3 0f 7e 46 10	 movq	 xmm0, QWORD PTR [esi+16]
  00030	66 89 45 ec	 mov	 WORD PTR _szMember$[ebp+8], ax
  00034	8b 46 07	 mov	 eax, DWORD PTR [esi+7]
  00037	89 45 f0	 mov	 DWORD PTR _szGuildName$[ebp], eax
  0003a	8b 46 0b	 mov	 eax, DWORD PTR [esi+11]
  0003d	66 0f d6 45 e4	 movq	 QWORD PTR _szMember$[ebp], xmm0
  00042	89 45 f4	 mov	 DWORD PTR _szGuildName$[ebp+4], eax
  00045	75 74		 jne	 SHORT $LN4@GDGuildMem

; 559  : 	{
; 560  : 		aIndex = MAKE_NUMBERW(lpMsg->NumberH, lpMsg->NumberL);

  00047	0f b6 46 05	 movzx	 eax, BYTE PTR [esi+5]
  0004b	66 c1 e0 08	 shl	 ax, 8
  0004f	0f b7 f8	 movzx	 edi, ax
  00052	0f b6 46 06	 movzx	 eax, BYTE PTR [esi+6]
  00056	0b f8		 or	 edi, eax

; 561  : 
; 562  : 		if ( gObjIsConnected(aIndex) == TRUE )

  00058	57		 push	 edi
  00059	e8 00 00 00 00	 call	 ?gObjIsConnected@@YAHH@Z ; gObjIsConnected
  0005e	83 c4 04	 add	 esp, 4
  00061	83 f8 01	 cmp	 eax, 1
  00064	75 55		 jne	 SHORT $LN4@GDGuildMem

; 563  : 		{
; 564  : 			//if ( szMember[0] == gObj[aIndex].Name[0] )
; 565  : 			//{
; 566  : 				if ( strcmp(szMember, gObj[aIndex].Name) == 0 )

  00066	a1 00 00 00 00	 mov	 eax, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  0006b	69 cf 40 27 00
	00		 imul	 ecx, edi, 10048
  00071	83 c0 5d	 add	 eax, 93			; 0000005dH
  00074	03 c8		 add	 ecx, eax
  00076	8d 45 e4	 lea	 eax, DWORD PTR _szMember$[ebp]
  00079	0f 1f 80 00 00
	00 00		 npad	 7
$LL12@GDGuildMem:
  00080	8a 10		 mov	 dl, BYTE PTR [eax]
  00082	3a 11		 cmp	 dl, BYTE PTR [ecx]
  00084	75 1a		 jne	 SHORT $LN13@GDGuildMem
  00086	84 d2		 test	 dl, dl
  00088	74 12		 je	 SHORT $LN14@GDGuildMem
  0008a	8a 50 01	 mov	 dl, BYTE PTR [eax+1]
  0008d	3a 51 01	 cmp	 dl, BYTE PTR [ecx+1]
  00090	75 0e		 jne	 SHORT $LN13@GDGuildMem
  00092	83 c0 02	 add	 eax, 2
  00095	83 c1 02	 add	 ecx, 2
  00098	84 d2		 test	 dl, dl
  0009a	75 e4		 jne	 SHORT $LL12@GDGuildMem
$LN14@GDGuildMem:
  0009c	33 c0		 xor	 eax, eax
  0009e	eb 05		 jmp	 SHORT $LN15@GDGuildMem
$LN13@GDGuildMem:
  000a0	1b c0		 sbb	 eax, eax
  000a2	83 c8 01	 or	 eax, 1
$LN15@GDGuildMem:
  000a5	85 c0		 test	 eax, eax
  000a7	75 12		 jne	 SHORT $LN4@GDGuildMem

; 567  : 				{
; 568  : 					GCResultSend(aIndex, 0x51, lpMsg->Result);

  000a9	0f b6 46 03	 movzx	 eax, BYTE PTR [esi+3]
  000ad	50		 push	 eax
  000ae	6a 51		 push	 81			; 00000051H
  000b0	57		 push	 edi
  000b1	e8 00 00 00 00	 call	 ?GCResultSend@@YAXHEE@Z	; GCResultSend
  000b6	83 c4 0c	 add	 esp, 12			; 0000000cH

; 569  : 					HereUserIndex = aIndex;

  000b9	8b df		 mov	 ebx, edi
$LN4@GDGuildMem:

; 570  : 				}
; 571  : 			//}
; 572  : 		}
; 573  : 	}
; 574  : 
; 575  : 	if ( lpMsg->Result == 1 )

  000bb	80 7e 03 01	 cmp	 BYTE PTR [esi+3], 1
  000bf	0f 85 86 00 00
	00		 jne	 $LN6@GDGuildMem

; 576  : 	{
; 577  : 		lpNode = Guild.AddMember(szGuildName, szMember, HereUserIndex, -1, 0, lpMsg->pServer);

  000c5	0f bf 46 1c	 movsx	 eax, WORD PTR [esi+28]
  000c9	b9 00 00 00 00	 mov	 ecx, OFFSET ?Guild@@3VCGuildClass@@A ; Guild
  000ce	50		 push	 eax
  000cf	6a 00		 push	 0
  000d1	6a ff		 push	 -1
  000d3	53		 push	 ebx
  000d4	8d 45 e4	 lea	 eax, DWORD PTR _szMember$[ebp]
  000d7	50		 push	 eax
  000d8	8d 45 f0	 lea	 eax, DWORD PTR _szGuildName$[ebp]
  000db	50		 push	 eax
  000dc	e8 00 00 00 00	 call	 ?AddMember@CGuildClass@@QAEPAU_GUILD_INFO_STRUCT@@PAD0HHHH@Z ; CGuildClass::AddMember
  000e1	8b f0		 mov	 esi, eax

; 578  : 
; 579  : 		if ( aIndex >= 0 && lpNode != NULL )

  000e3	85 ff		 test	 edi, edi
  000e5	78 64		 js	 SHORT $LN6@GDGuildMem
  000e7	85 f6		 test	 esi, esi
  000e9	74 60		 je	 SHORT $LN6@GDGuildMem

; 580  : 		{
; 581  : 			gObj[aIndex].lpGuild = lpNode;

  000eb	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  000f1	69 d7 40 27 00
	00		 imul	 edx, edi, 10048

; 582  : 			gObj[aIndex].GuildStatus = 0;
; 583  : 			gObj[aIndex].GuildNumber = lpNode->Number;
; 584  : 			gObj[aIndex].iGuildUnionTimeStamp = 0;
; 585  : 			GCGuildViewportNowPaint(aIndex, szGuildName, gObj[aIndex].lpGuild->Mark, FALSE);

  000f7	6a 00		 push	 0
  000f9	89 b4 0a 18 06
	00 00		 mov	 DWORD PTR [edx+ecx+1560], esi
  00100	a1 00 00 00 00	 mov	 eax, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  00105	c7 84 02 28 06
	00 00 00 00 00
	00		 mov	 DWORD PTR [edx+eax+1576], 0
  00110	a1 00 00 00 00	 mov	 eax, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  00115	8b 0e		 mov	 ecx, DWORD PTR [esi]
  00117	89 8c 02 14 06
	00 00		 mov	 DWORD PTR [edx+eax+1556], ecx
  0011e	a1 00 00 00 00	 mov	 eax, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  00123	c7 84 02 2c 06
	00 00 00 00 00
	00		 mov	 DWORD PTR [edx+eax+1580], 0
  0012e	a1 00 00 00 00	 mov	 eax, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  00133	8b 84 02 18 06
	00 00		 mov	 eax, DWORD PTR [edx+eax+1560]
  0013a	83 c0 0d	 add	 eax, 13			; 0000000dH
  0013d	50		 push	 eax
  0013e	8d 45 f0	 lea	 eax, DWORD PTR _szGuildName$[ebp]
  00141	50		 push	 eax
  00142	57		 push	 edi
  00143	e8 00 00 00 00	 call	 ?GCGuildViewportNowPaint@@YAXHPADPAEH@Z ; GCGuildViewportNowPaint
  00148	83 c4 10	 add	 esp, 16			; 00000010H
$LN6@GDGuildMem:

; 586  : 		}
; 587  : 	}
; 588  : }

  0014b	8b 4d fc	 mov	 ecx, DWORD PTR __$ArrayPad$[ebp]
  0014e	5f		 pop	 edi
  0014f	5e		 pop	 esi
  00150	33 cd		 xor	 ecx, ebp
  00152	5b		 pop	 ebx
  00153	e8 00 00 00 00	 call	 @__security_check_cookie@4
  00158	8b e5		 mov	 esp, ebp
  0015a	5d		 pop	 ebp
  0015b	c3		 ret	 0
?GDGuildMemberAddResult@@YAXPAUSDHP_GUILDMEMBERADD_RESULT@@@Z ENDP ; GDGuildMemberAddResult
_TEXT	ENDS
; Function compile flags: /Ogtp
; File c:\users\michel\desktop\source\gameserver\source\edsprotocol.cpp
;	COMDAT ?GDGuildMemberAdd@@YAXHPAD0@Z
_TEXT	SEGMENT
_pMsg$ = -32						; size = 25
__$ArrayPad$ = -4					; size = 4
_aIndex$ = 8						; size = 4
_Name$ = 12						; size = 4
_MemberId$ = 16						; size = 4
?GDGuildMemberAdd@@YAXHPAD0@Z PROC			; GDGuildMemberAdd, COMDAT

; 525  : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	83 ec 20	 sub	 esp, 32			; 00000020H
  00006	a1 00 00 00 00	 mov	 eax, DWORD PTR ___security_cookie
  0000b	33 c5		 xor	 eax, ebp
  0000d	89 45 fc	 mov	 DWORD PTR __$ArrayPad$[ebp], eax

; 526  : 	SDHP_GUILDMEMBERADD pMsg;
; 527  : 
; 528  : 	pMsg.h.c = 0xC1;
; 529  : 	pMsg.h.headcode = 0x32;
; 530  : 	pMsg.h.size = sizeof(pMsg);
; 531  : 	pMsg.NumberH = SET_NUMBERH(aIndex);

  00010	8b 4d 08	 mov	 ecx, DWORD PTR _aIndex$[ebp]
  00013	8b c1		 mov	 eax, ecx
  00015	8b 55 10	 mov	 edx, DWORD PTR _MemberId$[ebp]
  00018	c1 e8 08	 shr	 eax, 8
  0001b	56		 push	 esi
  0001c	8b 75 0c	 mov	 esi, DWORD PTR _Name$[ebp]

; 532  : 	pMsg.NumberL = SET_NUMBERL(aIndex);
; 533  : 	pMsg.MemberID[MAX_ACCOUNT_LEN] = 0;	
; 534  : 	pMsg.GuildName[MAX_GUILD_LEN] = 0;
; 535  : 	memcpy(pMsg.MemberID, MemberId, MAX_ACCOUNT_LEN);

  0001f	f3 0f 7e 02	 movq	 xmm0, QWORD PTR [edx]
  00023	88 45 f7	 mov	 BYTE PTR _pMsg$[ebp+23], al
  00026	66 8b 42 08	 mov	 ax, WORD PTR [edx+8]
  0002a	66 89 45 f4	 mov	 WORD PTR _pMsg$[ebp+20], ax

; 536  : 	memcpy(pMsg.GuildName, Name, MAX_GUILD_LEN);

  0002e	8b 06		 mov	 eax, DWORD PTR [esi]
  00030	89 45 e3	 mov	 DWORD PTR _pMsg$[ebp+3], eax
  00033	8b 46 04	 mov	 eax, DWORD PTR [esi+4]
  00036	89 45 e7	 mov	 DWORD PTR _pMsg$[ebp+7], eax

; 537  : 
; 538  : 	wsExDbCli.DataSend((char*)&pMsg, pMsg.h.size);

  00039	8d 45 e0	 lea	 eax, DWORD PTR _pMsg$[ebp]
  0003c	6a 19		 push	 25			; 00000019H
  0003e	88 4d f8	 mov	 BYTE PTR _pMsg$[ebp+24], cl
  00041	b9 00 00 00 00	 mov	 ecx, OFFSET ?wsExDbCli@@3VwsJoinServerCli@@A ; wsExDbCli
  00046	50		 push	 eax
  00047	66 c7 45 e0 c1
	19		 mov	 WORD PTR _pMsg$[ebp], 6593 ; 000019c1H
  0004d	c6 45 e2 32	 mov	 BYTE PTR _pMsg$[ebp+2], 50 ; 00000032H
  00051	c6 45 f6 00	 mov	 BYTE PTR _pMsg$[ebp+22], 0
  00055	c6 45 eb 00	 mov	 BYTE PTR _pMsg$[ebp+11], 0
  00059	66 0f d6 45 ec	 movq	 QWORD PTR _pMsg$[ebp+12], xmm0
  0005e	e8 00 00 00 00	 call	 ?DataSend@wsJoinServerCli@@QAEHPADH@Z ; wsJoinServerCli::DataSend

; 539  : }

  00063	8b 4d fc	 mov	 ecx, DWORD PTR __$ArrayPad$[ebp]
  00066	33 cd		 xor	 ecx, ebp
  00068	5e		 pop	 esi
  00069	e8 00 00 00 00	 call	 @__security_check_cookie@4
  0006e	8b e5		 mov	 esp, ebp
  00070	5d		 pop	 ebp
  00071	c3		 ret	 0
?GDGuildMemberAdd@@YAXHPAD0@Z ENDP			; GDGuildMemberAdd
_TEXT	ENDS
; Function compile flags: /Ogtp
; File c:\users\michel\desktop\source\gameserver\source\edsprotocol.cpp
;	COMDAT ?GDGuildDestroyRecv@@YAXPAUSDHP_GUILDDESTROY_RESULT@@@Z
_TEXT	SEGMENT
_lpGuild$1$ = -40					; size = 4
tv362 = -36						; size = 4
tv369 = -32						; size = 4
_szMaster$ = -28					; size = 11
_szGuildName$ = -16					; size = 9
__$ArrayPad$ = -4					; size = 4
_lpMsg$ = 8						; size = 4
?GDGuildDestroyRecv@@YAXPAUSDHP_GUILDDESTROY_RESULT@@@Z PROC ; GDGuildDestroyRecv, COMDAT

; 421  : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	83 ec 28	 sub	 esp, 40			; 00000028H
  00006	a1 00 00 00 00	 mov	 eax, DWORD PTR ___security_cookie
  0000b	33 c5		 xor	 eax, ebp
  0000d	89 45 fc	 mov	 DWORD PTR __$ArrayPad$[ebp], eax
  00010	56		 push	 esi
  00011	8b 75 08	 mov	 esi, DWORD PTR _lpMsg$[ebp]
  00014	57		 push	 edi

; 422  : 	int aIndex = -1;
; 423  : 	char szMaster[MAX_ACCOUNT_LEN+1];
; 424  : 	char szGuildName[MAX_GUILD_LEN+1];
; 425  : 	szMaster[MAX_ACCOUNT_LEN] = 0;

  00015	c6 45 ee 00	 mov	 BYTE PTR _szMaster$[ebp+10], 0

; 426  : 	szGuildName[MAX_GUILD_LEN] = 0;

  00019	c6 45 f8 00	 mov	 BYTE PTR _szGuildName$[ebp+8], 0

; 427  : 
; 428  : 	memcpy(szMaster, lpMsg->Master, MAX_ACCOUNT_LEN);
; 429  : 	memcpy(szGuildName, lpMsg->GuildName, MAX_GUILD_LEN);
; 430  : 
; 431  : 	if ( lpMsg->Flag == 1 )

  0001d	80 7e 04 01	 cmp	 BYTE PTR [esi+4], 1
  00021	66 8b 46 18	 mov	 ax, WORD PTR [esi+24]
  00025	f3 0f 7e 46 10	 movq	 xmm0, QWORD PTR [esi+16]
  0002a	66 89 45 ec	 mov	 WORD PTR _szMaster$[ebp+8], ax
  0002e	8b 46 07	 mov	 eax, DWORD PTR [esi+7]
  00031	89 45 f0	 mov	 DWORD PTR _szGuildName$[ebp], eax
  00034	8b 46 0b	 mov	 eax, DWORD PTR [esi+11]
  00037	66 0f d6 45 e4	 movq	 QWORD PTR _szMaster$[ebp], xmm0
  0003c	89 45 f4	 mov	 DWORD PTR _szGuildName$[ebp+4], eax
  0003f	0f 85 8a 00 00
	00		 jne	 $LN9@GDGuildDes

; 432  : 	{
; 433  : 		aIndex = MAKE_NUMBERW(lpMsg->NumberH, lpMsg->NumberL);

  00045	0f b6 46 05	 movzx	 eax, BYTE PTR [esi+5]
  00049	66 c1 e0 08	 shl	 ax, 8
  0004d	0f b7 f8	 movzx	 edi, ax
  00050	0f b6 46 06	 movzx	 eax, BYTE PTR [esi+6]
  00054	0b f8		 or	 edi, eax

; 434  : 
; 435  : 		if ( gObjIsConnected(aIndex) == TRUE )

  00056	57		 push	 edi
  00057	e8 00 00 00 00	 call	 ?gObjIsConnected@@YAHH@Z ; gObjIsConnected
  0005c	83 c4 04	 add	 esp, 4
  0005f	83 f8 01	 cmp	 eax, 1
  00062	75 6b		 jne	 SHORT $LN9@GDGuildDes

; 436  : 		{
; 437  : 			if ( szMaster[0] == gObj[aIndex].Name[0] )

  00064	a1 00 00 00 00	 mov	 eax, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  00069	69 cf 40 27 00
	00		 imul	 ecx, edi, 10048
  0006f	83 c1 5d	 add	 ecx, 93			; 0000005dH
  00072	03 c8		 add	 ecx, eax
  00074	8a 45 e4	 mov	 al, BYTE PTR _szMaster$[ebp]
  00077	3a 01		 cmp	 al, BYTE PTR [ecx]
  00079	75 54		 jne	 SHORT $LN9@GDGuildDes

; 438  : 			{
; 439  : 				if ( strcmp(szMaster, gObj[aIndex].Name) == 0 )

  0007b	8d 45 e4	 lea	 eax, DWORD PTR _szMaster$[ebp]
  0007e	66 90		 npad	 2
$LL27@GDGuildDes:
  00080	8a 10		 mov	 dl, BYTE PTR [eax]
  00082	3a 11		 cmp	 dl, BYTE PTR [ecx]
  00084	75 1a		 jne	 SHORT $LN28@GDGuildDes
  00086	84 d2		 test	 dl, dl
  00088	74 12		 je	 SHORT $LN29@GDGuildDes
  0008a	8a 50 01	 mov	 dl, BYTE PTR [eax+1]
  0008d	3a 51 01	 cmp	 dl, BYTE PTR [ecx+1]
  00090	75 0e		 jne	 SHORT $LN28@GDGuildDes
  00092	83 c0 02	 add	 eax, 2
  00095	83 c1 02	 add	 ecx, 2
  00098	84 d2		 test	 dl, dl
  0009a	75 e4		 jne	 SHORT $LL27@GDGuildDes
$LN29@GDGuildDes:
  0009c	33 c0		 xor	 eax, eax
  0009e	eb 05		 jmp	 SHORT $LN30@GDGuildDes
$LN28@GDGuildDes:
  000a0	1b c0		 sbb	 eax, eax
  000a2	83 c8 01	 or	 eax, 1
$LN30@GDGuildDes:
  000a5	85 c0		 test	 eax, eax
  000a7	75 26		 jne	 SHORT $LN9@GDGuildDes

; 440  : 				{
; 441  : 					GCResultSend(aIndex, 0x53, lpMsg->Result);

  000a9	0f b6 46 03	 movzx	 eax, BYTE PTR [esi+3]
  000ad	50		 push	 eax
  000ae	6a 53		 push	 83			; 00000053H
  000b0	57		 push	 edi
  000b1	e8 00 00 00 00	 call	 ?GCResultSend@@YAXHEE@Z	; GCResultSend

; 442  : 
; 443  : 					if ( lpMsg->Result == 1 || lpMsg->Result == 4 )

  000b6	8a 46 03	 mov	 al, BYTE PTR [esi+3]
  000b9	83 c4 0c	 add	 esp, 12			; 0000000cH
  000bc	3c 01		 cmp	 al, 1
  000be	74 04		 je	 SHORT $LN10@GDGuildDes
  000c0	3c 04		 cmp	 al, 4
  000c2	75 0b		 jne	 SHORT $LN9@GDGuildDes
$LN10@GDGuildDes:

; 444  : 					{
; 445  : 						GCGuildViewportDelNow(aIndex, TRUE);

  000c4	6a 01		 push	 1
  000c6	57		 push	 edi
  000c7	e8 00 00 00 00	 call	 ?GCGuildViewportDelNow@@YAXHH@Z ; GCGuildViewportDelNow
  000cc	83 c4 08	 add	 esp, 8
$LN9@GDGuildDes:

; 446  : 					}
; 447  : 				}
; 448  : 			}
; 449  : 		}
; 450  : 	}
; 451  : 
; 452  : 	if ( lpMsg->Result == 1 || lpMsg->Result == 4)

  000cf	8a 46 03	 mov	 al, BYTE PTR [esi+3]
  000d2	3c 01		 cmp	 al, 1
  000d4	74 08		 je	 SHORT $LN12@GDGuildDes
  000d6	3c 04		 cmp	 al, 4
  000d8	0f 85 73 01 00
	00		 jne	 $LN11@GDGuildDes
$LN12@GDGuildDes:

; 453  : 	{
; 454  : 		_GUILD_INFO_STRUCT * lpGuild = Guild.SearchGuild(szGuildName);

  000de	8d 45 f0	 lea	 eax, DWORD PTR _szGuildName$[ebp]
  000e1	b9 00 00 00 00	 mov	 ecx, OFFSET ?Guild@@3VCGuildClass@@A ; Guild
  000e6	50		 push	 eax
  000e7	e8 00 00 00 00	 call	 ?SearchGuild@CGuildClass@@QAEPAU_GUILD_INFO_STRUCT@@PAD@Z ; CGuildClass::SearchGuild
  000ec	8b f0		 mov	 esi, eax
  000ee	89 75 d8	 mov	 DWORD PTR _lpGuild$1$[ebp], esi

; 455  : 
; 456  : 		if ( lpGuild == NULL )

  000f1	85 f6		 test	 esi, esi
  000f3	0f 84 58 01 00
	00		 je	 $LN11@GDGuildDes

; 457  : 		{
; 458  : 			return;
; 459  : 		}
; 460  : 
; 461  : 		_GUILD_INFO_STRUCT * lpRival = Guild.SearchGuild_Number(lpGuild->iGuildRival);

  000f9	ff b6 48 07 00
	00		 push	 DWORD PTR [esi+1864]
  000ff	b9 00 00 00 00	 mov	 ecx, OFFSET ?Guild@@3VCGuildClass@@A ; Guild
  00104	e8 00 00 00 00	 call	 ?SearchGuild_Number@CGuildClass@@QAEPAU_GUILD_INFO_STRUCT@@H@Z ; CGuildClass::SearchGuild_Number

; 462  : 
; 463  : 		if ( lpRival != NULL )

  00109	85 c0		 test	 eax, eax
  0010b	74 11		 je	 SHORT $LN14@GDGuildDes

; 464  : 		{
; 465  : 			lpRival->iGuildRival = 0;

  0010d	c7 80 48 07 00
	00 00 00 00 00	 mov	 DWORD PTR [eax+1864], 0

; 466  : 			lpRival->szGuildRivalName[0] = 0;

  00117	c6 80 50 07 00
	00 00		 mov	 BYTE PTR [eax+1872], 0
$LN14@GDGuildDes:

; 467  : 		}
; 468  : 
; 469  : 		lpGuild->iGuildUnion = 0;

  0011e	53		 push	 ebx
  0011f	8d 86 a0 03 00
	00		 lea	 eax, DWORD PTR [esi+928]
  00125	c7 86 44 07 00
	00 00 00 00 00	 mov	 DWORD PTR [esi+1860], 0

; 470  : 		lpGuild->iGuildRival = 0;
; 471  : 
; 472  : 		for ( int n=0;n<MAX_USER_GUILD;n++)

  0012f	8d 8e 40 04 00
	00		 lea	 ecx, DWORD PTR [esi+1088]
  00135	c7 86 48 07 00
	00 00 00 00 00	 mov	 DWORD PTR [esi+1864], 0
  0013f	33 db		 xor	 ebx, ebx
  00141	89 45 dc	 mov	 DWORD PTR tv362[ebp], eax
  00144	33 ff		 xor	 edi, edi
  00146	89 4d e0	 mov	 DWORD PTR tv369[ebp], ecx
  00149	0f 1f 80 00 00
	00 00		 npad	 7
$LL4@GDGuildDes:

; 473  : 		{
; 474  : 			int iGuildMemberIndex = lpGuild->Index[n];
; 475  : 
; 476  : 			if ( lpGuild->Use[n] > 0 && iGuildMemberIndex != -1 )

  00150	80 3c 19 00	 cmp	 BYTE PTR [ecx+ebx], 0
  00154	0f bf 00	 movsx	 eax, WORD PTR [eax]
  00157	0f 86 95 00 00
	00		 jbe	 $LN2@GDGuildDes
  0015d	83 f8 ff	 cmp	 eax, -1
  00160	0f 84 8c 00 00
	00		 je	 $LN2@GDGuildDes

; 477  : 			{
; 478  : 				LPOBJ lpObj = &gObj[iGuildMemberIndex];

  00166	69 f0 40 27 00
	00		 imul	 esi, eax, 10048
  0016c	03 35 00 00 00
	00		 add	 esi, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj

; 479  : 				
; 480  : 				if ( lpObj == NULL )

  00172	74 7e		 je	 SHORT $LN2@GDGuildDes

; 481  : 				{
; 482  : 					continue;
; 483  : 				}
; 484  : 
; 485  : 				if ( gObjIsConnected(iGuildMemberIndex) == FALSE )

  00174	50		 push	 eax
  00175	e8 00 00 00 00	 call	 ?gObjIsConnected@@YAHH@Z ; gObjIsConnected
  0017a	83 c4 04	 add	 esp, 4
  0017d	85 c0		 test	 eax, eax
  0017f	74 6e		 je	 SHORT $LN32@GDGuildDes

; 486  : 				{
; 487  : 					continue;
; 488  : 				}
; 489  : 
; 490  : 				gObjNotifyUpdateUnionV1(lpObj);

  00181	56		 push	 esi
  00182	e8 00 00 00 00	 call	 ?gObjNotifyUpdateUnionV1@@YAXPAUOBJECTSTRUCT@@@Z ; gObjNotifyUpdateUnionV1

; 491  : 				gObjNotifyUpdateUnionV2(lpObj);

  00187	56		 push	 esi
  00188	e8 00 00 00 00	 call	 ?gObjNotifyUpdateUnionV2@@YAXPAUOBJECTSTRUCT@@@Z ; gObjNotifyUpdateUnionV2

; 492  : 				lpObj->lpGuild = NULL;
; 493  : 				lpObj->GuildNumber = 0;
; 494  : 				lpObj->GuildStatus = -1;
; 495  : 				lpObj->iGuildUnionTimeStamp = 0;
; 496  : 
; 497  : 				GCResultSend(n,0x53, 1);

  0018d	6a 01		 push	 1
  0018f	6a 53		 push	 83			; 00000053H
  00191	53		 push	 ebx
  00192	c7 86 18 06 00
	00 00 00 00 00	 mov	 DWORD PTR [esi+1560], 0
  0019c	c7 86 14 06 00
	00 00 00 00 00	 mov	 DWORD PTR [esi+1556], 0
  001a6	c7 86 28 06 00
	00 ff ff ff ff	 mov	 DWORD PTR [esi+1576], -1
  001b0	c7 86 2c 06 00
	00 00 00 00 00	 mov	 DWORD PTR [esi+1580], 0
  001ba	e8 00 00 00 00	 call	 ?GCResultSend@@YAXHEE@Z	; GCResultSend

; 498  : 				GCGuildViewportDelNow(lpObj->m_Index, FALSE);

  001bf	6a 00		 push	 0
  001c1	ff 36		 push	 DWORD PTR [esi]
  001c3	e8 00 00 00 00	 call	 ?GCGuildViewportDelNow@@YAXHH@Z ; GCGuildViewportDelNow

; 499  : 
; 500  : 				LogAddTD(lMsg.Get(MSGGET(1, 178)), gObj[n].Name);

  001c8	a1 00 00 00 00	 mov	 eax, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  001cd	83 c4 1c	 add	 esp, 28			; 0000001cH
  001d0	83 c0 5d	 add	 eax, 93			; 0000005dH
  001d3	b9 00 00 00 00	 mov	 ecx, OFFSET ?lMsg@@3VMessage@@A ; lMsg
  001d8	03 c7		 add	 eax, edi
  001da	50		 push	 eax
  001db	68 b2 01 00 00	 push	 434			; 000001b2H
  001e0	e8 00 00 00 00	 call	 ?Get@Message@@QAEPADH@Z	; Message::Get
  001e5	50		 push	 eax
  001e6	ff 15 00 00 00
	00		 call	 DWORD PTR ?LogAddTD@@3P6AXPADZZA ; LogAddTD
  001ec	83 c4 08	 add	 esp, 8
$LN32@GDGuildDes:
  001ef	8b 4d e0	 mov	 ecx, DWORD PTR tv369[ebp]
$LN2@GDGuildDes:

; 470  : 		lpGuild->iGuildRival = 0;
; 471  : 
; 472  : 		for ( int n=0;n<MAX_USER_GUILD;n++)

  001f2	8b 45 dc	 mov	 eax, DWORD PTR tv362[ebp]
  001f5	81 c7 40 27 00
	00		 add	 edi, 10048		; 00002740H
  001fb	83 c0 02	 add	 eax, 2
  001fe	43		 inc	 ebx
  001ff	89 45 dc	 mov	 DWORD PTR tv362[ebp], eax
  00202	81 ff 00 44 0c
	00		 cmp	 edi, 803840		; 000c4400H
  00208	0f 8c 42 ff ff
	ff		 jl	 $LL4@GDGuildDes

; 501  : 			}
; 502  : 		}
; 503  : 
; 504  : 		UnionManager.DelUnion(lpGuild->Number);

  0020e	8b 45 d8	 mov	 eax, DWORD PTR _lpGuild$1$[ebp]
  00211	b9 00 00 00 00	 mov	 ecx, OFFSET ?UnionManager@@3VTUnion@@A ; UnionManager
  00216	ff 30		 push	 DWORD PTR [eax]
  00218	e8 00 00 00 00	 call	 ?DelUnion@TUnion@@QAEHH@Z ; TUnion::DelUnion

; 505  : 		Guild.DeleteGuild(szGuildName, szMaster);

  0021d	8d 45 e4	 lea	 eax, DWORD PTR _szMaster$[ebp]
  00220	b9 00 00 00 00	 mov	 ecx, OFFSET ?Guild@@3VCGuildClass@@A ; Guild
  00225	50		 push	 eax
  00226	8d 45 f0	 lea	 eax, DWORD PTR _szGuildName$[ebp]
  00229	50		 push	 eax
  0022a	e8 00 00 00 00	 call	 ?DeleteGuild@CGuildClass@@QAEHPAD0@Z ; CGuildClass::DeleteGuild

; 506  : 
; 507  : 		LogAdd(lMsg.Get(MSGGET(1, 179)), szGuildName, szMaster);

  0022f	8d 45 e4	 lea	 eax, DWORD PTR _szMaster$[ebp]
  00232	b9 00 00 00 00	 mov	 ecx, OFFSET ?lMsg@@3VMessage@@A ; lMsg
  00237	50		 push	 eax
  00238	8d 45 f0	 lea	 eax, DWORD PTR _szGuildName$[ebp]
  0023b	50		 push	 eax
  0023c	68 b3 01 00 00	 push	 435			; 000001b3H
  00241	e8 00 00 00 00	 call	 ?Get@Message@@QAEPADH@Z	; Message::Get
  00246	50		 push	 eax
  00247	ff 15 00 00 00
	00		 call	 DWORD PTR ?LogAdd@@3P6AXPADZZA ; LogAdd
  0024d	83 c4 0c	 add	 esp, 12			; 0000000cH
  00250	5b		 pop	 ebx
$LN11@GDGuildDes:

; 508  : 	}
; 509  : }

  00251	8b 4d fc	 mov	 ecx, DWORD PTR __$ArrayPad$[ebp]
  00254	5f		 pop	 edi
  00255	33 cd		 xor	 ecx, ebp
  00257	5e		 pop	 esi
  00258	e8 00 00 00 00	 call	 @__security_check_cookie@4
  0025d	8b e5		 mov	 esp, ebp
  0025f	5d		 pop	 ebp
  00260	c3		 ret	 0
?GDGuildDestroyRecv@@YAXPAUSDHP_GUILDDESTROY_RESULT@@@Z ENDP ; GDGuildDestroyRecv
_TEXT	ENDS
; Function compile flags: /Ogtp
; File c:\users\michel\desktop\source\gameserver\source\edsprotocol.cpp
;	COMDAT ?GDGuildDestroySend@@YAXHPAD0@Z
_TEXT	SEGMENT
_pMsg$ = -28						; size = 23
__$ArrayPad$ = -4					; size = 4
_aIndex$ = 8						; size = 4
_Name$ = 12						; size = 4
_Master$ = 16						; size = 4
?GDGuildDestroySend@@YAXHPAD0@Z PROC			; GDGuildDestroySend, COMDAT

; 403  : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	83 ec 1c	 sub	 esp, 28			; 0000001cH
  00006	a1 00 00 00 00	 mov	 eax, DWORD PTR ___security_cookie
  0000b	33 c5		 xor	 eax, ebp
  0000d	89 45 fc	 mov	 DWORD PTR __$ArrayPad$[ebp], eax

; 404  : 	SDHP_GUILDDESTROY pMsg;
; 405  : 
; 406  : 	pMsg.h.c = 0xC1;
; 407  : 	pMsg.h.headcode = 0x31;
; 408  : 	pMsg.h.size = sizeof(pMsg);
; 409  : 	pMsg.NumberH = SET_NUMBERH(aIndex);

  00010	8b 4d 08	 mov	 ecx, DWORD PTR _aIndex$[ebp]
  00013	8b c1		 mov	 eax, ecx
  00015	8b 55 10	 mov	 edx, DWORD PTR _Master$[ebp]
  00018	c1 e8 08	 shr	 eax, 8
  0001b	56		 push	 esi
  0001c	8b 75 0c	 mov	 esi, DWORD PTR _Name$[ebp]

; 410  : 	pMsg.NumberL = SET_NUMBERL(aIndex);
; 411  : 	memcpy(pMsg.Master, Master, sizeof(pMsg.Master));

  0001f	f3 0f 7e 02	 movq	 xmm0, QWORD PTR [edx]
  00023	88 45 e7	 mov	 BYTE PTR _pMsg$[ebp+3], al
  00026	66 8b 42 08	 mov	 ax, WORD PTR [edx+8]
  0002a	66 89 45 f9	 mov	 WORD PTR _pMsg$[ebp+21], ax

; 412  : 	memcpy(pMsg.GuildName, Name, sizeof(pMsg.GuildName));

  0002e	8b 06		 mov	 eax, DWORD PTR [esi]
  00030	89 45 e9	 mov	 DWORD PTR _pMsg$[ebp+5], eax
  00033	8b 46 04	 mov	 eax, DWORD PTR [esi+4]
  00036	89 45 ed	 mov	 DWORD PTR _pMsg$[ebp+9], eax

; 413  : 
; 414  : 	wsExDbCli.DataSend((char*)&pMsg, pMsg.h.size);

  00039	8d 45 e4	 lea	 eax, DWORD PTR _pMsg$[ebp]
  0003c	6a 17		 push	 23			; 00000017H
  0003e	88 4d e8	 mov	 BYTE PTR _pMsg$[ebp+4], cl
  00041	b9 00 00 00 00	 mov	 ecx, OFFSET ?wsExDbCli@@3VwsJoinServerCli@@A ; wsExDbCli
  00046	50		 push	 eax
  00047	66 c7 45 e4 c1
	17		 mov	 WORD PTR _pMsg$[ebp], 6081 ; 000017c1H
  0004d	c6 45 e6 31	 mov	 BYTE PTR _pMsg$[ebp+2], 49 ; 00000031H
  00051	66 0f d6 45 f1	 movq	 QWORD PTR _pMsg$[ebp+13], xmm0
  00056	e8 00 00 00 00	 call	 ?DataSend@wsJoinServerCli@@QAEHPADH@Z ; wsJoinServerCli::DataSend

; 415  : }

  0005b	8b 4d fc	 mov	 ecx, DWORD PTR __$ArrayPad$[ebp]
  0005e	33 cd		 xor	 ecx, ebp
  00060	5e		 pop	 esi
  00061	e8 00 00 00 00	 call	 @__security_check_cookie@4
  00066	8b e5		 mov	 esp, ebp
  00068	5d		 pop	 ebp
  00069	c3		 ret	 0
?GDGuildDestroySend@@YAXHPAD0@Z ENDP			; GDGuildDestroySend
_TEXT	ENDS
; Function compile flags: /Ogtp
; File c:\users\michel\desktop\source\gameserver\source\edsprotocol.cpp
;	COMDAT ?GDGuildCreateRecv@@YAXPAUSDHP_GUILDCREATE_RESULT@@@Z
_TEXT	SEGMENT
_pResult$1 = -44					; size = 5
_pMsg$ = -36						; size = 5
_szMaster$ = -28					; size = 11
_szGuildName$ = -16					; size = 9
__$ArrayPad$ = -4					; size = 4
_lpMsg$ = 8						; size = 4
?GDGuildCreateRecv@@YAXPAUSDHP_GUILDCREATE_RESULT@@@Z PROC ; GDGuildCreateRecv, COMDAT

; 313  : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	83 ec 2c	 sub	 esp, 44			; 0000002cH
  00006	a1 00 00 00 00	 mov	 eax, DWORD PTR ___security_cookie
  0000b	33 c5		 xor	 eax, ebp
  0000d	89 45 fc	 mov	 DWORD PTR __$ArrayPad$[ebp], eax
  00010	56		 push	 esi
  00011	57		 push	 edi
  00012	8b 7d 08	 mov	 edi, DWORD PTR _lpMsg$[ebp]

; 314  : 	int aIndex = -1;

  00015	83 ce ff	 or	 esi, -1

; 315  : 	PMSG_GUILDCREATED_RESULT pMsg;
; 316  : 	_GUILD_INFO_STRUCT * lpNode;
; 317  : 	char szMaster[MAX_ACCOUNT_LEN+1];
; 318  : 	char szGuildName[MAX_GUILD_LEN+1];
; 319  : 
; 320  : 	szMaster[MAX_ACCOUNT_LEN] = 0;

  00018	c6 45 ee 00	 mov	 BYTE PTR _szMaster$[ebp+10], 0

; 321  : 	szGuildName[MAX_GUILD_LEN] = 0;

  0001c	c6 45 f8 00	 mov	 BYTE PTR _szGuildName$[ebp+8], 0

; 322  : 	memcpy(szMaster, lpMsg->Master, MAX_ACCOUNT_LEN);
; 323  : 	memcpy(szGuildName, lpMsg->GuildName, MAX_GUILD_LEN);
; 324  : 
; 325  : 	if (lpMsg->Result == 0 )

  00020	80 7f 03 00	 cmp	 BYTE PTR [edi+3], 0
  00024	66 8b 47 16	 mov	 ax, WORD PTR [edi+22]
  00028	f3 0f 7e 47 0e	 movq	 xmm0, QWORD PTR [edi+14]
  0002d	66 89 45 ec	 mov	 WORD PTR _szMaster$[ebp+8], ax
  00031	8b 47 19	 mov	 eax, DWORD PTR [edi+25]
  00034	89 45 f0	 mov	 DWORD PTR _szGuildName$[ebp], eax
  00037	8b 47 1d	 mov	 eax, DWORD PTR [edi+29]
  0003a	66 0f d6 45 e4	 movq	 QWORD PTR _szMaster$[ebp], xmm0
  0003f	89 45 f4	 mov	 DWORD PTR _szGuildName$[ebp+4], eax
  00042	0f 85 80 00 00
	00		 jne	 $LN2@GDGuildCre

; 326  : 	{
; 327  : 		aIndex = MAKE_NUMBERW(lpMsg->NumberH, lpMsg->NumberL);

  00048	0f b6 47 0c	 movzx	 eax, BYTE PTR [edi+12]
  0004c	66 c1 e0 08	 shl	 ax, 8
  00050	0f b7 f0	 movzx	 esi, ax
  00053	0f b6 47 0d	 movzx	 eax, BYTE PTR [edi+13]

; 328  : 
; 329  : 		PMSG_GUILDCREATED_RESULT pResult;
; 330  : 
; 331  : 		PHeadSetB((LPBYTE)&pResult, 0x56, sizeof(pResult));

  00057	6a 05		 push	 5
  00059	0b f0		 or	 esi, eax
  0005b	8d 45 d4	 lea	 eax, DWORD PTR _pResult$1[ebp]
  0005e	6a 56		 push	 86			; 00000056H
  00060	50		 push	 eax
  00061	e8 00 00 00 00	 call	 ?PHeadSetB@@YAXPAEEH@Z	; PHeadSetB

; 332  : 		pResult.Result = 0;
; 333  : 		pResult.btGuildType = lpMsg->btGuildType;

  00066	8a 47 42	 mov	 al, BYTE PTR [edi+66]
  00069	88 45 d8	 mov	 BYTE PTR _pResult$1[ebp+4], al

; 334  : 
; 335  : 		DataSend(aIndex, (LPBYTE)&pResult, pResult.h.size);

  0006c	0f b6 45 d5	 movzx	 eax, BYTE PTR _pResult$1[ebp+1]
  00070	50		 push	 eax
  00071	8d 45 d4	 lea	 eax, DWORD PTR _pResult$1[ebp]
  00074	c6 45 d7 00	 mov	 BYTE PTR _pResult$1[ebp+3], 0
  00078	50		 push	 eax
  00079	56		 push	 esi
  0007a	e8 00 00 00 00	 call	 ?DataSend@@YAHHPAEK@Z	; DataSend

; 336  : 
; 337  : 		if ( gObj[aIndex].m_IfState.use != 0 && gObj[aIndex].m_IfState.type == 5 )

  0007f	69 d6 40 27 00
	00		 imul	 edx, esi, 10048
  00085	83 c4 18	 add	 esp, 24			; 00000018H
  00088	03 15 00 00 00
	00		 add	 edx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  0008e	8b 8a b8 11 00
	00		 mov	 ecx, DWORD PTR [edx+4536]
  00094	f6 c1 03	 test	 cl, 3
  00097	0f 84 bd 01 00
	00		 je	 $LN9@GDGuildCre
  0009d	8b c1		 mov	 eax, ecx
  0009f	25 c0 ff 00 00	 and	 eax, 65472		; 0000ffc0H
  000a4	3d 40 01 00 00	 cmp	 eax, 320		; 00000140H
  000a9	0f 85 ab 01 00
	00		 jne	 $LN9@GDGuildCre

; 338  : 		{
; 339  : 			gObj[aIndex].m_IfState.use = 0;

  000af	83 e1 fc	 and	 ecx, -4			; fffffffcH
  000b2	5f		 pop	 edi
  000b3	89 8a b8 11 00
	00		 mov	 DWORD PTR [edx+4536], ecx
  000b9	5e		 pop	 esi

; 386  : 		}
; 387  : 	}
; 388  : }

  000ba	8b 4d fc	 mov	 ecx, DWORD PTR __$ArrayPad$[ebp]
  000bd	33 cd		 xor	 ecx, ebp
  000bf	e8 00 00 00 00	 call	 @__security_check_cookie@4
  000c4	8b e5		 mov	 esp, ebp
  000c6	5d		 pop	 ebp
  000c7	c3		 ret	 0
$LN2@GDGuildCre:

; 340  : 		}
; 341  : 
; 342  : 		return;
; 343  : 	}
; 344  : 
; 345  : 	if ( lpMsg->Flag == 1 )

  000c8	80 7f 04 01	 cmp	 BYTE PTR [edi+4], 1
  000cc	0f 85 8e 00 00
	00		 jne	 $LN7@GDGuildCre

; 346  : 	{
; 347  : 		aIndex = MAKE_NUMBERW(lpMsg->NumberH, lpMsg->NumberL);

  000d2	0f b6 47 0c	 movzx	 eax, BYTE PTR [edi+12]
  000d6	66 c1 e0 08	 shl	 ax, 8
  000da	0f b7 f0	 movzx	 esi, ax
  000dd	0f b6 47 0d	 movzx	 eax, BYTE PTR [edi+13]
  000e1	0b f0		 or	 esi, eax

; 348  : 
; 349  : 		if ( gObjIsConnected(aIndex) == TRUE )

  000e3	56		 push	 esi
  000e4	e8 00 00 00 00	 call	 ?gObjIsConnected@@YAHH@Z ; gObjIsConnected
  000e9	83 c4 04	 add	 esp, 4
  000ec	83 f8 01	 cmp	 eax, 1
  000ef	75 6f		 jne	 SHORT $LN7@GDGuildCre

; 350  : 		{
; 351  : 			if ( szMaster[0] == gObj[aIndex].Name[0] )

  000f1	a1 00 00 00 00	 mov	 eax, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  000f6	69 ce 40 27 00
	00		 imul	 ecx, esi, 10048
  000fc	83 c0 5d	 add	 eax, 93			; 0000005dH
  000ff	03 c8		 add	 ecx, eax
  00101	8a 45 e4	 mov	 al, BYTE PTR _szMaster$[ebp]
  00104	3a 01		 cmp	 al, BYTE PTR [ecx]
  00106	75 58		 jne	 SHORT $LN7@GDGuildCre

; 352  : 			{
; 353  : 				if ( strcmp(szMaster, gObj[aIndex].Name) == 0 )

  00108	8d 45 e4	 lea	 eax, DWORD PTR _szMaster$[ebp]
  0010b	0f 1f 44 00 00	 npad	 5
$LL15@GDGuildCre:
  00110	8a 10		 mov	 dl, BYTE PTR [eax]
  00112	3a 11		 cmp	 dl, BYTE PTR [ecx]
  00114	75 1a		 jne	 SHORT $LN16@GDGuildCre
  00116	84 d2		 test	 dl, dl
  00118	74 12		 je	 SHORT $LN17@GDGuildCre
  0011a	8a 50 01	 mov	 dl, BYTE PTR [eax+1]
  0011d	3a 51 01	 cmp	 dl, BYTE PTR [ecx+1]
  00120	75 0e		 jne	 SHORT $LN16@GDGuildCre
  00122	83 c0 02	 add	 eax, 2
  00125	83 c1 02	 add	 ecx, 2
  00128	84 d2		 test	 dl, dl
  0012a	75 e4		 jne	 SHORT $LL15@GDGuildCre
$LN17@GDGuildCre:
  0012c	33 c0		 xor	 eax, eax
  0012e	eb 05		 jmp	 SHORT $LN18@GDGuildCre
$LN16@GDGuildCre:
  00130	1b c0		 sbb	 eax, eax
  00132	83 c8 01	 or	 eax, 1
$LN18@GDGuildCre:
  00135	85 c0		 test	 eax, eax
  00137	75 27		 jne	 SHORT $LN7@GDGuildCre

; 354  : 				{
; 355  : 					pMsg.h.c = 0xC1;
; 356  : 					pMsg.h.headcode = 0x56;
; 357  : 					pMsg.h.size = sizeof(pMsg);
; 358  : 					pMsg.Result = lpMsg->Result;

  00139	0f b6 47 03	 movzx	 eax, BYTE PTR [edi+3]
  0013d	88 45 df	 mov	 BYTE PTR _pMsg$[ebp+3], al

; 359  : 					pMsg.btGuildType = lpMsg->btGuildType;

  00140	0f b6 47 42	 movzx	 eax, BYTE PTR [edi+66]
  00144	88 45 e0	 mov	 BYTE PTR _pMsg$[ebp+4], al

; 360  : 
; 361  : 					DataSend(aIndex, (LPBYTE)&pMsg, pMsg.h.size);

  00147	8d 45 dc	 lea	 eax, DWORD PTR _pMsg$[ebp]
  0014a	6a 05		 push	 5
  0014c	50		 push	 eax
  0014d	56		 push	 esi
  0014e	66 c7 45 dc c1
	05		 mov	 WORD PTR _pMsg$[ebp], 1473 ; 000005c1H
  00154	c6 45 de 56	 mov	 BYTE PTR _pMsg$[ebp+2], 86 ; 00000056H
  00158	e8 00 00 00 00	 call	 ?DataSend@@YAHHPAEK@Z	; DataSend
  0015d	83 c4 0c	 add	 esp, 12			; 0000000cH
$LN7@GDGuildCre:

; 362  : 				}
; 363  : 			}
; 364  : 		}
; 365  : 	}
; 366  : 
; 367  : 	if ( lpMsg->Result == 1 )

  00160	80 7f 03 01	 cmp	 BYTE PTR [edi+3], 1
  00164	0f 85 f0 00 00
	00		 jne	 $LN9@GDGuildCre

; 368  : 	{
; 369  : 		lpNode = Guild.AddGuild(lpMsg->GuildNumber, szGuildName, lpMsg->Mark, szMaster, 0);

  0016a	53		 push	 ebx
  0016b	6a 00		 push	 0
  0016d	8d 4d e4	 lea	 ecx, DWORD PTR _szMaster$[ebp]
  00170	51		 push	 ecx
  00171	8d 47 22	 lea	 eax, DWORD PTR [edi+34]
  00174	b9 00 00 00 00	 mov	 ecx, OFFSET ?Guild@@3VCGuildClass@@A ; Guild
  00179	50		 push	 eax
  0017a	8d 45 f0	 lea	 eax, DWORD PTR _szGuildName$[ebp]
  0017d	50		 push	 eax
  0017e	ff 77 08	 push	 DWORD PTR [edi+8]
  00181	e8 00 00 00 00	 call	 ?AddGuild@CGuildClass@@QAEPAU_GUILD_INFO_STRUCT@@HPADPAE0H@Z ; CGuildClass::AddGuild
  00186	8b d8		 mov	 ebx, eax

; 370  : 
; 371  : 		if ( aIndex >= 0 && lpNode != NULL )

  00188	85 f6		 test	 esi, esi
  0018a	0f 88 c9 00 00
	00		 js	 $LN19@GDGuildCre
  00190	85 db		 test	 ebx, ebx
  00192	0f 84 c1 00 00
	00		 je	 $LN19@GDGuildCre

; 372  : 		{
; 373  : 			gObj[aIndex].lpGuild = lpNode;

  00198	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  0019e	69 d6 40 27 00
	00		 imul	 edx, esi, 10048
  001a4	89 9c 0a 18 06
	00 00		 mov	 DWORD PTR [edx+ecx+1560], ebx

; 374  : 			gObj[aIndex].GuildNumber = lpMsg->GuildNumber;

  001ab	a1 00 00 00 00	 mov	 eax, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  001b0	8b 4f 08	 mov	 ecx, DWORD PTR [edi+8]
  001b3	89 8c 02 14 06
	00 00		 mov	 DWORD PTR [edx+eax+1556], ecx

; 375  : 			gObj[aIndex].GuildStatus = 0x80;

  001ba	a1 00 00 00 00	 mov	 eax, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  001bf	c7 84 02 28 06
	00 00 80 00 00
	00		 mov	 DWORD PTR [edx+eax+1576], 128 ; 00000080H

; 376  : 			lpNode->iGuildRival = 0;

  001ca	c7 83 48 07 00
	00 00 00 00 00	 mov	 DWORD PTR [ebx+1864], 0

; 377  : 			lpNode->iGuildUnion = 0;

  001d4	c7 83 44 07 00
	00 00 00 00 00	 mov	 DWORD PTR [ebx+1860], 0

; 378  : 			lpNode->iTimeStamp = 0;

  001de	c7 83 4c 07 00
	00 00 00 00 00	 mov	 DWORD PTR [ebx+1868], 0

; 379  : 			gObj[aIndex].iGuildUnionTimeStamp = 0;

  001e8	a1 00 00 00 00	 mov	 eax, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  001ed	c7 84 02 2c 06
	00 00 00 00 00
	00		 mov	 DWORD PTR [edx+eax+1580], 0

; 380  : 
; 381  : 			LogAddTD("[U.System] Guild is Created - Guild : %s / [%s][%s]",

  001f8	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  001fe	8d 41 5d	 lea	 eax, DWORD PTR [ecx+93]
  00201	03 c2		 add	 eax, edx
  00203	50		 push	 eax
  00204	8d 41 52	 lea	 eax, DWORD PTR [ecx+82]
  00207	03 c2		 add	 eax, edx
  00209	50		 push	 eax
  0020a	8d 45 f0	 lea	 eax, DWORD PTR _szGuildName$[ebp]
  0020d	50		 push	 eax
  0020e	68 00 00 00 00	 push	 OFFSET ??_C@_0DE@PMHJKKOP@?$FLU?4System?$FN?5Guild?5is?5Created?5?9?5Gu@
  00213	ff 15 00 00 00
	00		 call	 DWORD PTR ?LogAddTD@@3P6AXPADZZA ; LogAddTD
  00219	83 c4 10	 add	 esp, 16			; 00000010H

; 382  : 				szGuildName, gObj[aIndex].AccountID, gObj[aIndex].Name);
; 383  : 
; 384  : 			LogAdd(lMsg.Get(MSGGET(1, 177)), lpNode->WarState, lpNode->WarDeclareState, szGuildName);

  0021c	8d 45 f0	 lea	 eax, DWORD PTR _szGuildName$[ebp]
  0021f	b9 00 00 00 00	 mov	 ecx, OFFSET ?lMsg@@3VMessage@@A ; lMsg
  00224	50		 push	 eax
  00225	0f b6 83 90 05
	00 00		 movzx	 eax, BYTE PTR [ebx+1424]
  0022c	50		 push	 eax
  0022d	0f b6 83 91 05
	00 00		 movzx	 eax, BYTE PTR [ebx+1425]
  00234	50		 push	 eax
  00235	68 b1 01 00 00	 push	 433			; 000001b1H
  0023a	e8 00 00 00 00	 call	 ?Get@Message@@QAEPADH@Z	; Message::Get
  0023f	50		 push	 eax
  00240	ff 15 00 00 00
	00		 call	 DWORD PTR ?LogAdd@@3P6AXPADZZA ; LogAdd

; 385  : 			::GCGuildViewportNowPaint(aIndex, szGuildName, lpMsg->Mark, TRUE);

  00246	6a 01		 push	 1
  00248	8d 47 22	 lea	 eax, DWORD PTR [edi+34]
  0024b	50		 push	 eax
  0024c	8d 45 f0	 lea	 eax, DWORD PTR _szGuildName$[ebp]
  0024f	50		 push	 eax
  00250	56		 push	 esi
  00251	e8 00 00 00 00	 call	 ?GCGuildViewportNowPaint@@YAXHPADPAEH@Z ; GCGuildViewportNowPaint
  00256	83 c4 20	 add	 esp, 32			; 00000020H
$LN19@GDGuildCre:
  00259	5b		 pop	 ebx
$LN9@GDGuildCre:

; 386  : 		}
; 387  : 	}
; 388  : }

  0025a	8b 4d fc	 mov	 ecx, DWORD PTR __$ArrayPad$[ebp]
  0025d	5f		 pop	 edi
  0025e	33 cd		 xor	 ecx, ebp
  00260	5e		 pop	 esi
  00261	e8 00 00 00 00	 call	 @__security_check_cookie@4
  00266	8b e5		 mov	 esp, ebp
  00268	5d		 pop	 ebp
  00269	c3		 ret	 0
?GDGuildCreateRecv@@YAXPAUSDHP_GUILDCREATE_RESULT@@@Z ENDP ; GDGuildCreateRecv
_TEXT	ENDS
; Function compile flags: /Ogtp
; File c:\users\michel\desktop\source\gameserver\source\edsprotocol.cpp
;	COMDAT ?GDGuildCreateSend@@YAXHPAD0PAEH@Z
_TEXT	SEGMENT
_pMsg$ = -64						; size = 58
__$ArrayPad$ = -4					; size = 4
_aIndex$ = 8						; size = 4
_Name$ = 12						; size = 4
_Master$ = 16						; size = 4
_Mark$ = 20						; size = 4
_iGuildType$ = 24					; size = 4
?GDGuildCreateSend@@YAXHPAD0PAEH@Z PROC			; GDGuildCreateSend, COMDAT

; 289  : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	83 ec 40	 sub	 esp, 64			; 00000040H
  00006	a1 00 00 00 00	 mov	 eax, DWORD PTR ___security_cookie
  0000b	33 c5		 xor	 eax, ebp
  0000d	89 45 fc	 mov	 DWORD PTR __$ArrayPad$[ebp], eax
  00010	8b 45 14	 mov	 eax, DWORD PTR _Mark$[ebp]
  00013	8b 4d 10	 mov	 ecx, DWORD PTR _Master$[ebp]
  00016	8b 55 0c	 mov	 edx, DWORD PTR _Name$[ebp]

; 290  : 	SDHP_GUILDCREATE pMsg;
; 291  : 
; 292  : 	pMsg.h.c = 0xC1;
; 293  : 	pMsg.h.headcode = 0x30;
; 294  : 	pMsg.h.size = sizeof(pMsg);
; 295  : 
; 296  : 	memcpy(pMsg.Mark, Mark, sizeof(pMsg.Mark));
; 297  : 	pMsg.Master[MAX_ACCOUNT_LEN] = 0;
; 298  : 	pMsg.GuildName[MAX_GUILD_LEN] = 0;
; 299  : 	memcpy(pMsg.Master, Master, MAX_ACCOUNT_LEN);
; 300  : 	memcpy(pMsg.GuildName, Name, MAX_GUILD_LEN);
; 301  : 	pMsg.NumberH = SET_NUMBERH(aIndex);
; 302  : 	pMsg.NumberL = SET_NUMBERL(aIndex);
; 303  : 	pMsg.btGuildType = iGuildType;
; 304  : 
; 305  : 	wsExDbCli.DataSend((char*)&pMsg, pMsg.h.size);

  00019	6a 3a		 push	 58			; 0000003aH
  0001b	0f 10 00	 movups	 xmm0, XMMWORD PTR [eax]
  0001e	66 c7 45 c0 c1
	3a		 mov	 WORD PTR _pMsg$[ebp], 15041 ; 00003ac1H
  00024	c6 45 c2 30	 mov	 BYTE PTR _pMsg$[ebp+2], 48 ; 00000030H
  00028	0f 11 45 d7	 movups	 XMMWORD PTR _pMsg$[ebp+23], xmm0
  0002c	c6 45 d6 00	 mov	 BYTE PTR _pMsg$[ebp+22], 0
  00030	0f 10 40 10	 movups	 xmm0, XMMWORD PTR [eax+16]
  00034	66 8b 41 08	 mov	 ax, WORD PTR [ecx+8]
  00038	66 89 45 d4	 mov	 WORD PTR _pMsg$[ebp+20], ax
  0003c	8b 02		 mov	 eax, DWORD PTR [edx]
  0003e	89 45 c3	 mov	 DWORD PTR _pMsg$[ebp+3], eax
  00041	8b 42 04	 mov	 eax, DWORD PTR [edx+4]
  00044	89 45 c7	 mov	 DWORD PTR _pMsg$[ebp+7], eax
  00047	0f 11 45 e7	 movups	 XMMWORD PTR _pMsg$[ebp+39], xmm0
  0004b	c6 45 cb 00	 mov	 BYTE PTR _pMsg$[ebp+11], 0
  0004f	f3 0f 7e 01	 movq	 xmm0, QWORD PTR [ecx]
  00053	8b 4d 08	 mov	 ecx, DWORD PTR _aIndex$[ebp]
  00056	8b c1		 mov	 eax, ecx
  00058	c1 e8 08	 shr	 eax, 8
  0005b	88 45 f7	 mov	 BYTE PTR _pMsg$[ebp+55], al
  0005e	8a 45 18	 mov	 al, BYTE PTR _iGuildType$[ebp]
  00061	88 45 f9	 mov	 BYTE PTR _pMsg$[ebp+57], al
  00064	8d 45 c0	 lea	 eax, DWORD PTR _pMsg$[ebp]
  00067	88 4d f8	 mov	 BYTE PTR _pMsg$[ebp+56], cl
  0006a	b9 00 00 00 00	 mov	 ecx, OFFSET ?wsExDbCli@@3VwsJoinServerCli@@A ; wsExDbCli
  0006f	50		 push	 eax
  00070	66 0f d6 45 cc	 movq	 QWORD PTR _pMsg$[ebp+12], xmm0
  00075	e8 00 00 00 00	 call	 ?DataSend@wsJoinServerCli@@QAEHPADH@Z ; wsJoinServerCli::DataSend

; 306  : }

  0007a	8b 4d fc	 mov	 ecx, DWORD PTR __$ArrayPad$[ebp]
  0007d	33 cd		 xor	 ecx, ebp
  0007f	e8 00 00 00 00	 call	 @__security_check_cookie@4
  00084	8b e5		 mov	 esp, ebp
  00086	5d		 pop	 ebp
  00087	c3		 ret	 0
?GDGuildCreateSend@@YAXHPAD0PAEH@Z ENDP			; GDGuildCreateSend
_TEXT	ENDS
; Function compile flags: /Ogtp
; File c:\users\michel\desktop\source\gameserver\source\edsprotocol.cpp
;	COMDAT ?GDCharCloseRecv@@YAXPAUSDHP_USERCLOSE@@@Z
_TEXT	SEGMENT
_szName$ = -28						; size = 11
_szGuildName$ = -16					; size = 9
__$ArrayPad$ = -4					; size = 4
_lpMsg$ = 8						; size = 4
?GDCharCloseRecv@@YAXPAUSDHP_USERCLOSE@@@Z PROC		; GDCharCloseRecv, COMDAT

; 262  : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	83 ec 1c	 sub	 esp, 28			; 0000001cH
  00006	a1 00 00 00 00	 mov	 eax, DWORD PTR ___security_cookie
  0000b	33 c5		 xor	 eax, ebp
  0000d	89 45 fc	 mov	 DWORD PTR __$ArrayPad$[ebp], eax
  00010	8b 4d 08	 mov	 ecx, DWORD PTR _lpMsg$[ebp]
  00013	0f 57 c0	 xorps	 xmm0, xmm0

; 263  : 	char szName[MAX_ACCOUNT_LEN+1];
; 264  : 	char szGuildName[MAX_GUILD_LEN+1];
; 265  : 
; 266  : 	memset(szName, 0, sizeof(szName));

  00016	66 c7 45 ec 00
	00		 mov	 WORD PTR _szName$[ebp+8], 0

; 267  : 	memset(szGuildName, 0, sizeof(szGuildName));

  0001c	66 0f d6 45 f0	 movq	 QWORD PTR _szGuildName$[ebp], xmm0
  00021	66 0f d6 45 e4	 movq	 QWORD PTR _szName$[ebp], xmm0

; 268  : 	memcpy(szName, lpMsg->CharName, sizeof(lpMsg->CharName));

  00026	66 8b 41 0b	 mov	 ax, WORD PTR [ecx+11]
  0002a	f3 0f 7e 41 03	 movq	 xmm0, QWORD PTR [ecx+3]
  0002f	66 89 45 ec	 mov	 WORD PTR _szName$[ebp+8], ax

; 269  : 	memcpy(szGuildName, lpMsg->GuildName, sizeof(lpMsg->GuildName));

  00033	8b 41 0d	 mov	 eax, DWORD PTR [ecx+13]
  00036	89 45 f0	 mov	 DWORD PTR _szGuildName$[ebp], eax
  00039	8b 41 11	 mov	 eax, DWORD PTR [ecx+17]

; 270  : 
; 271  : 	Guild.CloseMember(szGuildName, szName);

  0003c	b9 00 00 00 00	 mov	 ecx, OFFSET ?Guild@@3VCGuildClass@@A ; Guild
  00041	89 45 f4	 mov	 DWORD PTR _szGuildName$[ebp+4], eax
  00044	8d 45 e4	 lea	 eax, DWORD PTR _szName$[ebp]
  00047	50		 push	 eax
  00048	8d 45 f0	 lea	 eax, DWORD PTR _szGuildName$[ebp]
  0004b	c6 45 ee 00	 mov	 BYTE PTR _szName$[ebp+10], 0
  0004f	50		 push	 eax
  00050	c6 45 f8 00	 mov	 BYTE PTR _szGuildName$[ebp+8], 0
  00054	66 0f d6 45 e4	 movq	 QWORD PTR _szName$[ebp], xmm0
  00059	e8 00 00 00 00	 call	 ?CloseMember@CGuildClass@@QAEHPAD0@Z ; CGuildClass::CloseMember

; 272  : }

  0005e	8b 4d fc	 mov	 ecx, DWORD PTR __$ArrayPad$[ebp]
  00061	33 cd		 xor	 ecx, ebp
  00063	e8 00 00 00 00	 call	 @__security_check_cookie@4
  00068	8b e5		 mov	 esp, ebp
  0006a	5d		 pop	 ebp
  0006b	c3		 ret	 0
?GDCharCloseRecv@@YAXPAUSDHP_USERCLOSE@@@Z ENDP		; GDCharCloseRecv
_TEXT	ENDS
; Function compile flags: /Ogtp
; File c:\users\michel\desktop\source\gameserver\source\edsprotocol.cpp
;	COMDAT ?ExDataServerLoginResult@@YAXPAUSDHP_RESULT@@@Z
_TEXT	SEGMENT
_lpMsg$ = 8						; size = 4
?ExDataServerLoginResult@@YAXPAUSDHP_RESULT@@@Z PROC	; ExDataServerLoginResult, COMDAT

; 240  : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp

; 241  : 	if ( lpMsg->Result == false )

  00003	8b 45 08	 mov	 eax, DWORD PTR _lpMsg$[ebp]
  00006	80 78 03 00	 cmp	 BYTE PTR [eax+3], 0
  0000a	75 12		 jne	 SHORT $LN5@ExDataServ

; 242  : 	{
; 243  : 		LogAddTD("ExDB Server Login Fail: %d", lpMsg->Result);

  0000c	6a 00		 push	 0
  0000e	68 00 00 00 00	 push	 OFFSET ??_C@_0BL@MLPIPIDH@ExDB?5Server?5Login?5Fail?3?5?$CFd?$AA@
  00013	ff 15 00 00 00
	00		 call	 DWORD PTR ?LogAddTD@@3P6AXPADZZA ; LogAddTD
  00019	83 c4 08	 add	 esp, 8

; 255  : 			}
; 256  : 		}
; 257  : 	}
; 258  : 	
; 259  : }

  0001c	5d		 pop	 ebp
  0001d	c3		 ret	 0
$LN5@ExDataServ:
  0001e	56		 push	 esi
  0001f	57		 push	 edi

; 244  : 
; 245  : 		return;
; 246  : 	}
; 247  : 
; 248  : 	for (int i=0;i<OBJMAX;i++)

  00020	33 ff		 xor	 edi, edi
  00022	33 f6		 xor	 esi, esi
$LL4@ExDataServ:

; 249  : 	{
; 250  : 		if ( gObjIsConnectedGP(i) == TRUE )

  00024	57		 push	 edi
  00025	e8 00 00 00 00	 call	 ?gObjIsConnectedGP@@YAHH@Z ; gObjIsConnectedGP
  0002a	83 c4 04	 add	 esp, 4
  0002d	83 f8 01	 cmp	 eax, 1
  00030	75 17		 jne	 SHORT $LN2@ExDataServ

; 251  : 		{
; 252  : 			if ( gObj[i].m_FriendServerOnline == FRIEND_SERVER_STATE_OFFLINE )

  00032	a1 00 00 00 00	 mov	 eax, DWORD PTR ?gObj@@3PAUOBJECTSTRUCT@@A ; gObj
  00037	80 bc 06 60 05
	00 00 01	 cmp	 BYTE PTR [esi+eax+1376], 1
  0003f	75 08		 jne	 SHORT $LN2@ExDataServ

; 253  : 			{
; 254  : 				gObj[i].m_FriendServerOnline = FALSE;

  00041	c6 84 06 60 05
	00 00 00	 mov	 BYTE PTR [esi+eax+1376], 0
$LN2@ExDataServ:

; 244  : 
; 245  : 		return;
; 246  : 	}
; 247  : 
; 248  : 	for (int i=0;i<OBJMAX;i++)

  00049	81 c6 40 27 00
	00		 add	 esi, 10048		; 00002740H
  0004f	47		 inc	 edi
  00050	81 fe 00 2f e3
	06		 cmp	 esi, 115552000		; 06e32f00H
  00056	7c cc		 jl	 SHORT $LL4@ExDataServ
  00058	5f		 pop	 edi
  00059	5e		 pop	 esi

; 255  : 			}
; 256  : 		}
; 257  : 	}
; 258  : 	
; 259  : }

  0005a	5d		 pop	 ebp
  0005b	c3		 ret	 0
?ExDataServerLoginResult@@YAXPAUSDHP_RESULT@@@Z ENDP	; ExDataServerLoginResult
_TEXT	ENDS
; Function compile flags: /Ogtp
; File c:\users\michel\desktop\source\gameserver\source\edsprotocol.cpp
;	COMDAT ?GDCharClose@@YAXHPAD0@Z
_TEXT	SEGMENT
_pMsg$ = -28						; size = 22
__$ArrayPad$ = -4					; size = 4
_type$ = 8						; size = 4
_GuildName$ = 12					; size = 4
_Name$ = 16						; size = 4
?GDCharClose@@YAXHPAD0@Z PROC				; GDCharClose, COMDAT

; 218  : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	83 ec 1c	 sub	 esp, 28			; 0000001cH
  00006	a1 00 00 00 00	 mov	 eax, DWORD PTR ___security_cookie
  0000b	33 c5		 xor	 eax, ebp
  0000d	89 45 fc	 mov	 DWORD PTR __$ArrayPad$[ebp], eax
  00010	8b 4d 10	 mov	 ecx, DWORD PTR _Name$[ebp]

; 219  : 	SDHP_USERCLOSE pMsg;
; 220  : 
; 221  : 	pMsg.h.c = 0xC1;
; 222  : 	pMsg.h.size = sizeof(pMsg);
; 223  : 	pMsg.h.headcode = 0x02;
; 224  : 	pMsg.Type = type;

  00013	8a 45 08	 mov	 al, BYTE PTR _type$[ebp]
  00016	8b 55 0c	 mov	 edx, DWORD PTR _GuildName$[ebp]
  00019	88 45 f9	 mov	 BYTE PTR _pMsg$[ebp+21], al

; 225  : 	memcpy(pMsg.CharName, Name, sizeof(pMsg.CharName));

  0001c	f3 0f 7e 01	 movq	 xmm0, QWORD PTR [ecx]
  00020	66 8b 41 08	 mov	 ax, WORD PTR [ecx+8]
  00024	66 0f d6 45 e7	 movq	 QWORD PTR _pMsg$[ebp+3], xmm0
  00029	0f 57 c0	 xorps	 xmm0, xmm0
  0002c	66 c7 45 e4 c1
	16		 mov	 WORD PTR _pMsg$[ebp], 5825 ; 000016c1H
  00032	c6 45 e6 02	 mov	 BYTE PTR _pMsg$[ebp+2], 2
  00036	66 89 45 ef	 mov	 WORD PTR _pMsg$[ebp+11], ax

; 226  : 	memset(pMsg.GuildName, 0, sizeof(pMsg.GuildName));

  0003a	66 0f d6 45 f1	 movq	 QWORD PTR _pMsg$[ebp+13], xmm0
  0003f	53		 push	 ebx
  00040	b3 16		 mov	 bl, 22			; 00000016H

; 227  : 
; 228  : 	if ( GuildName != NULL )

  00042	85 d2		 test	 edx, edx
  00044	74 0b		 je	 SHORT $LN2@GDCharClos

; 229  : 	{
; 230  : 		memcpy(pMsg.GuildName, GuildName, sizeof(pMsg.GuildName));

  00046	8b 02		 mov	 eax, DWORD PTR [edx]
  00048	89 45 f1	 mov	 DWORD PTR _pMsg$[ebp+13], eax
  0004b	8b 42 04	 mov	 eax, DWORD PTR [edx+4]
  0004e	89 45 f5	 mov	 DWORD PTR _pMsg$[ebp+17], eax
$LN2@GDCharClos:

; 231  : 	}
; 232  : 
; 233  : 	wsExDbCli.DataSend((char*)&pMsg, pMsg.h.size);

  00051	0f b6 c3	 movzx	 eax, bl
  00054	b9 00 00 00 00	 mov	 ecx, OFFSET ?wsExDbCli@@3VwsJoinServerCli@@A ; wsExDbCli
  00059	50		 push	 eax
  0005a	8d 45 e4	 lea	 eax, DWORD PTR _pMsg$[ebp]
  0005d	50		 push	 eax
  0005e	e8 00 00 00 00	 call	 ?DataSend@wsJoinServerCli@@QAEHPADH@Z ; wsJoinServerCli::DataSend

; 234  : }

  00063	8b 4d fc	 mov	 ecx, DWORD PTR __$ArrayPad$[ebp]
  00066	33 cd		 xor	 ecx, ebp
  00068	5b		 pop	 ebx
  00069	e8 00 00 00 00	 call	 @__security_check_cookie@4
  0006e	8b e5		 mov	 esp, ebp
  00070	5d		 pop	 ebp
  00071	c3		 ret	 0
?GDCharClose@@YAXHPAD0@Z ENDP				; GDCharClose
_TEXT	ENDS
; Function compile flags: /Ogtp
; File c:\users\michel\desktop\source\gameserver\source\edsprotocol.cpp
;	COMDAT ?ExDataServerLogin@@YAXXZ
_TEXT	SEGMENT
_pInfo$ = -64						; size = 58
__$ArrayPad$ = -4					; size = 4
?ExDataServerLogin@@YAXXZ PROC				; ExDataServerLogin, COMDAT

; 201  : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	83 ec 40	 sub	 esp, 64			; 00000040H
  00006	a1 00 00 00 00	 mov	 eax, DWORD PTR ___security_cookie
  0000b	33 c5		 xor	 eax, ebp
  0000d	89 45 fc	 mov	 DWORD PTR __$ArrayPad$[ebp], eax

; 202  : 	SDHP_SERVERINFO pInfo;
; 203  : 
; 204  : 	pInfo.h.c = 0xC1;
; 205  : 	pInfo.h.size = sizeof(SDHP_SERVERINFO);
; 206  : 	pInfo.h.headcode = 0x00;
; 207  : 	pInfo.Port = GameServerPort;

  00010	0f b7 05 00 00
	00 00		 movzx	 eax, WORD PTR ?GameServerPort@@3HA
  00017	66 89 45 c4	 mov	 WORD PTR _pInfo$[ebp+4], ax

; 208  : 	pInfo.Type = 0x01;
; 209  : 	pInfo.ServerCode = gGameServerCode;

  0001b	0f b7 05 00 00
	00 00		 movzx	 eax, WORD PTR ?gGameServerCode@@3FA ; gGameServerCode
  00022	66 89 45 f8	 mov	 WORD PTR _pInfo$[ebp+56], ax

; 210  : 	strcpy(pInfo.ServerName, szServerName);

  00026	33 c0		 xor	 eax, eax
  00028	c7 45 c0 c1 3a
	00 01		 mov	 DWORD PTR _pInfo$[ebp], 16792257 ; 01003ac1H
  0002f	90		 npad	 1
$LL3@ExDataServ:
  00030	8a 88 00 00 00
	00		 mov	 cl, BYTE PTR ?szServerName@@3PADA[eax]
  00036	8d 40 01	 lea	 eax, DWORD PTR [eax+1]
  00039	88 4c 05 c5	 mov	 BYTE PTR _pInfo$[ebp+eax+5], cl
  0003d	84 c9		 test	 cl, cl
  0003f	75 ef		 jne	 SHORT $LL3@ExDataServ

; 211  : 
; 212  : 	wsExDbCli.DataSend((char*)&pInfo, pInfo.h.size);

  00041	0f b6 45 c1	 movzx	 eax, BYTE PTR _pInfo$[ebp+1]
  00045	b9 00 00 00 00	 mov	 ecx, OFFSET ?wsExDbCli@@3VwsJoinServerCli@@A ; wsExDbCli
  0004a	50		 push	 eax
  0004b	8d 45 c0	 lea	 eax, DWORD PTR _pInfo$[ebp]
  0004e	50		 push	 eax
  0004f	e8 00 00 00 00	 call	 ?DataSend@wsJoinServerCli@@QAEHPADH@Z ; wsJoinServerCli::DataSend

; 213  : }

  00054	8b 4d fc	 mov	 ecx, DWORD PTR __$ArrayPad$[ebp]
  00057	33 cd		 xor	 ecx, ebp
  00059	e8 00 00 00 00	 call	 @__security_check_cookie@4
  0005e	8b e5		 mov	 esp, ebp
  00060	5d		 pop	 ebp
  00061	c3		 ret	 0
?ExDataServerLogin@@YAXXZ ENDP				; ExDataServerLogin
_TEXT	ENDS
; Function compile flags: /Ogtp
; File c:\users\michel\desktop\source\gameserver\source\edsprotocol.cpp
;	COMDAT ?ExDataServerProtocolCore@@YAXEPAEH@Z
_TEXT	SEGMENT
_protoNum$ = 8						; size = 1
_aRecv$ = 12						; size = 4
_aLen$ = 16						; size = 4
?ExDataServerProtocolCore@@YAXEPAEH@Z PROC		; ExDataServerProtocolCore, COMDAT

; 42   : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp

; 43   : 	#ifdef TRACE_PROTOCOL
; 44   : 		LogAddHeadHex("EX_DATA_SERVER", aRecv, aLen);
; 45   : 	#endif
; 46   : 	
; 47   : 	switch ( protoNum )

  00003	0f b6 45 08	 movzx	 eax, BYTE PTR _protoNum$[ebp]
  00007	3d eb 00 00 00	 cmp	 eax, 235		; 000000ebH
  0000c	0f 87 d4 01 00
	00		 ja	 $LN2@ExDataServ
  00012	0f b6 80 00 00
	00 00		 movzx	 eax, BYTE PTR $LN42@ExDataServ[eax]
  00019	ff 24 85 00 00
	00 00		 jmp	 DWORD PTR $LN45@ExDataServ[eax*4]
$LN6@ExDataServ:

; 48   : 	{
; 49   : 		case 0x00:
; 50   : 			ExDataServerLoginResult((SDHP_RESULT *)aRecv);

  00020	ff 75 0c	 push	 DWORD PTR _aRecv$[ebp]
  00023	e8 00 00 00 00	 call	 ?ExDataServerLoginResult@@YAXPAUSDHP_RESULT@@@Z ; ExDataServerLoginResult

; 188  : 			break;
; 189  : 
; 190  : 		case 0x74:
; 191  : 			FriendRoomInvitationRecv((FHP_FRIEND_INVITATION_RET *)aRecv);

  00028	83 c4 04	 add	 esp, 4

; 192  : 			break;
; 193  : 	}
; 194  : }

  0002b	5d		 pop	 ebp
  0002c	c3		 ret	 0
$LN7@ExDataServ:

; 51   : 			break;
; 52   : 
; 53   : 		case 0x02:
; 54   : 			GDCharCloseRecv((SDHP_USERCLOSE *)aRecv);

  0002d	ff 75 0c	 push	 DWORD PTR _aRecv$[ebp]
  00030	e8 00 00 00 00	 call	 ?GDCharCloseRecv@@YAXPAUSDHP_USERCLOSE@@@Z ; GDCharCloseRecv

; 188  : 			break;
; 189  : 
; 190  : 		case 0x74:
; 191  : 			FriendRoomInvitationRecv((FHP_FRIEND_INVITATION_RET *)aRecv);

  00035	83 c4 04	 add	 esp, 4

; 192  : 			break;
; 193  : 	}
; 194  : }

  00038	5d		 pop	 ebp
  00039	c3		 ret	 0
$LN8@ExDataServ:

; 55   : 			break;
; 56   : 
; 57   : 		case 0x30:
; 58   : 			GDGuildCreateRecv((SDHP_GUILDCREATE_RESULT *)aRecv);

  0003a	ff 75 0c	 push	 DWORD PTR _aRecv$[ebp]
  0003d	e8 00 00 00 00	 call	 ?GDGuildCreateRecv@@YAXPAUSDHP_GUILDCREATE_RESULT@@@Z ; GDGuildCreateRecv

; 188  : 			break;
; 189  : 
; 190  : 		case 0x74:
; 191  : 			FriendRoomInvitationRecv((FHP_FRIEND_INVITATION_RET *)aRecv);

  00042	83 c4 04	 add	 esp, 4

; 192  : 			break;
; 193  : 	}
; 194  : }

  00045	5d		 pop	 ebp
  00046	c3		 ret	 0
$LN9@ExDataServ:

; 59   : 			break;
; 60   : 
; 61   : 		case 0x31:
; 62   : 			GDGuildDestroyRecv((SDHP_GUILDDESTROY_RESULT *)aRecv);

  00047	ff 75 0c	 push	 DWORD PTR _aRecv$[ebp]
  0004a	e8 00 00 00 00	 call	 ?GDGuildDestroyRecv@@YAXPAUSDHP_GUILDDESTROY_RESULT@@@Z ; GDGuildDestroyRecv

; 188  : 			break;
; 189  : 
; 190  : 		case 0x74:
; 191  : 			FriendRoomInvitationRecv((FHP_FRIEND_INVITATION_RET *)aRecv);

  0004f	83 c4 04	 add	 esp, 4

; 192  : 			break;
; 193  : 	}
; 194  : }

  00052	5d		 pop	 ebp
  00053	c3		 ret	 0
$LN10@ExDataServ:

; 63   : 			break;
; 64   : 
; 65   : 		case 0x32:
; 66   : 			GDGuildMemberAddResult((SDHP_GUILDMEMBERADD_RESULT *)aRecv);

  00054	ff 75 0c	 push	 DWORD PTR _aRecv$[ebp]
  00057	e8 00 00 00 00	 call	 ?GDGuildMemberAddResult@@YAXPAUSDHP_GUILDMEMBERADD_RESULT@@@Z ; GDGuildMemberAddResult

; 188  : 			break;
; 189  : 
; 190  : 		case 0x74:
; 191  : 			FriendRoomInvitationRecv((FHP_FRIEND_INVITATION_RET *)aRecv);

  0005c	83 c4 04	 add	 esp, 4

; 192  : 			break;
; 193  : 	}
; 194  : }

  0005f	5d		 pop	 ebp
  00060	c3		 ret	 0
$LN11@ExDataServ:

; 67   : 			break;
; 68   : 
; 69   : 		case 0x33:
; 70   : 			GDGuildMemberDelResult((SDHP_GUILDMEMBERDEL_RESULT *)aRecv);

  00061	ff 75 0c	 push	 DWORD PTR _aRecv$[ebp]
  00064	e8 00 00 00 00	 call	 ?GDGuildMemberDelResult@@YAXPAUSDHP_GUILDMEMBERDEL_RESULT@@@Z ; GDGuildMemberDelResult

; 188  : 			break;
; 189  : 
; 190  : 		case 0x74:
; 191  : 			FriendRoomInvitationRecv((FHP_FRIEND_INVITATION_RET *)aRecv);

  00069	83 c4 04	 add	 esp, 4

; 192  : 			break;
; 193  : 	}
; 194  : }

  0006c	5d		 pop	 ebp
  0006d	c3		 ret	 0
$LN12@ExDataServ:

; 71   : 			break;
; 72   : 
; 73   : 		case 0x35:
; 74   : 			DGGuildMemberInfo((SDHP_GUILDMEMBER_INFO *)aRecv);

  0006e	ff 75 0c	 push	 DWORD PTR _aRecv$[ebp]
  00071	e8 00 00 00 00	 call	 ?DGGuildMemberInfo@@YAXPAUSDHP_GUILDMEMBER_INFO@@@Z ; DGGuildMemberInfo

; 188  : 			break;
; 189  : 
; 190  : 		case 0x74:
; 191  : 			FriendRoomInvitationRecv((FHP_FRIEND_INVITATION_RET *)aRecv);

  00076	83 c4 04	 add	 esp, 4

; 192  : 			break;
; 193  : 	}
; 194  : }

  00079	5d		 pop	 ebp
  0007a	c3		 ret	 0
$LN13@ExDataServ:

; 75   : 			break;
; 76   : 
; 77   : 		case 0x36:
; 78   : 			DGGuildMasterListRecv(aRecv);

  0007b	ff 75 0c	 push	 DWORD PTR _aRecv$[ebp]
  0007e	e8 00 00 00 00	 call	 ?DGGuildMasterListRecv@@YAXPAE@Z ; DGGuildMasterListRecv

; 188  : 			break;
; 189  : 
; 190  : 		case 0x74:
; 191  : 			FriendRoomInvitationRecv((FHP_FRIEND_INVITATION_RET *)aRecv);

  00083	83 c4 04	 add	 esp, 4

; 192  : 			break;
; 193  : 	}
; 194  : }

  00086	5d		 pop	 ebp
  00087	c3		 ret	 0
$LN14@ExDataServ:

; 79   : 			break;
; 80   : 
; 81   : 		case 0x37:
; 82   : 			GDGuildScoreUpdateRecv((SDHP_GUILDSCOREUPDATE *)aRecv);

  00088	ff 75 0c	 push	 DWORD PTR _aRecv$[ebp]
  0008b	e8 00 00 00 00	 call	 ?GDGuildScoreUpdateRecv@@YAXPAUSDHP_GUILDSCOREUPDATE@@@Z ; GDGuildScoreUpdateRecv

; 188  : 			break;
; 189  : 
; 190  : 		case 0x74:
; 191  : 			FriendRoomInvitationRecv((FHP_FRIEND_INVITATION_RET *)aRecv);

  00090	83 c4 04	 add	 esp, 4

; 192  : 			break;
; 193  : 	}
; 194  : }

  00093	5d		 pop	 ebp
  00094	c3		 ret	 0
$LN15@ExDataServ:

; 83   : 			break;
; 84   : 
; 85   : 		case 0x38:
; 86   : 			DGGuildNoticeRecv((SDHP_GUILDNOTICE *)aRecv);

  00095	ff 75 0c	 push	 DWORD PTR _aRecv$[ebp]
  00098	e8 00 00 00 00	 call	 ?DGGuildNoticeRecv@@YAXPAUSDHP_GUILDNOTICE@@@Z ; DGGuildNoticeRecv

; 188  : 			break;
; 189  : 
; 190  : 		case 0x74:
; 191  : 			FriendRoomInvitationRecv((FHP_FRIEND_INVITATION_RET *)aRecv);

  0009d	83 c4 04	 add	 esp, 4

; 192  : 			break;
; 193  : 	}
; 194  : }

  000a0	5d		 pop	 ebp
  000a1	c3		 ret	 0
$LN16@ExDataServ:

; 87   : 			break;
; 88   : 
; 89   : 		case 0x40:
; 90   : 			DGGuildList((SDHP_GUILDCREATED *)aRecv);

  000a2	ff 75 0c	 push	 DWORD PTR _aRecv$[ebp]
  000a5	e8 00 00 00 00	 call	 ?DGGuildList@@YAXPAUSDHP_GUILDCREATED@@@Z ; DGGuildList

; 188  : 			break;
; 189  : 
; 190  : 		case 0x74:
; 191  : 			FriendRoomInvitationRecv((FHP_FRIEND_INVITATION_RET *)aRecv);

  000aa	83 c4 04	 add	 esp, 4

; 192  : 			break;
; 193  : 	}
; 194  : }

  000ad	5d		 pop	 ebp
  000ae	c3		 ret	 0
$LN17@ExDataServ:

; 91   : 			break;
; 92   : 
; 93   : 		case 0x41:
; 94   : 			DGGuildListState((SDHP_GUILDLISTSTATE *)aRecv);

  000af	ff 75 0c	 push	 DWORD PTR _aRecv$[ebp]
  000b2	e8 00 00 00 00	 call	 ?DGGuildListState@@YAXPAUSDHP_GUILDLISTSTATE@@@Z ; DGGuildListState

; 188  : 			break;
; 189  : 
; 190  : 		case 0x74:
; 191  : 			FriendRoomInvitationRecv((FHP_FRIEND_INVITATION_RET *)aRecv);

  000b7	83 c4 04	 add	 esp, 4

; 192  : 			break;
; 193  : 	}
; 194  : }

  000ba	5d		 pop	 ebp
  000bb	c3		 ret	 0
$LN18@ExDataServ:

; 95   : 			break;
; 96   : 
; 97   : 		case 0x50:
; 98   : 			DGGuildServerGroupChattingRecv((EXSDHP_SERVERGROUP_GUILD_CHATTING_RECV *)aRecv);

  000bc	ff 75 0c	 push	 DWORD PTR _aRecv$[ebp]
  000bf	e8 00 00 00 00	 call	 ?DGGuildServerGroupChattingRecv@@YAXPAUEXSDHP_SERVERGROUP_GUILD_CHATTING_RECV@@@Z ; DGGuildServerGroupChattingRecv

; 188  : 			break;
; 189  : 
; 190  : 		case 0x74:
; 191  : 			FriendRoomInvitationRecv((FHP_FRIEND_INVITATION_RET *)aRecv);

  000c4	83 c4 04	 add	 esp, 4

; 192  : 			break;
; 193  : 	}
; 194  : }

  000c7	5d		 pop	 ebp
  000c8	c3		 ret	 0
$LN19@ExDataServ:

; 99   : 			break;
; 100  : 
; 101  : 		case 0x51:
; 102  : 			DGUnionServerGroupChattingRecv((EXSDHP_SERVERGROUP_UNION_CHATTING_RECV *)aRecv);

  000c9	ff 75 0c	 push	 DWORD PTR _aRecv$[ebp]
  000cc	e8 00 00 00 00	 call	 ?DGUnionServerGroupChattingRecv@@YAXPAUEXSDHP_SERVERGROUP_UNION_CHATTING_RECV@@@Z ; DGUnionServerGroupChattingRecv

; 188  : 			break;
; 189  : 
; 190  : 		case 0x74:
; 191  : 			FriendRoomInvitationRecv((FHP_FRIEND_INVITATION_RET *)aRecv);

  000d1	83 c4 04	 add	 esp, 4

; 192  : 			break;
; 193  : 	}
; 194  : }

  000d4	5d		 pop	 ebp
  000d5	c3		 ret	 0
$LN20@ExDataServ:

; 103  : 			break;
; 104  : 		///////////////////////////////////////////
; 105  : 		case 0xE1:
; 106  : 			DGGuildAnsAssignStatus((EXSDHP_GUILD_ASSIGN_STATUS_RESULT *)aRecv);

  000d6	ff 75 0c	 push	 DWORD PTR _aRecv$[ebp]
  000d9	e8 00 00 00 00	 call	 ?DGGuildAnsAssignStatus@@YAXPAUEXSDHP_GUILD_ASSIGN_STATUS_RESULT@@@Z ; DGGuildAnsAssignStatus

; 188  : 			break;
; 189  : 
; 190  : 		case 0x74:
; 191  : 			FriendRoomInvitationRecv((FHP_FRIEND_INVITATION_RET *)aRecv);

  000de	83 c4 04	 add	 esp, 4

; 192  : 			break;
; 193  : 	}
; 194  : }

  000e1	5d		 pop	 ebp
  000e2	c3		 ret	 0
$LN21@ExDataServ:

; 107  : 			break;
; 108  : 
; 109  : 		case 0xE2:
; 110  : 			DGGuildAnsAssignType((EXSDHP_GUILD_ASSIGN_TYPE_RESULT *)aRecv);

  000e3	ff 75 0c	 push	 DWORD PTR _aRecv$[ebp]
  000e6	e8 00 00 00 00	 call	 ?DGGuildAnsAssignType@@YAXPAUEXSDHP_GUILD_ASSIGN_TYPE_RESULT@@@Z ; DGGuildAnsAssignType

; 188  : 			break;
; 189  : 
; 190  : 		case 0x74:
; 191  : 			FriendRoomInvitationRecv((FHP_FRIEND_INVITATION_RET *)aRecv);

  000eb	83 c4 04	 add	 esp, 4

; 192  : 			break;
; 193  : 	}
; 194  : }

  000ee	5d		 pop	 ebp
  000ef	c3		 ret	 0
$LN22@ExDataServ:

; 111  : 			break;
; 112  : 
; 113  : 		case 0xE5:
; 114  : 			DGRelationShipAnsJoin((EXSDHP_RELATIONSHIP_JOIN_RESULT *)aRecv);

  000f0	ff 75 0c	 push	 DWORD PTR _aRecv$[ebp]
  000f3	e8 00 00 00 00	 call	 ?DGRelationShipAnsJoin@@YAXPAUEXSDHP_RELATIONSHIP_JOIN_RESULT@@@Z ; DGRelationShipAnsJoin

; 188  : 			break;
; 189  : 
; 190  : 		case 0x74:
; 191  : 			FriendRoomInvitationRecv((FHP_FRIEND_INVITATION_RET *)aRecv);

  000f8	83 c4 04	 add	 esp, 4

; 192  : 			break;
; 193  : 	}
; 194  : }

  000fb	5d		 pop	 ebp
  000fc	c3		 ret	 0
$LN23@ExDataServ:

; 115  : 			break;
; 116  : 
; 117  : 		case 0xE6:
; 118  : 			DGRelationShipAnsBreakOff((EXSDHP_RELATIONSHIP_BREAKOFF_RESULT *)aRecv);

  000fd	ff 75 0c	 push	 DWORD PTR _aRecv$[ebp]
  00100	e8 00 00 00 00	 call	 ?DGRelationShipAnsBreakOff@@YAXPAUEXSDHP_RELATIONSHIP_BREAKOFF_RESULT@@@Z ; DGRelationShipAnsBreakOff

; 188  : 			break;
; 189  : 
; 190  : 		case 0x74:
; 191  : 			FriendRoomInvitationRecv((FHP_FRIEND_INVITATION_RET *)aRecv);

  00105	83 c4 04	 add	 esp, 4

; 192  : 			break;
; 193  : 	}
; 194  : }

  00108	5d		 pop	 ebp
  00109	c3		 ret	 0
$LN24@ExDataServ:

; 119  : 			break;
; 120  : 
; 121  : 		case 0xE7:
; 122  : 			DGRelationShipListRecv((EXSDHP_UNION_RELATIONSHIP_LIST *)aRecv);

  0010a	ff 75 0c	 push	 DWORD PTR _aRecv$[ebp]
  0010d	e8 00 00 00 00	 call	 ?DGRelationShipListRecv@@YAXPAUEXSDHP_UNION_RELATIONSHIP_LIST@@@Z ; DGRelationShipListRecv

; 188  : 			break;
; 189  : 
; 190  : 		case 0x74:
; 191  : 			FriendRoomInvitationRecv((FHP_FRIEND_INVITATION_RET *)aRecv);

  00112	83 c4 04	 add	 esp, 4

; 192  : 			break;
; 193  : 	}
; 194  : }

  00115	5d		 pop	 ebp
  00116	c3		 ret	 0
$LN25@ExDataServ:

; 123  : 			break;
; 124  : 
; 125  : 		case 0xE8:
; 126  : 			DGRelationShipNotificationRecv((EXSDHP_NOTIFICATION_RELATIONSHIP *)aRecv);

  00117	ff 75 0c	 push	 DWORD PTR _aRecv$[ebp]
  0011a	e8 00 00 00 00	 call	 ?DGRelationShipNotificationRecv@@YAXPAUEXSDHP_NOTIFICATION_RELATIONSHIP@@@Z ; DGRelationShipNotificationRecv

; 188  : 			break;
; 189  : 
; 190  : 		case 0x74:
; 191  : 			FriendRoomInvitationRecv((FHP_FRIEND_INVITATION_RET *)aRecv);

  0011f	83 c4 04	 add	 esp, 4

; 192  : 			break;
; 193  : 	}
; 194  : }

  00122	5d		 pop	 ebp
  00123	c3		 ret	 0
$LN26@ExDataServ:

; 127  : 			break;
; 128  : 
; 129  : 		case 0xE9:
; 130  : 			DGUnionListRecv(aRecv);

  00124	ff 75 0c	 push	 DWORD PTR _aRecv$[ebp]
  00127	e8 00 00 00 00	 call	 ?DGUnionListRecv@@YAXPAE@Z ; DGUnionListRecv

; 188  : 			break;
; 189  : 
; 190  : 		case 0x74:
; 191  : 			FriendRoomInvitationRecv((FHP_FRIEND_INVITATION_RET *)aRecv);

  0012c	83 c4 04	 add	 esp, 4

; 192  : 			break;
; 193  : 	}
; 194  : }

  0012f	5d		 pop	 ebp
  00130	c3		 ret	 0
$LN27@ExDataServ:

; 131  : 			break;
; 132  : 
; 133  : 		case 0xEB:
; 134  : 			{
; 135  : 				PMSG_DEFAULT2 * lpDef = (PMSG_DEFAULT2 *)aRecv;
; 136  : 
; 137  : 				switch ( lpDef->subcode )

  00131	8b 4d 0c	 mov	 ecx, DWORD PTR _aRecv$[ebp]
  00134	0f b6 41 03	 movzx	 eax, BYTE PTR [ecx+3]
  00138	83 e8 01	 sub	 eax, 1
  0013b	0f 85 a5 00 00
	00		 jne	 $LN2@ExDataServ

; 138  : 				{
; 139  : 					case 0x01:
; 140  : 						DGRelationShipAnsKickOutUnionMember((EXSDHP_KICKOUT_UNIONMEMBER_RESULT *)aRecv);

  00141	51		 push	 ecx
  00142	e8 00 00 00 00	 call	 ?DGRelationShipAnsKickOutUnionMember@@YAXPAUEXSDHP_KICKOUT_UNIONMEMBER_RESULT@@@Z ; DGRelationShipAnsKickOutUnionMember

; 188  : 			break;
; 189  : 
; 190  : 		case 0x74:
; 191  : 			FriendRoomInvitationRecv((FHP_FRIEND_INVITATION_RET *)aRecv);

  00147	83 c4 04	 add	 esp, 4

; 192  : 			break;
; 193  : 	}
; 194  : }

  0014a	5d		 pop	 ebp
  0014b	c3		 ret	 0
$LN29@ExDataServ:

; 141  : 						break;
; 142  : 				}
; 143  : 			}
; 144  : 			break;
; 145  : 		//////////////////////////////////////////////////////////
; 146  : 		case 0x60:
; 147  : 			FriendListResult(aRecv);

  0014c	ff 75 0c	 push	 DWORD PTR _aRecv$[ebp]
  0014f	e8 00 00 00 00	 call	 ?FriendListResult@@YAXPAE@Z ; FriendListResult

; 188  : 			break;
; 189  : 
; 190  : 		case 0x74:
; 191  : 			FriendRoomInvitationRecv((FHP_FRIEND_INVITATION_RET *)aRecv);

  00154	83 c4 04	 add	 esp, 4

; 192  : 			break;
; 193  : 	}
; 194  : }

  00157	5d		 pop	 ebp
  00158	c3		 ret	 0
$LN30@ExDataServ:

; 148  : 			break;
; 149  : 
; 150  : 		case 0x61:
; 151  : 			WaitFriendListResult((FHP_WAITFRIENDLIST_COUNT *)aRecv);

  00159	ff 75 0c	 push	 DWORD PTR _aRecv$[ebp]
  0015c	e8 00 00 00 00	 call	 ?WaitFriendListResult@@YAXPAUFHP_WAITFRIENDLIST_COUNT@@@Z ; WaitFriendListResult

; 188  : 			break;
; 189  : 
; 190  : 		case 0x74:
; 191  : 			FriendRoomInvitationRecv((FHP_FRIEND_INVITATION_RET *)aRecv);

  00161	83 c4 04	 add	 esp, 4

; 192  : 			break;
; 193  : 	}
; 194  : }

  00164	5d		 pop	 ebp
  00165	c3		 ret	 0
$LN31@ExDataServ:

; 152  : 			break;
; 153  : 
; 154  : 		case 0x62:
; 155  : 			FriendStateRecv((FHP_FRIEND_STATE *)aRecv);

  00166	ff 75 0c	 push	 DWORD PTR _aRecv$[ebp]
  00169	e8 00 00 00 00	 call	 ?FriendStateRecv@@YAXPAUFHP_FRIEND_STATE@@@Z ; FriendStateRecv

; 188  : 			break;
; 189  : 
; 190  : 		case 0x74:
; 191  : 			FriendRoomInvitationRecv((FHP_FRIEND_INVITATION_RET *)aRecv);

  0016e	83 c4 04	 add	 esp, 4

; 192  : 			break;
; 193  : 	}
; 194  : }

  00171	5d		 pop	 ebp
  00172	c3		 ret	 0
$LN32@ExDataServ:

; 156  : 			break;
; 157  : 
; 158  : 		case 0x63:
; 159  : 			FriendAddResult((FHP_FRIEND_ADD_RESULT *)aRecv);

  00173	ff 75 0c	 push	 DWORD PTR _aRecv$[ebp]
  00176	e8 00 00 00 00	 call	 ?FriendAddResult@@YAXPAUFHP_FRIEND_ADD_RESULT@@@Z ; FriendAddResult

; 188  : 			break;
; 189  : 
; 190  : 		case 0x74:
; 191  : 			FriendRoomInvitationRecv((FHP_FRIEND_INVITATION_RET *)aRecv);

  0017b	83 c4 04	 add	 esp, 4

; 192  : 			break;
; 193  : 	}
; 194  : }

  0017e	5d		 pop	 ebp
  0017f	c3		 ret	 0
$LN33@ExDataServ:

; 160  : 			break;
; 161  : 
; 162  : 		case 0x64:
; 163  : 			WaitFriendAddResult((FHP_WAITFRIEND_ADD_RESULT *)aRecv);

  00180	ff 75 0c	 push	 DWORD PTR _aRecv$[ebp]
  00183	e8 00 00 00 00	 call	 ?WaitFriendAddResult@@YAXPAUFHP_WAITFRIEND_ADD_RESULT@@@Z ; WaitFriendAddResult

; 188  : 			break;
; 189  : 
; 190  : 		case 0x74:
; 191  : 			FriendRoomInvitationRecv((FHP_FRIEND_INVITATION_RET *)aRecv);

  00188	83 c4 04	 add	 esp, 4

; 192  : 			break;
; 193  : 	}
; 194  : }

  0018b	5d		 pop	 ebp
  0018c	c3		 ret	 0
$LN34@ExDataServ:

; 164  : 			break;
; 165  : 
; 166  : 		case 0x65:
; 167  : 			FriendDelResult((FHP_FRIEND_DEL_RESULT *)aRecv);

  0018d	ff 75 0c	 push	 DWORD PTR _aRecv$[ebp]
  00190	e8 00 00 00 00	 call	 ?FriendDelResult@@YAXPAUFHP_FRIEND_DEL_RESULT@@@Z ; FriendDelResult

; 188  : 			break;
; 189  : 
; 190  : 		case 0x74:
; 191  : 			FriendRoomInvitationRecv((FHP_FRIEND_INVITATION_RET *)aRecv);

  00195	83 c4 04	 add	 esp, 4

; 192  : 			break;
; 193  : 	}
; 194  : }

  00198	5d		 pop	 ebp
  00199	c3		 ret	 0
$LN35@ExDataServ:

; 168  : 			break;
; 169  : 
; 170  : 		case 0x66:
; 171  : 			FriendChatRoomCreateResult((FHP_FRIEND_CHATROOM_CREATE_RESULT *)aRecv);

  0019a	ff 75 0c	 push	 DWORD PTR _aRecv$[ebp]
  0019d	e8 00 00 00 00	 call	 ?FriendChatRoomCreateResult@@YAXPAUFHP_FRIEND_CHATROOM_CREATE_RESULT@@@Z ; FriendChatRoomCreateResult

; 188  : 			break;
; 189  : 
; 190  : 		case 0x74:
; 191  : 			FriendRoomInvitationRecv((FHP_FRIEND_INVITATION_RET *)aRecv);

  001a2	83 c4 04	 add	 esp, 4

; 192  : 			break;
; 193  : 	}
; 194  : }

  001a5	5d		 pop	 ebp
  001a6	c3		 ret	 0
$LN36@ExDataServ:

; 172  : 			break;
; 173  : 
; 174  : 		case 0x70:
; 175  : 			FriendMemoSendResult((FHP_FRIEND_MEMO_SEND_RESULT *)aRecv);

  001a7	ff 75 0c	 push	 DWORD PTR _aRecv$[ebp]
  001aa	e8 00 00 00 00	 call	 ?FriendMemoSendResult@@YAXPAUFHP_FRIEND_MEMO_SEND_RESULT@@@Z ; FriendMemoSendResult

; 188  : 			break;
; 189  : 
; 190  : 		case 0x74:
; 191  : 			FriendRoomInvitationRecv((FHP_FRIEND_INVITATION_RET *)aRecv);

  001af	83 c4 04	 add	 esp, 4

; 192  : 			break;
; 193  : 	}
; 194  : }

  001b2	5d		 pop	 ebp
  001b3	c3		 ret	 0
$LN37@ExDataServ:

; 176  : 			break;
; 177  : 
; 178  : 		case 0x71:
; 179  : 			FriendMemoList((FHP_FRIEND_MEMO_LIST *)aRecv);

  001b4	ff 75 0c	 push	 DWORD PTR _aRecv$[ebp]
  001b7	e8 00 00 00 00	 call	 ?FriendMemoList@@YAXPAUFHP_FRIEND_MEMO_LIST@@@Z ; FriendMemoList

; 188  : 			break;
; 189  : 
; 190  : 		case 0x74:
; 191  : 			FriendRoomInvitationRecv((FHP_FRIEND_INVITATION_RET *)aRecv);

  001bc	83 c4 04	 add	 esp, 4

; 192  : 			break;
; 193  : 	}
; 194  : }

  001bf	5d		 pop	 ebp
  001c0	c3		 ret	 0
$LN38@ExDataServ:

; 180  : 			break;
; 181  : 
; 182  : 		case 0x72:
; 183  : 			FriendMemoRead((FHP_FRIEND_MEMO_RECV *)aRecv);

  001c1	ff 75 0c	 push	 DWORD PTR _aRecv$[ebp]
  001c4	e8 00 00 00 00	 call	 ?FriendMemoRead@@YAXPAUFHP_FRIEND_MEMO_RECV@@@Z ; FriendMemoRead

; 188  : 			break;
; 189  : 
; 190  : 		case 0x74:
; 191  : 			FriendRoomInvitationRecv((FHP_FRIEND_INVITATION_RET *)aRecv);

  001c9	83 c4 04	 add	 esp, 4

; 192  : 			break;
; 193  : 	}
; 194  : }

  001cc	5d		 pop	 ebp
  001cd	c3		 ret	 0
$LN39@ExDataServ:

; 184  : 			break;
; 185  : 
; 186  : 		case 0x73:
; 187  : 			FriendMemoDelResult((FHP_FRIEND_MEMO_DEL_RESULT *)aRecv);

  001ce	ff 75 0c	 push	 DWORD PTR _aRecv$[ebp]
  001d1	e8 00 00 00 00	 call	 ?FriendMemoDelResult@@YAXPAUFHP_FRIEND_MEMO_DEL_RESULT@@@Z ; FriendMemoDelResult

; 188  : 			break;
; 189  : 
; 190  : 		case 0x74:
; 191  : 			FriendRoomInvitationRecv((FHP_FRIEND_INVITATION_RET *)aRecv);

  001d6	83 c4 04	 add	 esp, 4

; 192  : 			break;
; 193  : 	}
; 194  : }

  001d9	5d		 pop	 ebp
  001da	c3		 ret	 0
$LN40@ExDataServ:

; 188  : 			break;
; 189  : 
; 190  : 		case 0x74:
; 191  : 			FriendRoomInvitationRecv((FHP_FRIEND_INVITATION_RET *)aRecv);

  001db	ff 75 0c	 push	 DWORD PTR _aRecv$[ebp]
  001de	e8 00 00 00 00	 call	 ?FriendRoomInvitationRecv@@YAXPAUFHP_FRIEND_INVITATION_RET@@@Z ; FriendRoomInvitationRecv
  001e3	83 c4 04	 add	 esp, 4
$LN2@ExDataServ:

; 192  : 			break;
; 193  : 	}
; 194  : }

  001e6	5d		 pop	 ebp
  001e7	c3		 ret	 0
$LN45@ExDataServ:
  001e8	00 00 00 00	 DD	 $LN6@ExDataServ
  001ec	00 00 00 00	 DD	 $LN7@ExDataServ
  001f0	00 00 00 00	 DD	 $LN8@ExDataServ
  001f4	00 00 00 00	 DD	 $LN9@ExDataServ
  001f8	00 00 00 00	 DD	 $LN10@ExDataServ
  001fc	00 00 00 00	 DD	 $LN11@ExDataServ
  00200	00 00 00 00	 DD	 $LN12@ExDataServ
  00204	00 00 00 00	 DD	 $LN13@ExDataServ
  00208	00 00 00 00	 DD	 $LN14@ExDataServ
  0020c	00 00 00 00	 DD	 $LN15@ExDataServ
  00210	00 00 00 00	 DD	 $LN16@ExDataServ
  00214	00 00 00 00	 DD	 $LN17@ExDataServ
  00218	00 00 00 00	 DD	 $LN18@ExDataServ
  0021c	00 00 00 00	 DD	 $LN19@ExDataServ
  00220	00 00 00 00	 DD	 $LN29@ExDataServ
  00224	00 00 00 00	 DD	 $LN30@ExDataServ
  00228	00 00 00 00	 DD	 $LN31@ExDataServ
  0022c	00 00 00 00	 DD	 $LN32@ExDataServ
  00230	00 00 00 00	 DD	 $LN33@ExDataServ
  00234	00 00 00 00	 DD	 $LN34@ExDataServ
  00238	00 00 00 00	 DD	 $LN35@ExDataServ
  0023c	00 00 00 00	 DD	 $LN36@ExDataServ
  00240	00 00 00 00	 DD	 $LN37@ExDataServ
  00244	00 00 00 00	 DD	 $LN38@ExDataServ
  00248	00 00 00 00	 DD	 $LN39@ExDataServ
  0024c	00 00 00 00	 DD	 $LN40@ExDataServ
  00250	00 00 00 00	 DD	 $LN20@ExDataServ
  00254	00 00 00 00	 DD	 $LN21@ExDataServ
  00258	00 00 00 00	 DD	 $LN22@ExDataServ
  0025c	00 00 00 00	 DD	 $LN23@ExDataServ
  00260	00 00 00 00	 DD	 $LN24@ExDataServ
  00264	00 00 00 00	 DD	 $LN25@ExDataServ
  00268	00 00 00 00	 DD	 $LN26@ExDataServ
  0026c	00 00 00 00	 DD	 $LN27@ExDataServ
  00270	00 00 00 00	 DD	 $LN2@ExDataServ
$LN42@ExDataServ:
  00274	00		 DB	 0
  00275	22		 DB	 34			; 00000022H
  00276	01		 DB	 1
  00277	22		 DB	 34			; 00000022H
  00278	22		 DB	 34			; 00000022H
  00279	22		 DB	 34			; 00000022H
  0027a	22		 DB	 34			; 00000022H
  0027b	22		 DB	 34			; 00000022H
  0027c	22		 DB	 34			; 00000022H
  0027d	22		 DB	 34			; 00000022H
  0027e	22		 DB	 34			; 00000022H
  0027f	22		 DB	 34			; 00000022H
  00280	22		 DB	 34			; 00000022H
  00281	22		 DB	 34			; 00000022H
  00282	22		 DB	 34			; 00000022H
  00283	22		 DB	 34			; 00000022H
  00284	22		 DB	 34			; 00000022H
  00285	22		 DB	 34			; 00000022H
  00286	22		 DB	 34			; 00000022H
  00287	22		 DB	 34			; 00000022H
  00288	22		 DB	 34			; 00000022H
  00289	22		 DB	 34			; 00000022H
  0028a	22		 DB	 34			; 00000022H
  0028b	22		 DB	 34			; 00000022H
  0028c	22		 DB	 34			; 00000022H
  0028d	22		 DB	 34			; 00000022H
  0028e	22		 DB	 34			; 00000022H
  0028f	22		 DB	 34			; 00000022H
  00290	22		 DB	 34			; 00000022H
  00291	22		 DB	 34			; 00000022H
  00292	22		 DB	 34			; 00000022H
  00293	22		 DB	 34			; 00000022H
  00294	22		 DB	 34			; 00000022H
  00295	22		 DB	 34			; 00000022H
  00296	22		 DB	 34			; 00000022H
  00297	22		 DB	 34			; 00000022H
  00298	22		 DB	 34			; 00000022H
  00299	22		 DB	 34			; 00000022H
  0029a	22		 DB	 34			; 00000022H
  0029b	22		 DB	 34			; 00000022H
  0029c	22		 DB	 34			; 00000022H
  0029d	22		 DB	 34			; 00000022H
  0029e	22		 DB	 34			; 00000022H
  0029f	22		 DB	 34			; 00000022H
  002a0	22		 DB	 34			; 00000022H
  002a1	22		 DB	 34			; 00000022H
  002a2	22		 DB	 34			; 00000022H
  002a3	22		 DB	 34			; 00000022H
  002a4	02		 DB	 2
  002a5	03		 DB	 3
  002a6	04		 DB	 4
  002a7	05		 DB	 5
  002a8	22		 DB	 34			; 00000022H
  002a9	06		 DB	 6
  002aa	07		 DB	 7
  002ab	08		 DB	 8
  002ac	09		 DB	 9
  002ad	22		 DB	 34			; 00000022H
  002ae	22		 DB	 34			; 00000022H
  002af	22		 DB	 34			; 00000022H
  002b0	22		 DB	 34			; 00000022H
  002b1	22		 DB	 34			; 00000022H
  002b2	22		 DB	 34			; 00000022H
  002b3	22		 DB	 34			; 00000022H
  002b4	0a		 DB	 10			; 0000000aH
  002b5	0b		 DB	 11			; 0000000bH
  002b6	22		 DB	 34			; 00000022H
  002b7	22		 DB	 34			; 00000022H
  002b8	22		 DB	 34			; 00000022H
  002b9	22		 DB	 34			; 00000022H
  002ba	22		 DB	 34			; 00000022H
  002bb	22		 DB	 34			; 00000022H
  002bc	22		 DB	 34			; 00000022H
  002bd	22		 DB	 34			; 00000022H
  002be	22		 DB	 34			; 00000022H
  002bf	22		 DB	 34			; 00000022H
  002c0	22		 DB	 34			; 00000022H
  002c1	22		 DB	 34			; 00000022H
  002c2	22		 DB	 34			; 00000022H
  002c3	22		 DB	 34			; 00000022H
  002c4	0c		 DB	 12			; 0000000cH
  002c5	0d		 DB	 13			; 0000000dH
  002c6	22		 DB	 34			; 00000022H
  002c7	22		 DB	 34			; 00000022H
  002c8	22		 DB	 34			; 00000022H
  002c9	22		 DB	 34			; 00000022H
  002ca	22		 DB	 34			; 00000022H
  002cb	22		 DB	 34			; 00000022H
  002cc	22		 DB	 34			; 00000022H
  002cd	22		 DB	 34			; 00000022H
  002ce	22		 DB	 34			; 00000022H
  002cf	22		 DB	 34			; 00000022H
  002d0	22		 DB	 34			; 00000022H
  002d1	22		 DB	 34			; 00000022H
  002d2	22		 DB	 34			; 00000022H
  002d3	22		 DB	 34			; 00000022H
  002d4	0e		 DB	 14			; 0000000eH
  002d5	0f		 DB	 15			; 0000000fH
  002d6	10		 DB	 16			; 00000010H
  002d7	11		 DB	 17			; 00000011H
  002d8	12		 DB	 18			; 00000012H
  002d9	13		 DB	 19			; 00000013H
  002da	14		 DB	 20			; 00000014H
  002db	22		 DB	 34			; 00000022H
  002dc	22		 DB	 34			; 00000022H
  002dd	22		 DB	 34			; 00000022H
  002de	22		 DB	 34			; 00000022H
  002df	22		 DB	 34			; 00000022H
  002e0	22		 DB	 34			; 00000022H
  002e1	22		 DB	 34			; 00000022H
  002e2	22		 DB	 34			; 00000022H
  002e3	22		 DB	 34			; 00000022H
  002e4	15		 DB	 21			; 00000015H
  002e5	16		 DB	 22			; 00000016H
  002e6	17		 DB	 23			; 00000017H
  002e7	18		 DB	 24			; 00000018H
  002e8	19		 DB	 25			; 00000019H
  002e9	22		 DB	 34			; 00000022H
  002ea	22		 DB	 34			; 00000022H
  002eb	22		 DB	 34			; 00000022H
  002ec	22		 DB	 34			; 00000022H
  002ed	22		 DB	 34			; 00000022H
  002ee	22		 DB	 34			; 00000022H
  002ef	22		 DB	 34			; 00000022H
  002f0	22		 DB	 34			; 00000022H
  002f1	22		 DB	 34			; 00000022H
  002f2	22		 DB	 34			; 00000022H
  002f3	22		 DB	 34			; 00000022H
  002f4	22		 DB	 34			; 00000022H
  002f5	22		 DB	 34			; 00000022H
  002f6	22		 DB	 34			; 00000022H
  002f7	22		 DB	 34			; 00000022H
  002f8	22		 DB	 34			; 00000022H
  002f9	22		 DB	 34			; 00000022H
  002fa	22		 DB	 34			; 00000022H
  002fb	22		 DB	 34			; 00000022H
  002fc	22		 DB	 34			; 00000022H
  002fd	22		 DB	 34			; 00000022H
  002fe	22		 DB	 34			; 00000022H
  002ff	22		 DB	 34			; 00000022H
  00300	22		 DB	 34			; 00000022H
  00301	22		 DB	 34			; 00000022H
  00302	22		 DB	 34			; 00000022H
  00303	22		 DB	 34			; 00000022H
  00304	22		 DB	 34			; 00000022H
  00305	22		 DB	 34			; 00000022H
  00306	22		 DB	 34			; 00000022H
  00307	22		 DB	 34			; 00000022H
  00308	22		 DB	 34			; 00000022H
  00309	22		 DB	 34			; 00000022H
  0030a	22		 DB	 34			; 00000022H
  0030b	22		 DB	 34			; 00000022H
  0030c	22		 DB	 34			; 00000022H
  0030d	22		 DB	 34			; 00000022H
  0030e	22		 DB	 34			; 00000022H
  0030f	22		 DB	 34			; 00000022H
  00310	22		 DB	 34			; 00000022H
  00311	22		 DB	 34			; 00000022H
  00312	22		 DB	 34			; 00000022H
  00313	22		 DB	 34			; 00000022H
  00314	22		 DB	 34			; 00000022H
  00315	22		 DB	 34			; 00000022H
  00316	22		 DB	 34			; 00000022H
  00317	22		 DB	 34			; 00000022H
  00318	22		 DB	 34			; 00000022H
  00319	22		 DB	 34			; 00000022H
  0031a	22		 DB	 34			; 00000022H
  0031b	22		 DB	 34			; 00000022H
  0031c	22		 DB	 34			; 00000022H
  0031d	22		 DB	 34			; 00000022H
  0031e	22		 DB	 34			; 00000022H
  0031f	22		 DB	 34			; 00000022H
  00320	22		 DB	 34			; 00000022H
  00321	22		 DB	 34			; 00000022H
  00322	22		 DB	 34			; 00000022H
  00323	22		 DB	 34			; 00000022H
  00324	22		 DB	 34			; 00000022H
  00325	22		 DB	 34			; 00000022H
  00326	22		 DB	 34			; 00000022H
  00327	22		 DB	 34			; 00000022H
  00328	22		 DB	 34			; 00000022H
  00329	22		 DB	 34			; 00000022H
  0032a	22		 DB	 34			; 00000022H
  0032b	22		 DB	 34			; 00000022H
  0032c	22		 DB	 34			; 00000022H
  0032d	22		 DB	 34			; 00000022H
  0032e	22		 DB	 34			; 00000022H
  0032f	22		 DB	 34			; 00000022H
  00330	22		 DB	 34			; 00000022H
  00331	22		 DB	 34			; 00000022H
  00332	22		 DB	 34			; 00000022H
  00333	22		 DB	 34			; 00000022H
  00334	22		 DB	 34			; 00000022H
  00335	22		 DB	 34			; 00000022H
  00336	22		 DB	 34			; 00000022H
  00337	22		 DB	 34			; 00000022H
  00338	22		 DB	 34			; 00000022H
  00339	22		 DB	 34			; 00000022H
  0033a	22		 DB	 34			; 00000022H
  0033b	22		 DB	 34			; 00000022H
  0033c	22		 DB	 34			; 00000022H
  0033d	22		 DB	 34			; 00000022H
  0033e	22		 DB	 34			; 00000022H
  0033f	22		 DB	 34			; 00000022H
  00340	22		 DB	 34			; 00000022H
  00341	22		 DB	 34			; 00000022H
  00342	22		 DB	 34			; 00000022H
  00343	22		 DB	 34			; 00000022H
  00344	22		 DB	 34			; 00000022H
  00345	22		 DB	 34			; 00000022H
  00346	22		 DB	 34			; 00000022H
  00347	22		 DB	 34			; 00000022H
  00348	22		 DB	 34			; 00000022H
  00349	22		 DB	 34			; 00000022H
  0034a	22		 DB	 34			; 00000022H
  0034b	22		 DB	 34			; 00000022H
  0034c	22		 DB	 34			; 00000022H
  0034d	22		 DB	 34			; 00000022H
  0034e	22		 DB	 34			; 00000022H
  0034f	22		 DB	 34			; 00000022H
  00350	22		 DB	 34			; 00000022H
  00351	22		 DB	 34			; 00000022H
  00352	22		 DB	 34			; 00000022H
  00353	22		 DB	 34			; 00000022H
  00354	22		 DB	 34			; 00000022H
  00355	1a		 DB	 26			; 0000001aH
  00356	1b		 DB	 27			; 0000001bH
  00357	22		 DB	 34			; 00000022H
  00358	22		 DB	 34			; 00000022H
  00359	1c		 DB	 28			; 0000001cH
  0035a	1d		 DB	 29			; 0000001dH
  0035b	1e		 DB	 30			; 0000001eH
  0035c	1f		 DB	 31			; 0000001fH
  0035d	20		 DB	 32			; 00000020H
  0035e	22		 DB	 34			; 00000022H
  0035f	21		 DB	 33			; 00000021H
?ExDataServerProtocolCore@@YAXEPAEH@Z ENDP		; ExDataServerProtocolCore
_TEXT	ENDS
; Function compile flags: /Ogtp
; File c:\users\michel\desktop\source\gameserver\include\prodef.h
;	COMDAT ?set@PBMSG_HEAD2@@QAEXPAEEEE@Z
_TEXT	SEGMENT
_lpBuf$ = 8						; size = 4
_head$ = 12						; size = 1
_sub$ = 16						; size = 1
_size$ = 20						; size = 1
?set@PBMSG_HEAD2@@QAEXPAEEEE@Z PROC			; PBMSG_HEAD2::set, COMDAT
; _this$ = ecx

; 139  : 	{

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp

; 140  : 		lpBuf[0] = 0xC1;

  00003	8b 4d 08	 mov	 ecx, DWORD PTR _lpBuf$[ebp]

; 141  : 		lpBuf[1] = size;

  00006	8a 45 14	 mov	 al, BYTE PTR _size$[ebp]
  00009	88 41 01	 mov	 BYTE PTR [ecx+1], al

; 142  : 		lpBuf[2] = head;

  0000c	8a 45 0c	 mov	 al, BYTE PTR _head$[ebp]
  0000f	88 41 02	 mov	 BYTE PTR [ecx+2], al

; 143  : 		lpBuf[3] = sub;

  00012	8a 45 10	 mov	 al, BYTE PTR _sub$[ebp]
  00015	c6 01 c1	 mov	 BYTE PTR [ecx], 193	; 000000c1H
  00018	88 41 03	 mov	 BYTE PTR [ecx+3], al

; 144  : 	};

  0001b	5d		 pop	 ebp
  0001c	c2 10 00	 ret	 16			; 00000010H
?set@PBMSG_HEAD2@@QAEXPAEEEE@Z ENDP			; PBMSG_HEAD2::set
_TEXT	ENDS
; Function compile flags: /Ogtp
; File c:\users\michel\desktop\source\gameserver\include\prodef.h
;	COMDAT ?setE@PWMSG_HEAD@@QAEXPAEEH@Z
_TEXT	SEGMENT
_lpBuf$ = 8						; size = 4
_head$ = 12						; size = 1
_size$ = 16						; size = 4
?setE@PWMSG_HEAD@@QAEXPAEEH@Z PROC			; PWMSG_HEAD::setE, COMDAT
; _this$ = ecx

; 118  : 	{

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp

; 119  : 		lpBuf[0] = 0xC4;

  00003	8b 55 08	 mov	 edx, DWORD PTR _lpBuf$[ebp]

; 120  : 		lpBuf[1] = SET_NUMBERH(size);

  00006	8b 4d 10	 mov	 ecx, DWORD PTR _size$[ebp]
  00009	8b c1		 mov	 eax, ecx
  0000b	c1 e8 08	 shr	 eax, 8
  0000e	88 42 01	 mov	 BYTE PTR [edx+1], al

; 121  : 		lpBuf[2] = SET_NUMBERL(size);
; 122  : 		lpBuf[3] = head;

  00011	8a 45 0c	 mov	 al, BYTE PTR _head$[ebp]
  00014	c6 02 c4	 mov	 BYTE PTR [edx], 196	; 000000c4H
  00017	88 4a 02	 mov	 BYTE PTR [edx+2], cl
  0001a	88 42 03	 mov	 BYTE PTR [edx+3], al

; 123  : 	};

  0001d	5d		 pop	 ebp
  0001e	c2 0c 00	 ret	 12			; 0000000cH
?setE@PWMSG_HEAD@@QAEXPAEEH@Z ENDP			; PWMSG_HEAD::setE
_TEXT	ENDS
; Function compile flags: /Ogtp
; File c:\users\michel\desktop\source\gameserver\include\prodef.h
;	COMDAT ?set@PWMSG_HEAD@@QAEXPAEEH@Z
_TEXT	SEGMENT
_lpBuf$ = 8						; size = 4
_head$ = 12						; size = 1
_size$ = 16						; size = 4
?set@PWMSG_HEAD@@QAEXPAEEH@Z PROC			; PWMSG_HEAD::set, COMDAT
; _this$ = ecx

; 110  : 	{

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp

; 111  : 		lpBuf[0] = 0xC2;

  00003	8b 55 08	 mov	 edx, DWORD PTR _lpBuf$[ebp]

; 112  : 		lpBuf[1] = SET_NUMBERH(size);

  00006	8b 4d 10	 mov	 ecx, DWORD PTR _size$[ebp]
  00009	8b c1		 mov	 eax, ecx
  0000b	c1 e8 08	 shr	 eax, 8
  0000e	88 42 01	 mov	 BYTE PTR [edx+1], al

; 113  : 		lpBuf[2] = SET_NUMBERL(size);
; 114  : 		lpBuf[3] = head;

  00011	8a 45 0c	 mov	 al, BYTE PTR _head$[ebp]
  00014	c6 02 c2	 mov	 BYTE PTR [edx], 194	; 000000c2H
  00017	88 4a 02	 mov	 BYTE PTR [edx+2], cl
  0001a	88 42 03	 mov	 BYTE PTR [edx+3], al

; 115  : 	};

  0001d	5d		 pop	 ebp
  0001e	c2 0c 00	 ret	 12			; 0000000cH
?set@PWMSG_HEAD@@QAEXPAEEH@Z ENDP			; PWMSG_HEAD::set
_TEXT	ENDS
; Function compile flags: /Ogtp
; File c:\users\michel\desktop\source\gameserver\include\prodef.h
;	COMDAT ?setE@PBMSG_HEAD@@QAEXPAEEE@Z
_TEXT	SEGMENT
_lpBuf$ = 8						; size = 4
_head$ = 12						; size = 1
_size$ = 16						; size = 1
?setE@PBMSG_HEAD@@QAEXPAEEE@Z PROC			; PBMSG_HEAD::setE, COMDAT
; _this$ = ecx

; 92   : 	{

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp

; 93   : 		lpBuf[0] = 0xC3;

  00003	8b 4d 08	 mov	 ecx, DWORD PTR _lpBuf$[ebp]

; 94   : 		lpBuf[1] = size;

  00006	8a 45 10	 mov	 al, BYTE PTR _size$[ebp]
  00009	88 41 01	 mov	 BYTE PTR [ecx+1], al

; 95   : 		lpBuf[2] = head;

  0000c	8a 45 0c	 mov	 al, BYTE PTR _head$[ebp]
  0000f	c6 01 c3	 mov	 BYTE PTR [ecx], 195	; 000000c3H
  00012	88 41 02	 mov	 BYTE PTR [ecx+2], al

; 96   : 	};	// line : 29

  00015	5d		 pop	 ebp
  00016	c2 0c 00	 ret	 12			; 0000000cH
?setE@PBMSG_HEAD@@QAEXPAEEE@Z ENDP			; PBMSG_HEAD::setE
_TEXT	ENDS
; Function compile flags: /Ogtp
; File c:\users\michel\desktop\source\gameserver\include\prodef.h
;	COMDAT ?set@PBMSG_HEAD@@QAEXPAEEE@Z
_TEXT	SEGMENT
_lpBuf$ = 8						; size = 4
_head$ = 12						; size = 1
_size$ = 16						; size = 1
?set@PBMSG_HEAD@@QAEXPAEEE@Z PROC			; PBMSG_HEAD::set, COMDAT
; _this$ = ecx

; 85   : 	{

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp

; 86   : 		lpBuf[0] = 0xC1;

  00003	8b 4d 08	 mov	 ecx, DWORD PTR _lpBuf$[ebp]

; 87   : 		lpBuf[1] = size;

  00006	8a 45 10	 mov	 al, BYTE PTR _size$[ebp]
  00009	88 41 01	 mov	 BYTE PTR [ecx+1], al

; 88   : 		lpBuf[2] = head;

  0000c	8a 45 0c	 mov	 al, BYTE PTR _head$[ebp]
  0000f	c6 01 c1	 mov	 BYTE PTR [ecx], 193	; 000000c1H
  00012	88 41 02	 mov	 BYTE PTR [ecx+2], al

; 89   : 	};	// line : 22

  00015	5d		 pop	 ebp
  00016	c2 0c 00	 ret	 12			; 0000000cH
?set@PBMSG_HEAD@@QAEXPAEEE@Z ENDP			; PBMSG_HEAD::set
_TEXT	ENDS
; Function compile flags: /Ogtp
;	COMDAT ??_EOBJECTSTRUCT@@QAEPAXI@Z
_TEXT	SEGMENT
__$EHRec$ = -12						; size = 12
___flags$ = 8						; size = 4
??_EOBJECTSTRUCT@@QAEPAXI@Z PROC			; OBJECTSTRUCT::`vector deleting destructor', COMDAT
; _this$ = ecx
  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	6a ff		 push	 -1
  00005	68 00 00 00 00	 push	 __ehhandler$??_EOBJECTSTRUCT@@QAEPAXI@Z
  0000a	64 a1 00 00 00
	00		 mov	 eax, DWORD PTR fs:0
  00010	50		 push	 eax
  00011	53		 push	 ebx
  00012	56		 push	 esi
  00013	57		 push	 edi
  00014	a1 00 00 00 00	 mov	 eax, DWORD PTR ___security_cookie
  00019	33 c5		 xor	 eax, ebp
  0001b	50		 push	 eax
  0001c	8d 45 f4	 lea	 eax, DWORD PTR __$EHRec$[ebp]
  0001f	64 a3 00 00 00
	00		 mov	 DWORD PTR fs:0, eax
  00025	8b f1		 mov	 esi, ecx
  00027	8b 5d 08	 mov	 ebx, DWORD PTR ___flags$[ebp]
  0002a	f6 c3 02	 test	 bl, 2
  0002d	74 44		 je	 SHORT $LN2@vector
  0002f	68 00 00 00 00	 push	 OFFSET ??1OBJECTSTRUCT@@QAE@XZ
  00034	ff 76 fc	 push	 DWORD PTR [esi-4]
  00037	8d 7e fc	 lea	 edi, DWORD PTR [esi-4]
  0003a	68 40 27 00 00	 push	 10048			; 00002740H
  0003f	56		 push	 esi
  00040	e8 00 00 00 00	 call	 ??_M@YGXPAXIIP6EX0@Z@Z
  00045	f6 c3 01	 test	 bl, 1
  00048	74 13		 je	 SHORT $LN3@vector
  0004a	69 0f 40 27 00
	00		 imul	 ecx, DWORD PTR [edi], 10048
  00050	83 c1 04	 add	 ecx, 4
  00053	51		 push	 ecx
  00054	57		 push	 edi
  00055	e8 00 00 00 00	 call	 ??_V@YAXPAXI@Z		; operator delete[]
  0005a	83 c4 08	 add	 esp, 8
$LN3@vector:
  0005d	8b c7		 mov	 eax, edi
  0005f	8b 4d f4	 mov	 ecx, DWORD PTR __$EHRec$[ebp]
  00062	64 89 0d 00 00
	00 00		 mov	 DWORD PTR fs:0, ecx
  00069	59		 pop	 ecx
  0006a	5f		 pop	 edi
  0006b	5e		 pop	 esi
  0006c	5b		 pop	 ebx
  0006d	8b e5		 mov	 esp, ebp
  0006f	5d		 pop	 ebp
  00070	c2 04 00	 ret	 4
$LN2@vector:
  00073	8d 8e ec 20 00
	00		 lea	 ecx, DWORD PTR [esi+8428]
  00079	e8 00 00 00 00	 call	 ??1TMonsterAIAgro@@UAE@XZ ; TMonsterAIAgro::~TMonsterAIAgro
  0007e	8d 8e 0c 16 00
	00		 lea	 ecx, DWORD PTR [esi+5644]
  00084	e8 00 00 00 00	 call	 ??1CSkillDelay@@UAE@XZ	; CSkillDelay::~CSkillDelay
  00089	f6 c3 01	 test	 bl, 1
  0008c	74 0e		 je	 SHORT $LN4@vector
  0008e	68 40 27 00 00	 push	 10048			; 00002740H
  00093	56		 push	 esi
  00094	e8 00 00 00 00	 call	 ??3@YAXPAXI@Z		; operator delete
  00099	83 c4 08	 add	 esp, 8
$LN4@vector:
  0009c	8b c6		 mov	 eax, esi
  0009e	8b 4d f4	 mov	 ecx, DWORD PTR __$EHRec$[ebp]
  000a1	64 89 0d 00 00
	00 00		 mov	 DWORD PTR fs:0, ecx
  000a8	59		 pop	 ecx
  000a9	5f		 pop	 edi
  000aa	5e		 pop	 esi
  000ab	5b		 pop	 ebx
  000ac	8b e5		 mov	 esp, ebp
  000ae	5d		 pop	 ebp
  000af	c2 04 00	 ret	 4
_TEXT	ENDS
;	COMDAT text$x
text$x	SEGMENT
__ehhandler$??_EOBJECTSTRUCT@@QAEPAXI@Z:
  00000	8b 54 24 08	 mov	 edx, DWORD PTR [esp+8]
  00004	8d 42 0c	 lea	 eax, DWORD PTR [edx+12]
  00007	8b 4a f0	 mov	 ecx, DWORD PTR [edx-16]
  0000a	33 c8		 xor	 ecx, eax
  0000c	e8 00 00 00 00	 call	 @__security_check_cookie@4
  00011	b8 00 00 00 00	 mov	 eax, OFFSET __ehfuncinfo$??_EOBJECTSTRUCT@@QAEPAXI@Z
  00016	e9 00 00 00 00	 jmp	 ___CxxFrameHandler3
text$x	ENDS
??_EOBJECTSTRUCT@@QAEPAXI@Z ENDP			; OBJECTSTRUCT::`vector deleting destructor'
; Function compile flags: /Ogtp
;	COMDAT ??1OBJECTSTRUCT@@QAE@XZ
_TEXT	SEGMENT
??1OBJECTSTRUCT@@QAE@XZ PROC				; OBJECTSTRUCT::~OBJECTSTRUCT, COMDAT
; _this$ = ecx
  00000	56		 push	 esi
  00001	8b f1		 mov	 esi, ecx
  00003	8d 8e ec 20 00
	00		 lea	 ecx, DWORD PTR [esi+8428]
  00009	e8 00 00 00 00	 call	 ??1TMonsterAIAgro@@UAE@XZ ; TMonsterAIAgro::~TMonsterAIAgro
  0000e	8d 8e 0c 16 00
	00		 lea	 ecx, DWORD PTR [esi+5644]
  00014	5e		 pop	 esi
  00015	e9 00 00 00 00	 jmp	 ??1CSkillDelay@@UAE@XZ	; CSkillDelay::~CSkillDelay
??1OBJECTSTRUCT@@QAE@XZ ENDP				; OBJECTSTRUCT::~OBJECTSTRUCT
_TEXT	ENDS
; Function compile flags: /Ogtp
; File c:\users\michel\desktop\source\gameserver\source\guildclass.h
;	COMDAT ?SetTimeStamp@_GUILD_INFO_STRUCT@@QAEXXZ
_TEXT	SEGMENT
?SetTimeStamp@_GUILD_INFO_STRUCT@@QAEXXZ PROC		; _GUILD_INFO_STRUCT::SetTimeStamp, COMDAT
; _this$ = ecx

; 150  : 		this->iTimeStamp++;

  00000	ff 81 4c 07 00
	00		 inc	 DWORD PTR [ecx+1868]

; 151  : 	};	// line : 119

  00006	c3		 ret	 0
?SetTimeStamp@_GUILD_INFO_STRUCT@@QAEXXZ ENDP		; _GUILD_INFO_STRUCT::SetTimeStamp
_TEXT	ENDS
; Function compile flags: /Ogtp
; File c:\users\michel\desktop\source\gameserver\source\guildclass.h
;	COMDAT ?SetGuildRival@_GUILD_INFO_STRUCT@@QAEXH@Z
_TEXT	SEGMENT
_iGuildNumber$ = 8					; size = 4
?SetGuildRival@_GUILD_INFO_STRUCT@@QAEXH@Z PROC		; _GUILD_INFO_STRUCT::SetGuildRival, COMDAT
; _this$ = ecx

; 143  : 	{

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp

; 144  : 		this->iGuildRival = iGuildNumber;

  00003	8b 45 08	 mov	 eax, DWORD PTR _iGuildNumber$[ebp]

; 147  : 
; 148  : 	void SetTimeStamp()	// line : 117
; 149  : 	{
; 150  : 		this->iTimeStamp++;

  00006	ff 81 4c 07 00
	00		 inc	 DWORD PTR [ecx+1868]

; 144  : 		this->iGuildRival = iGuildNumber;

  0000c	89 81 48 07 00
	00		 mov	 DWORD PTR [ecx+1864], eax

; 145  : 		this->SetTimeStamp();
; 146  : 	};	// line : 111

  00012	5d		 pop	 ebp
  00013	c2 04 00	 ret	 4
?SetGuildRival@_GUILD_INFO_STRUCT@@QAEXH@Z ENDP		; _GUILD_INFO_STRUCT::SetGuildRival
_TEXT	ENDS
; Function compile flags: /Ogtp
; File c:\users\michel\desktop\source\gameserver\source\guildclass.h
;	COMDAT ?SetGuildUnion@_GUILD_INFO_STRUCT@@QAEXH@Z
_TEXT	SEGMENT
_iGuildNumber$ = 8					; size = 4
?SetGuildUnion@_GUILD_INFO_STRUCT@@QAEXH@Z PROC		; _GUILD_INFO_STRUCT::SetGuildUnion, COMDAT
; _this$ = ecx

; 137  : 	{

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp

; 138  : 		this->iGuildUnion = iGuildNumber;

  00003	8b 45 08	 mov	 eax, DWORD PTR _iGuildNumber$[ebp]

; 141  : 
; 142  : 	void SetGuildRival(int iGuildNumber)	// line : 108
; 143  : 	{
; 144  : 		this->iGuildRival = iGuildNumber;
; 145  : 		this->SetTimeStamp();
; 146  : 	};	// line : 111
; 147  : 
; 148  : 	void SetTimeStamp()	// line : 117
; 149  : 	{
; 150  : 		this->iTimeStamp++;

  00006	ff 81 4c 07 00
	00		 inc	 DWORD PTR [ecx+1868]

; 138  : 		this->iGuildUnion = iGuildNumber;

  0000c	89 81 44 07 00
	00		 mov	 DWORD PTR [ecx+1860], eax

; 139  : 		this->SetTimeStamp();
; 140  : 	};	// line : 105

  00012	5d		 pop	 ebp
  00013	c2 04 00	 ret	 4
?SetGuildUnion@_GUILD_INFO_STRUCT@@QAEXH@Z ENDP		; _GUILD_INFO_STRUCT::SetGuildUnion
_TEXT	ENDS
; Function compile flags: /Ogtp
; File c:\users\michel\desktop\source\gameserver\source\edsprotocol.cpp
;	COMDAT ?__empty_global_delete@@YAXPAXI@Z
_TEXT	SEGMENT
___formal$ = 8						; size = 4
___formal$ = 12						; size = 4
?__empty_global_delete@@YAXPAXI@Z PROC			; __empty_global_delete, COMDAT

  00000	c3		 ret	 0
?__empty_global_delete@@YAXPAXI@Z ENDP			; __empty_global_delete
_TEXT	ENDS
; Function compile flags: /Ogtp
; File c:\users\michel\desktop\source\gameserver\source\edsprotocol.cpp
;	COMDAT ?__empty_global_delete@@YAXPAX@Z
_TEXT	SEGMENT
___formal$ = 8						; size = 4
?__empty_global_delete@@YAXPAX@Z PROC			; __empty_global_delete, COMDAT

; 3138 : }

  00000	c3		 ret	 0
?__empty_global_delete@@YAXPAX@Z ENDP			; __empty_global_delete
_TEXT	ENDS
END
